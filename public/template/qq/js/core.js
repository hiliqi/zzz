/*
 art-template - Template Engine | http://aui.github.com/artTemplate/ Raven.js 3.26.4 (409f3b4) | github.com/getsentry/raven-js  For license information please see beacon_web.min.js.LICENSE.txt */
! function(t, e) {
    "function" == typeof define && define.amd ? define(function() {
        return e(t)
    }) : e(t)
}(this, function(t) {
    var e = function() {
        function A(t) {
            return null == t ? String(t) : S[j.call(t)] || "object"
        }

        function L(t) {
            return "function" == A(t)
        }

        function k(t) {
            return null != t && t == t.window
        }

        function F(t) {
            return null != t && t.nodeType == t.DOCUMENT_NODE
        }

        function R(t) {
            return "object" == A(t)
        }

        function $(t) {
            return R(t) && !k(t) && Object.getPrototypeOf(t) == Object.prototype
        }

        function _(t) {
            var e = !!t && "length" in t && t.length,
                n = i.type(t);
            return "function" !=
                n && !k(t) && ("array" == n || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
        }

        function Z(t) {
            return s.call(t, function(t) {
                return null != t
            })
        }

        function z(t) {
            return t.length > 0 ? i.fn.concat.apply([], t) : t
        }

        function I(t) {
            return t.replace(/::/g, "/")
                .replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2")
                .replace(/([a-z\d])([A-Z])/g, "$1_$2")
                .replace(/_/g, "-")
                .toLowerCase()
        }

        function B(t) {
            return t in l ? l[t] : l[t] = new RegExp("(^|\\s)" + t + "(\\s|$)")
        }

        function q(t, e) {
            return "number" != typeof e || h[I(t)] ? e : e + "px"
        }

        function V(t) {
            var e, n;
            return f[t] || (e =
                c.createElement(t), c.body.appendChild(e), n = getComputedStyle(e, "")
                .getPropertyValue("display"), e.parentNode.removeChild(e), "none" == n && (n = "block"), f[t] = n), f[t]
        }

        function H(t) {
            return "children" in t ? u.call(t.children) : i.map(t.childNodes, function(t) {
                return 1 == t.nodeType ? t : void 0
            })
        }

        function U(t, e) {
            var n, i = t ? t.length : 0;
            for (n = 0; i > n; n++) this[n] = t[n];
            this.length = i, this.selector = e || ""
        }

        function X(t, i, r) {
            for (n in i) r && ($(i[n]) || D(i[n])) ? ($(i[n]) && !$(t[n]) && (t[n] = {}), D(i[n]) && !D(t[n]) && (t[n] = []), X(t[n], i[n], r)) :
                i[n] !== e && (t[n] = i[n])
        }

        function W(t, e) {
            return null == e ? i(t) : i(t)
                .filter(e)
        }

        function Y(t, e, n, i) {
            return L(e) ? e.call(t, n, i) : e
        }

        function J(t, e, n) {
            null == n ? t.removeAttribute(e) : t.setAttribute(e, n)
        }

        function G(t, n) {
            var i = t.className || "",
                r = i && i.baseVal !== e;
            return n === e ? r ? i.baseVal : i : void(r ? i.baseVal = n : t.className = n)
        }

        function K(t) {
            try {
                return t ? "true" == t || ("false" == t ? !1 : "null" == t ? null : +t + "" == t ? +t : /^[\[\{]/.test(t) ? i.parseJSON(t) : t) : t
            } catch (e$0) {
                return t
            }
        }

        function Q(t, e) {
            e(t);
            for (var n = 0, i = t.childNodes.length; i >
            n; n++) Q(t.childNodes[n], e)
        }
        var e, n, i, r, P, N, o = [],
            a = o.concat,
            s = o.filter,
            u = o.slice,
            c = t.document,
            f = {},
            l = {},
            h = {
                "column-count": 1,
                columns: 1,
                "font-weight": 1,
                "line-height": 1,
                opacity: 1,
                "z-index": 1,
                zoom: 1
            },
            p = /^\s*<(\w+|!)[^>]*>/,
            d = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
            m = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
            g = /^(?:body|html)$/i,
            v = /([A-Z])/g,
            y = ["val", "css", "html", "text", "data", "width", "height", "offset"],
            b = ["after", "prepend", "before", "append"],
            x = c.createElement("table"),
            E = c.createElement("tr"),
            T = {
                tr: c.createElement("tbody"),
                tbody: x,
                thead: x,
                tfoot: x,
                td: E,
                th: E,
                "*": c.createElement("div")
            },
            w = /^[\w-]*$/,
            S = {},
            j = S.toString,
            C = {},
            O = c.createElement("div"),
            M = {
                tabindex: "tabIndex",
                readonly: "readOnly",
                "for": "htmlFor",
                "class": "className",
                maxlength: "maxLength",
                cellspacing: "cellSpacing",
                cellpadding: "cellPadding",
                rowspan: "rowSpan",
                colspan: "colSpan",
                usemap: "useMap",
                frameborder: "frameBorder",
                contenteditable: "contentEditable"
            },
            D = Array.isArray || function(t) {
                return t instanceof Array
            };
        return C.matches = function(t,
                                    e) {
            if (!e || !t || 1 !== t.nodeType) return !1;
            var n = t.matches || t.webkitMatchesSelector || t.mozMatchesSelector || t.oMatchesSelector || t.matchesSelector;
            if (n) return n.call(t, e);
            var i, r = t.parentNode,
                o = !r;
            return o && (r = O)
                .appendChild(t), i = ~C.qsa(r, e)
                .indexOf(t), o && O.removeChild(t), i
        }, P = function(t) {
            return t.replace(/-+(.)?/g, function(t, e) {
                return e ? e.toUpperCase() : ""
            })
        }, N = function(t) {
            return s.call(t, function(e, n) {
                return t.indexOf(e) == n
            })
        }, C.fragment = function(t, n, r) {
            var o, a, s;
            return d.test(t) && (o = i(c.createElement(RegExp.$1))),
            o || (t.replace && (t = t.replace(m, "<$1></$2>")), n === e && (n = p.test(t) && RegExp.$1), n in T || (n = "*"), s = T[n], s.innerHTML = "" + t, o = i.each(u.call(s.childNodes), function() {
                s.removeChild(this)
            })), $(r) && (a = i(o), i.each(r, function(t, e) {
                y.indexOf(t) > -1 ? a[t](e) : a.attr(t, e)
            })), o
        }, C.Z = function(t, e) {
            return new U(t, e)
        }, C.isZ = function(t) {
            return t instanceof C.Z
        }, C.init = function(t, n) {
            var r;
            if (!t) return C.Z();
            if ("string" == typeof t)
                if (t = t.trim(), "<" == t[0] && p.test(t)) r = C.fragment(t, RegExp.$1, n), t = null;
                else {
                    if (n !== e) return i(n)
                        .find(t);
                    r = C.qsa(c, t)
                }
            else {
                if (L(t)) return i(c)
                    .ready(t);
                if (C.isZ(t)) return t;
                if (D(t)) r = Z(t);
                else if (R(t)) r = [t], t = null;
                else if (p.test(t)) r = C.fragment(t.trim(), RegExp.$1, n), t = null;
                else {
                    if (n !== e) return i(n)
                        .find(t);
                    r = C.qsa(c, t)
                }
            }
            return C.Z(r, t)
        }, i = function(t, e) {
            return C.init(t, e)
        }, i.extend = function(t) {
            var e, n = u.call(arguments, 1);
            return "boolean" == typeof t && (e = t, t = n.shift()), n.forEach(function(n) {
                X(t, n, e)
            }), t
        }, C.qsa = function(t, e) {
            var n, i = "#" == e[0],
                r = !i && "." == e[0],
                o = i || r ? e.slice(1) : e,
                a = w.test(o);
            return t.getElementById &&
            a && i ? (n = t.getElementById(o)) ? [n] : [] : 1 !== t.nodeType && 9 !== t.nodeType && 11 !== t.nodeType ? [] : u.call(a && !i && t.getElementsByClassName ? r ? t.getElementsByClassName(o) : t.getElementsByTagName(e) : t.querySelectorAll(e))
        }, i.contains = c.documentElement.contains ? function(t, e) {
            return t !== e && t.contains(e)
        } : function(t, e) {
            for (; e && (e = e.parentNode);)
                if (e === t) return !0;
            return !1
        }, i.type = A, i.isFunction = L, i.isWindow = k, i.isArray = D, i.isPlainObject = $, i.isEmptyObject = function(t) {
            var e;
            for (e in t) return !1;
            return !0
        }, i.isNumeric = function(t) {
            var e =
                    Number(t),
                n = typeof t;
            return null != t && "boolean" != n && ("string" != n || t.length) && !isNaN(e) && isFinite(e) || !1
        }, i.inArray = function(t, e, n) {
            return o.indexOf.call(e, t, n)
        }, i.camelCase = P, i.trim = function(t) {
            return null == t ? "" : String.prototype.trim.call(t)
        }, i.uuid = 0, i.support = {}, i.expr = {}, i.noop = function() {}, i.map = function(t, e) {
            var n, r, o, i = [];
            if (_(t))
                for (r = 0; r < t.length; r++) n = e(t[r], r), null != n && i.push(n);
            else
                for (o in t) n = e(t[o], o), null != n && i.push(n);
            return z(i)
        }, i.each = function(t, e) {
            var n, i;
            if (_(t))
                for (n = 0; n < t.length; n++) {
                    if (e.call(t[n],
                        n, t[n]) === !1) return t
                } else
                for (i in t)
                    if (e.call(t[i], i, t[i]) === !1) return t;
            return t
        }, i.grep = function(t, e) {
            return s.call(t, e)
        }, t.JSON && (i.parseJSON = JSON.parse), i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(t, e) {
            S["[object " + e + "]"] = e.toLowerCase()
        }), i.fn = {
            constructor: C.Z,
            length: 0,
            forEach: o.forEach,
            reduce: o.reduce,
            push: o.push,
            sort: o.sort,
            splice: o.splice,
            indexOf: o.indexOf,
            concat: function() {
                var t, e, n = [];
                for (t = 0; t < arguments.length; t++) e = arguments[t], n[t] = C.isZ(e) ?
                    e.toArray() : e;
                return a.apply(C.isZ(this) ? this.toArray() : this, n)
            },
            map: function(t) {
                return i(i.map(this, function(e, n) {
                    return t.call(e, n, e)
                }))
            },
            slice: function() {
                return i(u.apply(this, arguments))
            },
            ready: function(e) {
                if ("complete" === c.readyState || "loading" !== c.readyState && !c.documentElement.doScroll) setTimeout(function() {
                    e(i)
                }, 0);
                else {
                    var n = function() {
                        c.removeEventListener("DOMContentLoaded", n, !1), t.removeEventListener("load", n, !1), e(i)
                    };
                    c.addEventListener("DOMContentLoaded", n, !1), t.addEventListener("load",
                        n, !1)
                }
                return this
            },
            get: function(t) {
                return t === e ? u.call(this) : this[t >= 0 ? t : t + this.length]
            },
            toArray: function() {
                return this.get()
            },
            size: function() {
                return this.length
            },
            remove: function() {
                return this.each(function() {
                    null != this.parentNode && this.parentNode.removeChild(this)
                })
            },
            each: function(t) {
                return o.every.call(this, function(e, n) {
                    return t.call(e, n, e) !== !1
                }), this
            },
            filter: function(t) {
                return L(t) ? this.not(this.not(t)) : i(s.call(this, function(e) {
                    return C.matches(e, t)
                }))
            },
            add: function(t, e) {
                return i(N(this.concat(i(t,
                    e))))
            },
            is: function(t) {
                return this.length > 0 && C.matches(this[0], t)
            },
            not: function(t) {
                var n = [];
                if (L(t) && t.call !== e) this.each(function(e) {
                    t.call(this, e) || n.push(this)
                });
                else {
                    var r = "string" == typeof t ? this.filter(t) : _(t) && L(t.item) ? u.call(t) : i(t);
                    this.forEach(function(t) {
                        r.indexOf(t) < 0 && n.push(t)
                    })
                }
                return i(n)
            },
            has: function(t) {
                return this.filter(function() {
                    return R(t) ? i.contains(this, t) : i(this)
                        .find(t)
                        .size()
                })
            },
            eq: function(t) {
                return -1 === t ? this.slice(t) : this.slice(t, +t + 1)
            },
            first: function() {
                var t = this[0];
                return t && !R(t) ? t : i(t)
            },
            last: function() {
                var t = this[this.length - 1];
                return t && !R(t) ? t : i(t)
            },
            find: function(t) {
                var e, n = this;
                return e = t ? "object" == typeof t ? i(t)
                    .filter(function() {
                        var t = this;
                        return o.some.call(n, function(e) {
                            return i.contains(e, t)
                        })
                    }) : 1 == this.length ? i(C.qsa(this[0], t)) : this.map(function() {
                    return C.qsa(this, t)
                }) : i()
            },
            closest: function(t, e) {
                var n = [],
                    r = "object" == typeof t && i(t);
                return this.each(function(i, o) {
                    for (; o && !(r ? r.indexOf(o) >= 0 : C.matches(o, t));) o = o !== e && !F(o) && o.parentNode;
                    o && n.indexOf(o) <
                    0 && n.push(o)
                }), i(n)
            },
            parents: function(t) {
                for (var e = [], n = this; n.length > 0;) n = i.map(n, function(t) {
                    return (t = t.parentNode) && !F(t) && e.indexOf(t) < 0 ? (e.push(t), t) : void 0
                });
                return W(e, t)
            },
            parent: function(t) {
                return W(N(this.pluck("parentNode")), t)
            },
            children: function(t) {
                return W(this.map(function() {
                    return H(this)
                }), t)
            },
            contents: function() {
                return this.map(function() {
                    return this.contentDocument || u.call(this.childNodes)
                })
            },
            siblings: function(t) {
                return W(this.map(function(t, e) {
                    return s.call(H(e.parentNode), function(t) {
                        return t !==
                            e
                    })
                }), t)
            },
            empty: function() {
                return this.each(function() {
                    this.innerHTML = ""
                })
            },
            pluck: function(t) {
                return i.map(this, function(e) {
                    return e[t]
                })
            },
            show: function() {
                return this.each(function() {
                    "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "")
                        .getPropertyValue("display") && (this.style.display = V(this.nodeName))
                })
            },
            replaceWith: function(t) {
                return this.before(t)
                    .remove()
            },
            wrap: function(t) {
                var e = L(t);
                if (this[0] && !e) var n = i(t)
                        .get(0),
                    r = n.parentNode || this.length > 1;
                return this.each(function(o) {
                    i(this)
                        .wrapAll(e ?
                            t.call(this, o) : r ? n.cloneNode(!0) : n)
                })
            },
            wrapAll: function(t) {
                if (this[0]) {
                    i(this[0])
                        .before(t = i(t));
                    for (var e;
                         (e = t.children())
                             .length;) t = e.first();
                    i(t)
                        .append(this)
                }
                return this
            },
            wrapInner: function(t) {
                var e = L(t);
                return this.each(function(n) {
                    var r = i(this),
                        o = r.contents(),
                        a = e ? t.call(this, n) : t;
                    o.length ? o.wrapAll(a) : r.append(a)
                })
            },
            unwrap: function() {
                return this.parent()
                    .each(function() {
                        i(this)
                            .replaceWith(i(this)
                                .children())
                    }), this
            },
            clone: function() {
                return this.map(function() {
                    return this.cloneNode(!0)
                })
            },
            hide: function() {
                return this.css("display",
                    "none")
            },
            toggle: function(t) {
                return this.each(function() {
                    var n = i(this);
                    (t === e ? "none" == n.css("display") : t) ? n.show(): n.hide()
                })
            },
            prev: function(t) {
                return i(this.pluck("previousElementSibling"))
                    .filter(t || "*")
            },
            next: function(t) {
                return i(this.pluck("nextElementSibling"))
                    .filter(t || "*")
            },
            html: function(t) {
                return 0 in arguments ? this.each(function(e) {
                    var n = this.innerHTML;
                    i(this)
                        .empty()
                        .append(Y(this, t, e, n))
                }) : 0 in this ? this[0].innerHTML : null
            },
            text: function(t) {
                return 0 in arguments ? this.each(function(e) {
                    var n =
                        Y(this, t, e, this.textContent);
                    this.textContent = null == n ? "" : "" + n
                }) : 0 in this ? this.pluck("textContent")
                    .join("") : null
            },
            attr: function(t, i) {
                var r;
                return "string" != typeof t || 1 in arguments ? this.each(function(e) {
                    if (1 === this.nodeType)
                        if (R(t))
                            for (n in t) J(this, n, t[n]);
                        else J(this, t, Y(this, i, e, this.getAttribute(t)))
                }) : 0 in this && 1 == this[0].nodeType && null != (r = this[0].getAttribute(t)) ? r : e
            },
            removeAttr: function(t) {
                return this.each(function() {
                    1 === this.nodeType && t.split(" ")
                        .forEach(function(t) {
                            J(this, t)
                        }, this)
                })
            },
            prop: function(t, e) {
                return t = M[t] || t, 1 in arguments ? this.each(function(n) {
                    this[t] = Y(this, e, n, this[t])
                }) : this[0] && this[0][t]
            },
            removeProp: function(t) {
                return t = M[t] || t, this.each(function() {
                    delete this[t]
                })
            },
            data: function(t, n) {
                var i = "data-" + t.replace(v, "-$1")
                        .toLowerCase(),
                    r = 1 in arguments ? this.attr(i, n) : this.attr(i);
                return null !== r ? K(r) : e
            },
            val: function(t) {
                return 0 in arguments ? (null == t && (t = ""), this.each(function(e) {
                    this.value = Y(this, t, e, this.value)
                })) : this[0] && (this[0].multiple ? i(this[0])
                        .find("option")
                        .filter(function() {
                            return this.selected
                        })
                        .pluck("value") :
                    this[0].value)
            },
            offset: function(e) {
                if (e) return this.each(function(t) {
                    var n = i(this),
                        r = Y(this, e, t, n.offset()),
                        o = n.offsetParent()
                            .offset(),
                        a = {
                            top: r.top - o.top,
                            left: r.left - o.left
                        };
                    "static" == n.css("position") && (a.position = "relative"), n.css(a)
                });
                if (!this.length) return null;
                if (c.documentElement !== this[0] && !i.contains(c.documentElement, this[0])) return {
                    top: 0,
                    left: 0
                };
                var n = this[0].getBoundingClientRect();
                return {
                    left: n.left + t.pageXOffset,
                    top: n.top + t.pageYOffset,
                    width: Math.round(n.width),
                    height: Math.round(n.height)
                }
            },
            css: function(t, e) {
                if (arguments.length < 2) {
                    var r = this[0];
                    if ("string" == typeof t) {
                        if (!r) return;
                        return r.style[P(t)] || getComputedStyle(r, "")
                            .getPropertyValue(t)
                    }
                    if (D(t)) {
                        if (!r) return;
                        var o = {},
                            a = getComputedStyle(r, "");
                        return i.each(t, function(t, e) {
                            o[e] = r.style[P(e)] || a.getPropertyValue(e)
                        }), o
                    }
                }
                var s = "";
                if ("string" == A(t)) e || 0 === e ? s = I(t) + ":" + q(t, e) : this.each(function() {
                    this.style.removeProperty(I(t))
                });
                else
                    for (n in t) t[n] || 0 === t[n] ? s += I(n) + ":" + q(n, t[n]) + ";" : this.each(function() {
                        this.style.removeProperty(I(n))
                    });
                return this.each(function() {
                    this.style.cssText += ";" + s
                })
            },
            index: function(t) {
                return t ? this.indexOf(i(t)[0]) : this.parent()
                    .children()
                    .indexOf(this[0])
            },
            hasClass: function(t) {
                return t ? o.some.call(this, function(t) {
                    return this.test(G(t))
                }, B(t)) : !1
            },
            addClass: function(t) {
                return t ? this.each(function(e) {
                    if ("className" in this) {
                        r = [];
                        var n = G(this),
                            o = Y(this, t, e, n);
                        o.split(/\s+/g)
                            .forEach(function(t) {
                                i(this)
                                    .hasClass(t) || r.push(t)
                            }, this), r.length && G(this, n + (n ? " " : "") + r.join(" "))
                    }
                }) : this
            },
            removeClass: function(t) {
                return this.each(function(n) {
                    if ("className" in
                        this) {
                        if (t === e) return G(this, "");
                        r = G(this), Y(this, t, n, r)
                            .split(/\s+/g)
                            .forEach(function(t) {
                                r = r.replace(B(t), " ")
                            }), G(this, r.trim())
                    }
                })
            },
            toggleClass: function(t, n) {
                return t ? this.each(function(r) {
                    var o = i(this),
                        a = Y(this, t, r, G(this));
                    a.split(/\s+/g)
                        .forEach(function(t) {
                            (n === e ? !o.hasClass(t) : n) ? o.addClass(t): o.removeClass(t)
                        })
                }) : this
            },
            scrollTop: function(t) {
                if (this.length) {
                    var n = "scrollTop" in this[0];
                    return t === e ? n ? this[0].scrollTop : this[0].pageYOffset : this.each(n ? function() {
                        this.scrollTop = t
                    } : function() {
                        this.scrollTo(this.scrollX,
                            t)
                    })
                }
            },
            scrollLeft: function(t) {
                if (this.length) {
                    var n = "scrollLeft" in this[0];
                    return t === e ? n ? this[0].scrollLeft : this[0].pageXOffset : this.each(n ? function() {
                        this.scrollLeft = t
                    } : function() {
                        this.scrollTo(t, this.scrollY)
                    })
                }
            },
            position: function() {
                if (this.length) {
                    var t = this[0],
                        e = this.offsetParent(),
                        n = this.offset(),
                        r = g.test(e[0].nodeName) ? {
                            top: 0,
                            left: 0
                        } : e.offset();
                    return n.top -= parseFloat(i(t)
                        .css("margin-top")) || 0, n.left -= parseFloat(i(t)
                        .css("margin-left")) || 0, r.top += parseFloat(i(e[0])
                            .css("border-top-width")) ||
                        0, r.left += parseFloat(i(e[0])
                        .css("border-left-width")) || 0, {
                        top: n.top - r.top,
                        left: n.left - r.left
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var t = this.offsetParent || c.body; t && !g.test(t.nodeName) && "static" == i(t)
                        .css("position");) t = t.offsetParent;
                    return t
                })
            }
        }, i.fn.detach = i.fn.remove, ["width", "height"].forEach(function(t) {
            var n = t.replace(/./, function(t) {
                return t[0].toUpperCase()
            });
            i.fn[t] = function(r) {
                var o, a = this[0];
                return r === e ? k(a) ? a["inner" + n] : F(a) ? a.documentElement["scroll" + n] : (o = this.offset()) &&
                    o[t] : this.each(function(e) {
                    a = i(this), a.css(t, Y(this, r, e, a[t]()))
                })
            }
        }), b.forEach(function(n, r) {
            var o = r % 2;
            i.fn[n] = function() {
                var n, s, a = i.map(arguments, function(t) {
                        var r = [];
                        return n = A(t), "array" == n ? (t.forEach(function(t) {
                            return t.nodeType !== e ? r.push(t) : i.zepto.isZ(t) ? r = r.concat(t.get()) : void(r = r.concat(C.fragment(t)))
                        }), r) : "object" == n || null == t ? t : C.fragment(t)
                    }),
                    u = this.length > 1;
                return a.length < 1 ? this : this.each(function(e, n) {
                    s = o ? n : n.parentNode, n = 0 == r ? n.nextSibling : 1 == r ? n.firstChild : 2 == r ? n : null;
                    var f = i.contains(c.documentElement,
                        s);
                    a.forEach(function(e) {
                        if (u) e = e.cloneNode(!0);
                        else if (!s) return i(e)
                            .remove();
                        s.insertBefore(e, n), f && Q(e, function(e) {
                            if (!(null == e.nodeName || "SCRIPT" !== e.nodeName.toUpperCase() || e.type && "text/javascript" !== e.type || e.src)) {
                                var n = e.ownerDocument ? e.ownerDocument.defaultView : t;
                                n.eval.call(n, e.innerHTML)
                            }
                        })
                    })
                })
            }, i.fn[o ? n + "To" : "insert" + (r ? "Before" : "After")] = function(t) {
                return i(t)[n](this), this
            }
        }), C.Z.prototype = U.prototype = i.fn, C.uniq = N, C.deserializeValue = K, i.zepto = C, i
    }();
    return t.Zepto = e, void 0 === t.$ &&
    (t.$ = e),
        function(e) {
            function h(t) {
                return t._zid || (t._zid = n++)
            }

            function p(t, e, n, i) {
                if (e = d(e), e.ns) var r = m(e.ns);
                return (s[h(t)] || [])
                    .filter(function(t) {
                        return t && (!e.e || t.e == e.e) && (!e.ns || r.test(t.ns)) && (!n || h(t.fn) === h(n)) && (!i || t.sel == i)
                    })
            }

            function d(t) {
                var e = ("" + t)
                    .split(".");
                return {
                    e: e[0],
                    ns: e.slice(1)
                        .sort()
                        .join(" ")
                }
            }

            function m(t) {
                return new RegExp("(?:^| )" + t.replace(" ", " .* ?") + "(?: |$)")
            }

            function g(t, e) {
                return t.del && !c && t.e in f || !!e
            }

            function v(t) {
                return l[t] || c && f[t] || t
            }

            function y(t, n,
                       r, o, a, u, c) {
                var f = h(t),
                    p = s[f] || (s[f] = []);
                n.split(/\s/)
                    .forEach(function(n) {
                        if ("ready" == n) return e(document)
                            .ready(r);
                        var s = d(n);
                        s.fn = r, s.sel = a, s.e in l && (r = function(t) {
                            var n = t.relatedTarget;
                            return !n || n !== this && !e.contains(this, n) ? s.fn.apply(this, arguments) : void 0
                        }), s.del = u;
                        var f = u || r;
                        s.proxy = function(e) {
                            if (e = S(e), !e.isImmediatePropagationStopped()) {
                                e.data = o;
                                var n = f.apply(t, e._args == i ? [e] : [e].concat(e._args));
                                return n === !1 && (e.preventDefault(), e.stopPropagation()), n
                            }
                        }, s.i = p.length, p.push(s), "addEventListener" in
                        t && t.addEventListener(v(s.e), s.proxy, g(s, c))
                    })
            }

            function b(t, e, n, i, r) {
                var o = h(t);
                (e || "")
                    .split(/\s/)
                    .forEach(function(e) {
                        p(t, e, n, i)
                            .forEach(function(e) {
                                delete s[o][e.i], "removeEventListener" in t && t.removeEventListener(v(e.e), e.proxy, g(e, r))
                            })
                    })
            }

            function S(t, n) {
                if (n || !t.isDefaultPrevented) {
                    n || (n = t), e.each(w, function(e, i) {
                        var r = n[e];
                        t[e] = function() {
                            return this[i] = x, r && r.apply(n, arguments)
                        }, t[i] = E
                    });
                    try {
                        t.timeStamp || (t.timeStamp = Date.now())
                    } catch (r$1) {}(n.defaultPrevented !== i ? n.defaultPrevented : "returnValue" in
                    n ? n.returnValue === !1 : n.getPreventDefault && n.getPreventDefault()) && (t.isDefaultPrevented = x)
                }
                return t
            }

            function j(t) {
                var e, n = {
                    originalEvent: t
                };
                for (e in t) T.test(e) || t[e] === i || (n[e] = t[e]);
                return S(n, t)
            }
            var i, n = 1,
                r = Array.prototype.slice,
                o = e.isFunction,
                a = function(t) {
                    return "string" == typeof t
                },
                s = {},
                u = {},
                c = "onfocusin" in t,
                f = {
                    focus: "focusin",
                    blur: "focusout"
                },
                l = {
                    mouseenter: "mouseover",
                    mouseleave: "mouseout"
                };
            u.click = u.mousedown = u.mouseup = u.mousemove = "MouseEvents", e.event = {
                add: y,
                remove: b
            }, e.proxy = function(t, n) {
                var i =
                    2 in arguments && r.call(arguments, 2);
                if (o(t)) {
                    var s = function() {
                        return t.apply(n, i ? i.concat(r.call(arguments)) : arguments)
                    };
                    return s._zid = h(t), s
                }
                if (a(n)) return i ? (i.unshift(t[n], t), e.proxy.apply(null, i)) : e.proxy(t[n], t);
                throw new TypeError("expected function");
            }, e.fn.bind = function(t, e, n) {
                return this.on(t, e, n)
            }, e.fn.unbind = function(t, e) {
                return this.off(t, e)
            }, e.fn.one = function(t, e, n, i) {
                return this.on(t, e, n, i, 1)
            };
            var x = function() {
                    return !0
                },
                E = function() {
                    return !1
                },
                T = /^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,
                w = {
                    preventDefault: "isDefaultPrevented",
                    stopImmediatePropagation: "isImmediatePropagationStopped",
                    stopPropagation: "isPropagationStopped"
                };
            e.fn.delegate = function(t, e, n) {
                return this.on(e, t, n)
            }, e.fn.undelegate = function(t, e, n) {
                return this.off(e, t, n)
            }, e.fn.live = function(t, n) {
                return e(document.body)
                    .delegate(this.selector, t, n), this
            }, e.fn.die = function(t, n) {
                return e(document.body)
                    .undelegate(this.selector, t, n), this
            }, e.fn.on = function(t, n, s, u, c) {
                var f, l, h = this;
                return t && !a(t) ? (e.each(t, function(t, e) {
                    h.on(t, n,
                        s, e, c)
                }), h) : (a(n) || o(u) || u === !1 || (u = s, s = n, n = i), (u === i || s === !1) && (u = s, s = i), u === !1 && (u = E), h.each(function(i, o) {
                    c && (f = function(t) {
                        return b(o, t.type, u), u.apply(this, arguments)
                    }), n && (l = function(t) {
                        var i, a = e(t.target)
                            .closest(n, o)
                            .get(0);
                        return a && a !== o ? (i = e.extend(j(t), {
                            currentTarget: a,
                            liveFired: o
                        }), (f || u)
                            .apply(a, [i].concat(r.call(arguments, 1)))) : void 0
                    }), y(o, t, u, s, n, l || f)
                }))
            }, e.fn.off = function(t, n, r) {
                var s = this;
                return t && !a(t) ? (e.each(t, function(t, e) {
                    s.off(t, n, e)
                }), s) : (a(n) || o(r) || r === !1 || (r = n, n = i),
                r === !1 && (r = E), s.each(function() {
                    b(this, t, r, n)
                }))
            }, e.fn.trigger = function(t, n) {
                return t = a(t) || e.isPlainObject(t) ? e.Event(t) : S(t), t._args = n, this.each(function() {
                    t.type in f && "function" == typeof this[t.type] ? this[t.type]() : "dispatchEvent" in this ? this.dispatchEvent(t) : e(this)
                        .triggerHandler(t, n)
                })
            }, e.fn.triggerHandler = function(t, n) {
                var i, r;
                return this.each(function(o, s) {
                    i = j(a(t) ? e.Event(t) : t), i._args = n, i.target = s, e.each(p(s, t.type || t), function(t, e) {
                        return r = e.proxy(i), i.isImmediatePropagationStopped() ?
                            !1 : void 0
                    })
                }), r
            }, "focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ")
                .forEach(function(t) {
                    e.fn[t] = function(e) {
                        return 0 in arguments ? this.bind(t, e) : this.trigger(t)
                    }
                }), e.Event = function(t, e) {
                a(t) || (e = t, t = e.type);
                var n = document.createEvent(u[t] || "Events"),
                    i = !0;
                if (e)
                    for (var r in e) "bubbles" == r ? i = !!e[r] : n[r] = e[r];
                return n.initEvent(t, i, !0), S(n)
            }
        }(e),
        function(e) {
            function p(t,
                       n, i) {
                var r = e.Event(n);
                return e(t)
                    .trigger(r, i), !r.isDefaultPrevented()
            }

            function d(t, e, n, r) {
                return t.global ? p(e || i, n, r) : void 0
            }

            function m(t) {
                t.global && 0 === e.active++ && d(t, null, "ajaxStart")
            }

            function g(t) {
                t.global && !--e.active && d(t, null, "ajaxStop")
            }

            function v(t, e) {
                var n = e.context;
                return e.beforeSend.call(n, t, e) === !1 || d(e, n, "ajaxBeforeSend", [t, e]) === !1 ? !1 : void d(e, n, "ajaxSend", [t, e])
            }

            function y(t, e, n, i) {
                var r = n.context,
                    o = "success";
                n.success.call(r, t, o, e), i && i.resolveWith(r, [t, o, e]), d(n, r, "ajaxSuccess",
                    [e, n, t]), x(o, e, n)
            }

            function b(t, e, n, i, r) {
                var o = i.context;
                i.error.call(o, n, e, t), r && r.rejectWith(o, [n, e, t]), d(i, o, "ajaxError", [n, i, t || e]), x(e, n, i)
            }

            function x(t, e, n) {
                var i = n.context;
                n.complete.call(i, e, t), d(n, i, "ajaxComplete", [e, n]), g(n)
            }

            function E(t, e, n) {
                if (n.dataFilter == T) return t;
                var i = n.context;
                return n.dataFilter.call(i, t, e)
            }

            function T() {}

            function w(t) {
                return t && (t = t.split(";", 2)[0]), t && (t == f ? "html" : t == c ? "json" : s.test(t) ? "script" : u.test(t) && "xml") || "text"
            }

            function S(t, e) {
                return "" == e ? t : (t + "&" + e)
                    .replace(/[&?]{1,2}/,
                        "?")
            }

            function j(t) {
                t.processData && t.data && "string" != e.type(t.data) && (t.data = e.param(t.data, t.traditional)), !t.data || t.type && "GET" != t.type.toUpperCase() && "jsonp" != t.dataType || (t.url = S(t.url, t.data), t.data = void 0)
            }

            function C(t, n, i, r) {
                return e.isFunction(n) && (r = i, i = n, n = void 0), e.isFunction(i) || (r = i, i = void 0), {
                    url: t,
                    data: n,
                    success: i,
                    dataType: r
                }
            }

            function N(t, n, i, r) {
                var o, a = e.isArray(n),
                    s = e.isPlainObject(n);
                e.each(n, function(n, u) {
                    o = e.type(u), r && (n = i ? r : r + "[" + (s || "object" == o || "array" == o ? n : "") + "]"), !r && a ?
                        t.add(u.name, u.value) : "array" == o || !i && "object" == o ? N(t, u, i, n) : t.add(n, u)
                })
            }
            var r, o, n = +new Date,
                i = t.document,
                a = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
                s = /^(?:text|application)\/javascript/i,
                u = /^(?:text|application)\/xml/i,
                c = "application/json",
                f = "text/html",
                l = /^\s*$/,
                h = i.createElement("a");
            h.href = t.location.href, e.active = 0, e.ajaxJSONP = function(r, o) {
                if (!("type" in r)) return e.ajax(r);
                var f, p, a = r.jsonpCallback,
                    s = (e.isFunction(a) ? a() : a) || "Zepto" + n++,
                    u = i.createElement("script"),
                    c = t[s],
                    l = function(t) {
                        e(u)
                            .triggerHandler("error",
                                t || "abort")
                    },
                    h = {
                        abort: l
                    };
                return o && o.promise(h), e(u)
                    .on("load error", function(n, i) {
                        clearTimeout(p), e(u)
                            .off()
                            .remove(), "error" != n.type && f ? y(f[0], h, r, o) : b(null, i || "error", h, r, o), t[s] = c, f && e.isFunction(c) && c(f[0]), c = f = void 0
                    }), v(h, r) === !1 ? (l("abort"), h) : (t[s] = function() {
                    f = arguments
                }, u.src = r.url.replace(/\?(.+)=\?/, "?$1=" + s), i.head.appendChild(u), r.timeout > 0 && (p = setTimeout(function() {
                    l("timeout")
                }, r.timeout)), h)
            }, e.ajaxSettings = {
                type: "GET",
                beforeSend: T,
                success: T,
                error: T,
                complete: T,
                context: null,
                global: !0,
                xhr: function() {
                    return new t.XMLHttpRequest
                },
                accepts: {
                    script: "text/javascript, application/javascript, application/x-javascript",
                    json: c,
                    xml: "application/xml, text/xml",
                    html: f,
                    text: "text/plain"
                },
                crossDomain: !1,
                timeout: 0,
                processData: !0,
                cache: !0,
                dataFilter: T
            }, e.ajax = function(n) {
                var u, c, a = e.extend({}, n || {}),
                    s = e.Deferred && e.Deferred();
                for (r in e.ajaxSettings) void 0 === a[r] && (a[r] = e.ajaxSettings[r]);
                m(a), a.crossDomain || (u = i.createElement("a"), u.href = a.url, u.href = u.href, a.crossDomain = h.protocol + "//" + h.host !=
                    u.protocol + "//" + u.host), a.url || (a.url = t.location.toString()), (c = a.url.indexOf("#")) > -1 && (a.url = a.url.slice(0, c)), j(a);
                var f = a.dataType,
                    p = /\?.+=\?/.test(a.url);
                if (p && (f = "jsonp"), a.cache !== !1 && (n && n.cache === !0 || "script" != f && "jsonp" != f) || (a.url = S(a.url, "_=" + Date.now())), "jsonp" == f) return p || (a.url = S(a.url, a.jsonp ? a.jsonp + "=?" : a.jsonp === !1 ? "" : "callback=?")), e.ajaxJSONP(a, s);
                var O, d = a.accepts[f],
                    g = {},
                    x = function(t, e) {
                        g[t.toLowerCase()] = [t, e]
                    },
                    C = /^([\w-]+:)\/\//.test(a.url) ? RegExp.$1 : t.location.protocol,
                    P = a.xhr(),
                    N = P.setRequestHeader;
                if (s && s.promise(P), a.crossDomain || x("X-Requested-With", "XMLHttpRequest"), x("Accept", d || "*/*"), (d = a.mimeType || d) && (d.indexOf(",") > -1 && (d = d.split(",", 2)[0]), P.overrideMimeType && P.overrideMimeType(d)), (a.contentType || a.contentType !== !1 && a.data && "GET" != a.type.toUpperCase()) && x("Content-Type", a.contentType || "application/x-www-form-urlencoded"), a.headers)
                    for (o in a.headers) x(o, a.headers[o]);
                if (P.setRequestHeader = x, P.onreadystatechange = function() {
                    if (4 == P.readyState) {
                        P.onreadystatechange =
                            T, clearTimeout(O);
                        var t, n = !1;
                        if (P.status >= 200 && P.status < 300 || 304 == P.status || 0 == P.status && "file:" == C) {
                            if (f = f || w(a.mimeType || P.getResponseHeader("content-type")), "arraybuffer" == P.responseType || "blob" == P.responseType) t = P.response;
                            else {
                                t = P.responseText;
                                try {
                                    t = E(t, f, a), "script" == f ? (1, eval)(t) : "xml" == f ? t = P.responseXML : "json" == f && (t = l.test(t) ? null : e.parseJSON(t))
                                } catch (i$2) {
                                    n = i$2
                                }
                                if (n) return b(n, "parsererror", P, a, s)
                            }
                            y(t, P, a, s)
                        } else b(P.statusText || null, P.status ? "error" : "abort", P, a, s)
                    }
                }, v(P, a) === !1) return P.abort(),
                    b(null, "abort", P, a, s), P;
                var M = "async" in a ? a.async : !0;
                if (P.open(a.type, a.url, M, a.username, a.password), a.xhrFields)
                    for (o in a.xhrFields) P[o] = a.xhrFields[o];
                for (o in g) N.apply(P, g[o]);
                return a.timeout > 0 && (O = setTimeout(function() {
                    P.onreadystatechange = T, P.abort(), b(null, "timeout", P, a, s)
                }, a.timeout)), P.send(a.data ? a.data : null), P
            }, e.get = function() {
                return e.ajax(C.apply(null, arguments))
            }, e.post = function() {
                var t = C.apply(null, arguments);
                return t.type = "POST", e.ajax(t)
            }, e.getJSON = function() {
                var t = C.apply(null,
                    arguments);
                return t.dataType = "json", e.ajax(t)
            }, e.fn.load = function(t, n, i) {
                if (!this.length) return this;
                var s, r = this,
                    o = t.split(/\s/),
                    u = C(t, n, i),
                    c = u.success;
                return o.length > 1 && (u.url = o[0], s = o[1]), u.success = function(t) {
                    r.html(s ? e("<div>")
                        .html(t.replace(a, ""))
                        .find(s) : t), c && c.apply(r, arguments)
                }, e.ajax(u), this
            };
            var P = encodeURIComponent;
            e.param = function(t, n) {
                var i = [];
                return i.add = function(t, n) {
                    e.isFunction(n) && (n = n()), null == n && (n = ""), this.push(P(t) + "=" + P(n))
                }, N(i, t, n), i.join("&")
                    .replace(/%20/g, "+")
            }
        }(e),
        function(t) {
            t.fn.serializeArray = function() {
                var e, n, i = [],
                    r = function(t) {
                        return t.forEach ? t.forEach(r) : void i.push({
                            name: e,
                            value: t
                        })
                    };
                return this[0] && t.each(this[0].elements, function(i, o) {
                    n = o.type, e = o.name, e && "fieldset" != o.nodeName.toLowerCase() && !o.disabled && "submit" != n && "reset" != n && "button" != n && "file" != n && ("radio" != n && "checkbox" != n || o.checked) && r(t(o)
                        .val())
                }), i
            }, t.fn.serialize = function() {
                var t = [];
                return this.serializeArray()
                    .forEach(function(e) {
                        t.push(encodeURIComponent(e.name) + "=" + encodeURIComponent(e.value))
                    }),
                    t.join("&")
            }, t.fn.submit = function(e) {
                if (0 in arguments) this.bind("submit", e);
                else if (this.length) {
                    var n = t.Event("submit");
                    this.eq(0)
                        .trigger(n), n.isDefaultPrevented() || this.get(0)
                        .submit()
                }
                return this
            }
        }(e),
        function() {
            try {
                getComputedStyle(void 0)
            } catch (e$3) {
                var n = getComputedStyle;
                t.getComputedStyle = function(t, e) {
                    try {
                        return n(t, e)
                    } catch (i) {
                        return null
                    }
                }
            }
        }(),
        function(t) {
            function e(t, e) {
                var n = this.os = {},
                    i = this.browser = {},
                    r = t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),
                    o = t.match(/(Android);?[\s\/]+([\d.]+)?/),
                    a = !!t.match(/\(Macintosh; Intel /),
                    s = t.match(/(iPad).*OS\s([\d_]+)/),
                    u = t.match(/(iPod)(.*OS\s([\d_]+))?/),
                    c = !s && t.match(/(iPhone\sOS)\s([\d_]+)/),
                    f = t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),
                    l = /Win\d{2}|Windows/.test(e),
                    h = t.match(/Windows Phone ([\d.]+)/),
                    p = f && t.match(/TouchPad/),
                    d = t.match(/Kindle\/([\d.]+)/),
                    m = t.match(/Silk\/([\d._]+)/),
                    g = t.match(/(BlackBerry).*Version\/([\d.]+)/),
                    v = t.match(/(BB10).*Version\/([\d.]+)/),
                    y = t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),
                    b = t.match(/PlayBook/),
                    x = t.match(/Chrome\/([\d.]+)/) ||
                        t.match(/CriOS\/([\d.]+)/),
                    E = t.match(/Firefox\/([\d.]+)/),
                    T = t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),
                    w = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),
                    S = !x && t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),
                    j = S || t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);
                (i.webkit = !!r) && (i.version = r[1]), o && (n.android = !0, n.version = o[2]), c && !u && (n.ios = n.iphone = !0, n.version = c[2].replace(/_/g, ".")), s && (n.ios = n.ipad = !0, n.version = s[2].replace(/_/g,
                    ".")), u && (n.ios = n.ipod = !0, n.version = u[3] ? u[3].replace(/_/g, ".") : null), h && (n.wp = !0, n.version = h[1]), f && (n.webos = !0, n.version = f[2]), p && (n.touchpad = !0), g && (n.blackberry = !0, n.version = g[2]), v && (n.bb10 = !0, n.version = v[2]), y && (n.rimtabletos = !0, n.version = y[2]), b && (i.playbook = !0), d && (n.kindle = !0, n.version = d[1]), m && (i.silk = !0, i.version = m[1]), !m && n.android && t.match(/Kindle Fire/) && (i.silk = !0), x && (i.chrome = !0, i.version = x[1]), E && (i.firefox = !0, i.version = E[1]), T && (n.firefoxos = !0, n.version = T[1]), w && (i.ie = !0, i.version =
                    w[1]), j && (a || n.ios || l) && (i.safari = !0, n.ios || (i.version = j[1])), S && (i.webview = !0), n.tablet = !!(s || b || o && !t.match(/Mobile/) || E && t.match(/Tablet/) || w && !t.match(/Phone/) && t.match(/Touch/)), n.phone = !(n.tablet || n.ipod || !(o || c || f || g || v || x && t.match(/Android/) || x && t.match(/CriOS\/([\d.]+)/) || E && t.match(/Mobile/) || w && t.match(/Touch/)))
            }
            e.call(t, navigator.userAgent, navigator.platform), t.__detect = e
        }(e),
        function(e) {
            function c(t, e, n, i) {
                return Math.abs(t - e) >= Math.abs(n - i) ? t - e > 0 ? "Left" : "Right" : n - i > 0 ? "Up" : "Down"
            }

            function f() {
                a =
                    null, n.last && (n.el.trigger("longTap"), n = {})
            }

            function l() {
                a && clearTimeout(a), a = null
            }

            function h() {
                i && clearTimeout(i), r && clearTimeout(r), o && clearTimeout(o), a && clearTimeout(a), i = r = o = a = null, n = {}
            }

            function p(t) {
                return ("touch" == t.pointerType || t.pointerType == t.MSPOINTER_TYPE_TOUCH) && t.isPrimary
            }

            function d(t, e) {
                return t.type == "pointer" + e || t.type.toLowerCase() == "mspointer" + e
            }
            var i, r, o, a, u, n = {},
                s = 750;
            e(document)
                .ready(function() {
                    var m, g, b, x, v = 0,
                        y = 0;
                    "MSGesture" in t && (u = new MSGesture, u.target = document.body), e(document)
                        .bind("MSGestureEnd",
                            function(t) {
                                var e = t.velocityX > 1 ? "Right" : t.velocityX < -1 ? "Left" : t.velocityY > 1 ? "Down" : t.velocityY < -1 ? "Up" : null;
                                e && (n.el.trigger("swipe"), n.el.trigger("swipe" + e))
                            })
                        .on("touchstart MSPointerDown pointerdown", function(t) {
                            (!(x = d(t, "down")) || p(t)) && (b = x ? t : t.touches[0], t.touches && 1 === t.touches.length && n.x2 && (n.x2 = void 0, n.y2 = void 0), m = Date.now(), g = m - (n.last || m), n.el = e("tagName" in b.target ? b.target : b.target.parentNode), i && clearTimeout(i), n.x1 = b.pageX, n.y1 = b.pageY, g > 0 && 250 >= g && (n.isDoubleTap = !0), n.last = m, a =
                                setTimeout(f, s), u && x && u.addPointer(t.pointerId))
                        })
                        .on("touchmove MSPointerMove pointermove", function(t) {
                            (!(x = d(t, "move")) || p(t)) && (b = x ? t : t.touches[0], l(), n.x2 = b.pageX, n.y2 = b.pageY, v += Math.abs(n.x1 - n.x2), y += Math.abs(n.y1 - n.y2))
                        })
                        .on("touchend MSPointerUp pointerup", function(t) {
                            (!(x = d(t, "up")) || p(t)) && (l(), n.x2 && Math.abs(n.x1 - n.x2) > 30 || n.y2 && Math.abs(n.y1 - n.y2) > 30 ? o = setTimeout(function() {
                                n.el && (n.el.trigger("swipe"), n.el.trigger("swipe" + c(n.x1, n.x2, n.y1, n.y2))), n = {}
                            }, 0) : "last" in n && (30 > v && 30 > y ? r = setTimeout(function() {
                                var t =
                                    e.Event("tap");
                                t.cancelTouch = h, n.el && n.el.trigger(t), n.isDoubleTap ? (n.el && n.el.trigger("doubleTap"), n = {}) : i = setTimeout(function() {
                                    i = null, n.el && n.el.trigger("singleTap"), n = {}
                                }, 250)
                            }, 0) : n = {}), v = y = 0)
                        })
                        .on("touchcancel MSPointerCancel pointercancel", h), e(t)
                        .on("scroll", h)
                }), ["swipe", "swipeLeft", "swipeRight", "swipeUp", "swipeDown", "doubleTap", "tap", "singleTap", "longTap"].forEach(function(t) {
                e.fn[t] = function(e) {
                    return this.on(t, e)
                }
            })
        }(e), e
});
! function() {
    function a(a) {
        return a.replace(t, "")
            .replace(u, ",")
            .replace(v, "")
            .replace(w, "")
            .replace(x, "")
            .split(y)
    }

    function b(a) {
        return "'" + a.replace(/('|\\)/g, "\\$1")
            .replace(/\r/g, "\\r")
            .replace(/\n/g, "\\n") + "'"
    }

    function c(c, d) {
        function e(a) {
            return m += a.split(/\n/)
                .length - 1, k && (a = a.replace(/\s+/g, " ")
                .replace(/\x3c!--[\w\W]*?--\x3e/g, "")), a && (a = s[1] + b(a) + s[2] + "\n"), a
        }

        function f(b) {
            var c = m;
            if (j ? b = j(b, d) : g && (b = b.replace(/\n/g, function() {
                return m++, "$line=" + m + ";"
            })), 0 === b.indexOf("=")) {
                var e = l && !/^=[=#]/.test(b);
                if (b = b.replace(/^=[=#]?|[\s;]*$/g, ""), e) {
                    var f = b.replace(/\s*\([^\)]+\)/, "");
                    n[f] || /^(include|print)$/.test(f) || (b = "$escape(" + b + ")")
                } else b = "$string(" + b + ")";
                b = s[1] + b + s[2]
            }
            return g && (b = "$line=" + c + ";" + b), r(a(b), function(a) {
                if (a && !p[a]) {
                    var b;
                    b = "print" === a ? u : "include" === a ? v : n[a] ? "$utils." + a : o[a] ? "$helpers." + a : "$data." + a, w += a + "=" + b + ",", p[a] = !0
                }
            }), b + "\n"
        }
        var g = d.debug,
            h = d.openTag,
            i = d.closeTag,
            j = d.parser,
            k = d.compress,
            l = d.escape,
            m = 1,
            p = {
                $data: 1,
                $filename: 1,
                $utils: 1,
                $helpers: 1,
                $out: 1,
                $line: 1
            },
            q = "".trim,
            s =
                q ? ["$out='';", "$out+=", ";", "$out"] : ["$out=[];", "$out.push(", ");", "$out.join('')"],
            t = q ? "$out+=text;return $out;" : "$out.push(text);",
            u = "function(){var text=''.concat.apply('',arguments);" + t + "}",
            v = "function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);" + t + "}",
            w = "'use strict';var $utils=this,$helpers=$utils.$helpers," + (g ? "$line=0," : ""),
            x = s[0],
            y = "return new String(" + s[3] + ");";
        r(c.split(h), function(a) {
            a = a.split(i);
            var b = a[0],
                c = a[1];
            1 === a.length ? x += e(b) : (x += f(b), c && (x +=
                e(c)))
        });
        var z = w + x + y;
        g && (z = "try{" + z + "}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:" + b(c) + ".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");
        try {
            var A = new Function("$data", "$filename", z);
            return A.prototype = n, A
        } catch (B) {
            throw B.temp = "function anonymous($data,$filename) {" + z + "}", B;
        }
    }
    var d = function(a, b) {
        return "string" == typeof b ? q(b, {
            filename: a
        }) : g(a, b)
    };
    d.version = "3.0.0", d.config = function(a, b) {
        e[a] = b
    };
    var e = d.defaults = {
            openTag: "<%",
            closeTag: "%>",
            escape: !0,
            cache: !0,
            compress: !1,
            parser: null
        },
        f = d.cache = {};
    d.render = function(a, b) {
        return q(a, b)
    };
    var g = d.renderFile = function(a, b) {
        var c = d.get(a) || p({
            filename: a,
            name: "Render Error",
            message: "Template not found"
        });
        return b ? c(b) : c
    };
    d.get = function(a) {
        var b;
        if (f[a]) b = f[a];
        else if ("object" == typeof document) {
            var c = document.getElementById(a);
            if (c) {
                var d = (c.value || c.innerHTML)
                    .replace(/^\s*|\s*$/g, "");
                b = q(d, {
                    filename: a
                })
            }
        }
        return b
    };
    var h = function(a, b) {
            return "string" != typeof a && (b = typeof a, "number" === b ? a += "" : a = "function" ===
            b ? h(a.call(a)) : ""), a
        },
        i = {
            "<": "&#60;",
            ">": "&#62;",
            '"': "&#34;",
            "'": "&#39;",
            "&": "&#38;"
        },
        j = function(a) {
            return i[a]
        },
        k = function(a) {
            return h(a)
                .replace(/&(?![\w#]+;)|[<>"']/g, j)
        },
        l = Array.isArray || function(a) {
            return "[object Array]" === {}.toString.call(a)
        },
        m = function(a, b) {
            var c, d;
            if (l(a))
                for (c = 0, d = a.length; d > c; c++) b.call(a, a[c], c, a);
            else
                for (c in a) b.call(a, a[c], c)
        },
        n = d.utils = {
            $helpers: {},
            $include: g,
            $string: h,
            $escape: k,
            $each: m
        };
    d.helper = function(a, b) {
        o[a] = b
    };
    var o = d.helpers = n.$helpers;
    d.onerror = function(a) {
        var b =
            "Template Error\n\n";
        for (var c in a) b += "<" + c + ">\n" + a[c] + "\n\n";
        "object" == typeof console && console.error(b)
    };
    var p = function(a) {
            return d.onerror(a),
                function() {
                    return "{Template Error}"
                }
        },
        q = d.compile = function(a, b) {
            function d(c) {
                try {
                    return new i(c, h) + ""
                } catch (d$4) {
                    return b.debug ? p(d$4)() : (b.debug = !0, q(a, b)(c))
                }
            }
            b = b || {};
            for (var g in e) void 0 === b[g] && (b[g] = e[g]);
            var h = b.filename;
            try {
                var i = c(a, b)
            } catch (j$5) {
                return j$5.filename = h || "anonymous", j$5.name = "Syntax Error", p(j$5)
            }
            return d.prototype = i.prototype, d.toString =
                function() {
                    return i.toString()
                }, h && b.cache && (f[h] = d), d
        },
        r = n.$each,
        s = "break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",
        t = /\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,
        u = /[^\w$]+/g,
        v = new RegExp(["\\b" + s.replace(/,/g, "\\b|\\b") + "\\b"].join("|"), "g"),
        w = /^\d[^,]*|,\d[^,]*/g,
        x = /^,+|,+$/g,
        y = /^$|,+/;
    e.openTag = "{{", e.closeTag = "}}";
    var z = function(a, b) {
        var c = b.split(":"),
            d = c.shift(),
            e = c.join(":") || "";
        return e && (e = ", " + e), "$helpers." + d + "(" + a + e + ")"
    };
    e.parser = function(a) {
        a = a.replace(/^\s/, "");
        var b = a.split(" "),
            c = b.shift(),
            e = b.join(" ");
        switch (c) {
            case "if":
                a = "if(" + e + "){";
                break;
            case "else":
                b = "if" === b.shift() ? " if(" + b.join(" ") + ")" : "", a = "}else" + b + "{";
                break;
            case "/if":
                a = "}";
                break;
            case "each":
                var f = b[0] || "$data",
                    g = b[1] || "as",
                    h = b[2] || "$value",
                    i = b[3] || "$index",
                    j = h + "," + i;
                "as" !== g && (f = "[]"), a = "$each(" + f + ",function(" + j + "){";
                break;
            case "/each":
                a = "});";
                break;
            case "echo":
                a = "print(" + e + ");";
                break;
            case "print":
            case "include":
                a = c + "(" + b.join(",") + ");";
                break;
            default:
                if (/^\s*\|\s*[\w\$]/.test(e)) {
                    var k = !0;
                    0 === a.indexOf("#") && (a = a.substr(1), k = !1);
                    for (var l = 0, m = a.split("|"), n = m.length, o = m[l++]; n > l; l++) o = z(o, m[l]);
                    a = (k ? "=" : "=#") + o
                } else a = d.helpers[c] ? "=#" + c + "(" + b.join(",") + ");" : "=" + a
        }
        return a
    },
        "function" == typeof define ? define(function() {
            return d
        }) : "undefined" != typeof exports ? module.exports = d : this.template = d
}();
(function() {
    function d(o, k) {
        var p;
        k = k || {};
        this.trackingClick = false;
        this.trackingClickStart = 0;
        this.targetElement = null;
        this.touchStartX = 0;
        this.touchStartY = 0;
        this.lastTouchIdentifier = 0;
        this.touchBoundary = k.touchBoundary || 10;
        this.layer = o;
        this.tapDelay = k.tapDelay || 200;
        this.tapTimeout = k.tapTimeout || 700;
        if (d.notNeeded(o)) return;

        function q(l, i) {
            return function() {
                return l.apply(i, arguments)
            }
        }
        var j = ["onMouse", "onClick", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel"];
        var n = this;
        for (var m = 0, h = j.length; m <
        h; m++) n[j[m]] = q(n[j[m]], n);
        if (b) {
            o.addEventListener("mouseover", this.onMouse, true);
            o.addEventListener("mousedown", this.onMouse, true);
            o.addEventListener("mouseup", this.onMouse, true)
        }
        o.addEventListener("click", this.onClick, true);
        o.addEventListener("touchstart", this.onTouchStart, false);
        o.addEventListener("touchmove", this.onTouchMove, false);
        o.addEventListener("touchend", this.onTouchEnd, false);
        o.addEventListener("touchcancel", this.onTouchCancel, false);
        if (!Event.prototype.stopImmediatePropagation) {
            o.removeEventListener =
                function(l, s, i) {
                    var r = Node.prototype.removeEventListener;
                    if (l === "click") r.call(o, l, s.hijacked || s, i);
                    else r.call(o, l, s, i)
                };
            o.addEventListener = function(r, s, l) {
                var i = Node.prototype.addEventListener;
                if (r === "click") i.call(o, r, s.hijacked || (s.hijacked = function(t) {
                    if (!t.propagationStopped) s(t)
                }), l);
                else i.call(o, r, s, l)
            }
        }
        if (typeof o.onclick === "function") {
            p = o.onclick;
            o.addEventListener("click", function(i) {
                p(i)
            }, false);
            o.onclick = null
        }
    }
    var c = navigator.userAgent.indexOf("Windows Phone") >= 0;
    var b = navigator.userAgent.indexOf("Android") >
        0 && !c;
    var g = /iP(ad|hone|od)/.test(navigator.userAgent) && !c;
    var e = g && /OS 4_\d(_\d)?/.test(navigator.userAgent);
    var f = g && /OS [6-7]_\d/.test(navigator.userAgent);
    var a = navigator.userAgent.indexOf("BB10") > 0;
    d.prototype.needsClick = function(h) {
        switch (h.nodeName.toLowerCase()) {
            case "button":
            case "select":
            case "textarea":
                if (h.disabled) return true;
                break;
            case "input":
                if (g && h.type === "file" || h.disabled) return true;
                break;
            case "label":
            case "iframe":
            case "video":
                return true
        }
        return /\bneedsclick\b/.test(h.className)
    };
    d.prototype.needsFocus = function(h) {
        switch (h.nodeName.toLowerCase()) {
            case "textarea":
                return true;
            case "select":
                return !b;
            case "input":
                switch (h.type) {
                    case "button":
                    case "checkbox":
                    case "file":
                    case "image":
                    case "radio":
                    case "submit":
                        return false
                }
                return !h.disabled && !h.readOnly;
            default:
                return /\bneedsfocus\b/.test(h.className)
        }
    };
    d.prototype.sendClick = function(i, j) {
        var h, k;
        if (document.activeElement && document.activeElement !== i) document.activeElement.blur();
        k = j.changedTouches[0];
        h = document.createEvent("MouseEvents");
        h.initMouseEvent(this.determineEventType(i), true, true, window, 1, k.screenX, k.screenY, k.clientX, k.clientY, false, false, false, false, 0, null);
        h.forwardedTouchEvent = true;
        i.dispatchEvent(h)
    };
    d.prototype.determineEventType = function(h) {
        if (b && h.tagName.toLowerCase() === "select") return "mousedown";
        return "click"
    };
    d.prototype.focus = function(h) {
        var i;
        if (g && h.setSelectionRange && h.type.indexOf("date") !== 0 && h.type !== "time" && h.type !== "month") {
            i = h.value.length;
            h.setSelectionRange(i, i)
        } else h.focus()
    };
    d.prototype.updateScrollParent =
        function(i) {
            var j, h;
            j = i.fastClickScrollParent;
            if (!j || !j.contains(i)) {
                h = i;
                do {
                    if (h.scrollHeight > h.offsetHeight) {
                        j = h;
                        i.fastClickScrollParent = h;
                        break
                    }
                    h = h.parentElement
                } while (h)
            }
            if (j) j.fastClickLastScrollTop = j.scrollTop
        };
    d.prototype.getTargetElementFromEventTarget = function(h) {
        if (h.nodeType === Node.TEXT_NODE) return h.parentNode;
        return h
    };
    d.prototype.onTouchStart = function(j) {
        var h, k, i;
        if (j.targetTouches.length > 1) return true;
        h = this.getTargetElementFromEventTarget(j.target);
        k = j.targetTouches[0];
        if (g) {
            i = window.getSelection();
            if (i.rangeCount && !i.isCollapsed) return true;
            if (!e) {
                if (k.identifier && k.identifier === this.lastTouchIdentifier) {
                    j.preventDefault();
                    return false
                }
                this.lastTouchIdentifier = k.identifier;
                this.updateScrollParent(h)
            }
        }
        this.trackingClick = true;
        this.trackingClickStart = j.timeStamp;
        this.targetElement = h;
        this.touchStartX = k.pageX;
        this.touchStartY = k.pageY;
    };
    d.prototype.touchHasMoved = function(h) {
        var j = h.changedTouches[0],
            i = this.touchBoundary;
        if (Math.abs(j.pageX - this.touchStartX) > i || Math.abs(j.pageY - this.touchStartY) > i) return true;
        return false
    };
    d.prototype.onTouchMove = function(h) {
        if (!this.trackingClick) return true;
        if (this.targetElement !== this.getTargetElementFromEventTarget(h.target) || this.touchHasMoved(h)) {
            this.trackingClick = false;
            this.targetElement = null
        }
        return true
    };
    d.prototype.findControl = function(h) {
        if (h.control !== undefined) return h.control;
        if (h.htmlFor) return document.getElementById(h.htmlFor);
        return h.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")
    };
    d.prototype.onTouchEnd = function(j) {
        var l, k, i, n, m, h = this.targetElement;
        if (!this.trackingClick) return true;
        if (j.timeStamp - this.lastClickTime < this.tapDelay) {
            this.cancelNextClick = true;
            return true
        }
        if (j.timeStamp - this.trackingClickStart > this.tapTimeout) return true;
        this.cancelNextClick = false;
        this.lastClickTime = j.timeStamp;
        k = this.trackingClickStart;
        this.trackingClick = false;
        this.trackingClickStart = 0;
        if (f) {
            m = j.changedTouches[0];
            h = document.elementFromPoint(m.pageX - window.pageXOffset, m.pageY - window.pageYOffset) ||
                h;
            h.fastClickScrollParent = this.targetElement.fastClickScrollParent
        }
        i = h.tagName.toLowerCase();
        if (i === "label") {
            l = this.findControl(h);
            if (l) {
                this.focus(h);
                if (b) return false;
                h = l
            }
        } else if (this.needsFocus(h)) {
            if (j.timeStamp - k > 100 || g && window.top !== window && i === "input") {
                this.targetElement = null;
                return false
            }
            this.focus(h);
            this.sendClick(h, j);
            if (!g || i !== "select") {
                this.targetElement = null;
                j.preventDefault()
            }
            return false
        }
        if (g && !e) {
            n = h.fastClickScrollParent;
            if (n && n.fastClickLastScrollTop !== n.scrollTop) return true
        }
        if (!this.needsClick(h)) {
            j.preventDefault();
            this.sendClick(h, j)
        }
        return false
    };
    d.prototype.onTouchCancel = function() {
        this.trackingClick = false;
        this.targetElement = null
    };
    d.prototype.onMouse = function(h) {
        if (!this.targetElement) return true;
        if (h.forwardedTouchEvent) return true;
        if (!h.cancelable) return true;
        if (!this.needsClick(this.targetElement) || this.cancelNextClick) {
            if (h.stopImmediatePropagation) h.stopImmediatePropagation();
            else h.propagationStopped = true;
            h.stopPropagation();
            h.preventDefault();
            return false
        }
        return true
    };
    d.prototype.onClick = function(h) {
        var i;
        if (this.trackingClick) {
            this.targetElement = null;
            this.trackingClick = false;
            return true
        }
        if (h.target.type === "submit" && h.detail === 0) return true;
        i = this.onMouse(h);
        if (!i) this.targetElement = null;
        return i
    };
    d.prototype.destroy = function() {
        var h = this.layer;
        if (b) {
            h.removeEventListener("mouseover", this.onMouse, true);
            h.removeEventListener("mousedown", this.onMouse, true);
            h.removeEventListener("mouseup", this.onMouse, true)
        }
        h.removeEventListener("click", this.onClick, true);
        h.removeEventListener("touchstart", this.onTouchStart,
            false);
        h.removeEventListener("touchmove", this.onTouchMove, false);
        h.removeEventListener("touchend", this.onTouchEnd, false);
        h.removeEventListener("touchcancel", this.onTouchCancel, false)
    };
    d.notNeeded = function(i) {
        var h;
        var l;
        var k;
        var j;
        if (typeof window.ontouchstart === "undefined") return true;
        l = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1];
        if (l)
            if (b) {
                h = document.querySelector("meta[name=viewport]");
                if (h) {
                    if (h.content.indexOf("user-scalable=no") !== -1) return true;
                    if (l > 31 && document.documentElement.scrollWidth <=
                        window.outerWidth) return true
                }
            } else return true;
        if (a) {
            k = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);
            if (k[1] >= 10 && k[2] >= 3) {
                h = document.querySelector("meta[name=viewport]");
                if (h) {
                    if (h.content.indexOf("user-scalable=no") !== -1) return true;
                    if (document.documentElement.scrollWidth <= window.outerWidth) return true
                }
            }
        }
        if (i.style.msTouchAction === "none" || i.style.touchAction === "manipulation") return true;
        j = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1];
        if (j >= 27) {
            h = document.querySelector("meta[name=viewport]");
            if (h && (h.content.indexOf("user-scalable=no") !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) return true
        }
        if (i.style.touchAction === "none" || i.style.touchAction === "manipulation") return true;
        return false
    };
    d.attach = function(i, h) {
        return new d(i, h)
    };
    if (typeof define === "function" && typeof define.amd === "object" && define.amd) define(function() {
        return d
    });
    else if (typeof module !== "undefined" && module.exports) {
        module.exports = d.attach;
        module.exports.FastClick = d
    } else window.FastClick = d
})();
var a, b;
"undefined" != typeof navigator && (a = window || {}, b = function(window) {
    var svgNS = "http://www.w3.org/2000/svg",
        locationHref = "",
        initialDefaultFrame = -999999,
        subframeEnabled = !0,
        expressionsPlugin, isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent),
        cachedColors = {},
        bm_rounder = Math.round,
        bm_rnd, bm_pow = Math.pow,
        bm_sqrt = Math.sqrt,
        bm_abs = Math.abs,
        bm_floor = Math.floor,
        bm_max = Math.max,
        bm_min = Math.min,
        blitter = 10,
        BMMath = {};

    function ProjectInterface() {
        return {}
    }! function() {
        var t, e = ["abs", "acos", "acosh", "asin",
                "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"
            ],
            r = e.length;
        for (t = 0; t < r; t += 1) BMMath[e[t]] = Math[e[t]]
    }(), BMMath.random = Math.random, BMMath.abs = function(t) {
        if ("object" === typeof t && t.length) {
            var e, r = createSizedArray(t.length),
                i = t.length;
            for (e = 0; e < i; e += 1) r[e] = Math.abs(t[e]);
            return r
        }
        return Math.abs(t)
    };
    var defaultCurveSegments = 150,
        degToRads = Math.PI / 180,
        roundCorner = .5519;

    function roundValues(t) {
        bm_rnd = t ? Math.round : function(t) {
            return t
        }
    }

    function styleDiv(t) {
        t.style.position = "absolute", t.style.top = 0, t.style.left = 0, t.style.display = "block", t.style.transformOrigin = t.style.webkitTransformOrigin = "0 0", t.style.backfaceVisibility = t.style.webkitBackfaceVisibility = "visible", t.style.transformStyle = t.style.webkitTransformStyle = t.style.mozTransformStyle = "preserve-3d"
    }

    function BMEnterFrameEvent(t,
                               e, r, i) {
        this.type = t, this.currentTime = e, this.totalTime = r, this.direction = i < 0 ? -1 : 1
    }

    function BMCompleteEvent(t, e) {
        this.type = t, this.direction = e < 0 ? -1 : 1
    }

    function BMCompleteLoopEvent(t, e, r, i) {
        this.type = t, this.currentLoop = r, this.totalLoops = e, this.direction = i < 0 ? -1 : 1
    }

    function BMSegmentStartEvent(t, e, r) {
        this.type = t, this.firstFrame = e, this.totalFrames = r
    }

    function BMDestroyEvent(t, e) {
        this.type = t, this.target = e
    }

    function BMRenderFrameErrorEvent(t, e) {
        this.type = "renderFrameError", this.nativeError = t, this.currentTime = e
    }

    function BMConfigErrorEvent(t) {
        this.type = "configError", this.nativeError = t
    }

    function BMAnimationConfigErrorEvent(t, e) {
        this.type = t, this.nativeError = e, this.currentTime = currentTime
    }
    roundValues(!1);
    var createElementID = (I = 0, function() {
            return "__lottie_element_" + ++I
        }),
        I;

    function HSVtoRGB(t, e, r) {
        var i, s, a, n, o, h, l, p;
        switch (h = r * (1 - e), l = r * (1 - (o = 6 * t - (n = Math.floor(6 * t))) * e), p = r * (1 - (1 - o) * e), n % 6) {
            case 0:
                i = r, s = p, a = h;
                break;
            case 1:
                i = l, s = r, a = h;
                break;
            case 2:
                i = h, s = r, a = p;
                break;
            case 3:
                i = h, s = l, a = r;
                break;
            case 4:
                i = p, s = h, a =
                    r;
                break;
            case 5:
                i = r, s = h, a = l
        }
        return [i, s, a]
    }

    function RGBtoHSV(t, e, r) {
        var i, s = Math.max(t, e, r),
            a = Math.min(t, e, r),
            n = s - a,
            o = 0 === s ? 0 : n / s,
            h = s / 255;
        switch (s) {
            case a:
                i = 0;
                break;
            case t:
                i = e - r + n * (e < r ? 6 : 0), i /= 6 * n;
                break;
            case e:
                i = r - t + 2 * n, i /= 6 * n;
                break;
            case r:
                i = t - e + 4 * n, i /= 6 * n
        }
        return [i, o, h]
    }

    function addSaturationToRGB(t, e) {
        var r = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]);
        return r[1] += e, 1 < r[1] ? r[1] = 1 : r[1] <= 0 && (r[1] = 0), HSVtoRGB(r[0], r[1], r[2])
    }

    function addBrightnessToRGB(t, e) {
        var r = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]);
        return r[2] +=
            e, 1 < r[2] ? r[2] = 1 : r[2] < 0 && (r[2] = 0), HSVtoRGB(r[0], r[1], r[2])
    }

    function addHueToRGB(t, e) {
        var r = RGBtoHSV(255 * t[0], 255 * t[1], 255 * t[2]);
        return r[0] += e / 360, 1 < r[0] ? r[0] -= 1 : r[0] < 0 && (r[0] += 1), HSVtoRGB(r[0], r[1], r[2])
    }
    var rgbToHex = function() {
        var t, e, i = [];
        for (t = 0; t < 256; t += 1) e = t.toString(16), i[t] = 1 == e.length ? "0" + e : e;
        return function(t, e, r) {
            return t < 0 && (t = 0), e < 0 && (e = 0), r < 0 && (r = 0), "#" + i[t] + i[e] + i[r]
        }
    }();

    function BaseEvent() {}
    BaseEvent.prototype = {
        triggerEvent: function(t, e) {
            if (this._cbs[t])
                for (var r = this._cbs[t].length,
                         i = 0; i < r; i++) this._cbs[t][i](e)
        },
        addEventListener: function(t, e) {
            return this._cbs[t] || (this._cbs[t] = []), this._cbs[t].push(e),
                function() {
                    this.removeEventListener(t, e)
                }.bind(this)
        },
        removeEventListener: function(t, e) {
            if (e) {
                if (this._cbs[t]) {
                    for (var r = 0, i = this._cbs[t].length; r < i;) this._cbs[t][r] === e && (this._cbs[t].splice(r, 1), r -= 1, i -= 1), r += 1;
                    this._cbs[t].length || (this._cbs[t] = null)
                }
            } else this._cbs[t] = null
        }
    };
    var createTypedArray = "function" == typeof Uint8ClampedArray && "function" == typeof Float32Array ? function(t,
                                                                                                                  e) {
        return "float32" === t ? new Float32Array(e) : "int16" === t ? new Int16Array(e) : "uint8c" === t ? new Uint8ClampedArray(e) : void 0
    } : function(t, e) {
        var r, i = 0,
            s = [];
        switch (t) {
            case "int16":
            case "uint8c":
                r = 1;
                break;
            default:
                r = 1.1
        }
        for (i = 0; i < e; i += 1) s.push(r);
        return s
    };

    function createSizedArray(t) {
        return Array.apply(null, {
            length: t
        })
    }

    function createNS(t) {
        return document.createElementNS(svgNS, t)
    }

    function createTag(t) {
        return document.createElement(t)
    }

    function DynamicPropertyContainer() {}
    DynamicPropertyContainer.prototype = {
        addDynamicProperty: function(t) {
            -1 ===
            this.dynamicProperties.indexOf(t) && (this.dynamicProperties.push(t), this.container.addDynamicProperty(this), this._isAnimated = !0)
        },
        iterateDynamicProperties: function() {
            this._mdf = !1;
            var t, e = this.dynamicProperties.length;
            for (t = 0; t < e; t += 1) this.dynamicProperties[t].getValue(), this.dynamicProperties[t]._mdf && (this._mdf = !0)
        },
        initDynamicPropertyContainer: function(t) {
            this.container = t, this.dynamicProperties = [], this._mdf = !1, this._isAnimated = !1
        }
    };
    var getBlendMode = (Ra = {
            0: "source-over",
            1: "multiply",
            2: "screen",
            3: "overlay",
            4: "darken",
            5: "lighten",
            6: "color-dodge",
            7: "color-burn",
            8: "hard-light",
            9: "soft-light",
            10: "difference",
            11: "exclusion",
            12: "hue",
            13: "saturation",
            14: "color",
            15: "luminosity"
        }, function(t) {
            return Ra[t] || ""
        }),
        Ra, Matrix = function() {
            var s = Math.cos,
                a = Math.sin,
                n = Math.tan,
                i = Math.round;

            function t() {
                return this.props[0] = 1, this.props[1] = 0, this.props[2] = 0, this.props[3] = 0, this.props[4] = 0, this.props[5] = 1, this.props[6] = 0, this.props[7] = 0, this.props[8] = 0, this.props[9] = 0, this.props[10] = 1, this.props[11] = 0, this.props[12] = 0,
                    this.props[13] = 0, this.props[14] = 0, this.props[15] = 1, this
            }

            function e(t) {
                if (0 === t) return this;
                var e = s(t),
                    r = a(t);
                return this._t(e, -r, 0, 0, r, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
            }

            function r(t) {
                if (0 === t) return this;
                var e = s(t),
                    r = a(t);
                return this._t(1, 0, 0, 0, 0, e, -r, 0, 0, r, e, 0, 0, 0, 0, 1)
            }

            function o(t) {
                if (0 === t) return this;
                var e = s(t),
                    r = a(t);
                return this._t(e, 0, r, 0, 0, 1, 0, 0, -r, 0, e, 0, 0, 0, 0, 1)
            }

            function h(t) {
                if (0 === t) return this;
                var e = s(t),
                    r = a(t);
                return this._t(e, -r, 0, 0, r, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
            }

            function l(t, e) {
                return this._t(1, e, t,
                    1, 0, 0)
            }

            function p(t, e) {
                return this.shear(n(t), n(e))
            }

            function m(t, e) {
                var r = s(e),
                    i = a(e);
                return this._t(r, i, 0, 0, -i, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                    ._t(1, 0, 0, 0, n(t), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
                    ._t(r, -i, 0, 0, i, r, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
            }

            function f(t, e, r) {
                return r || 0 === r || (r = 1), 1 === t && 1 === e && 1 === r ? this : this._t(t, 0, 0, 0, 0, e, 0, 0, 0, 0, r, 0, 0, 0, 0, 1)
            }

            function c(t, e, r, i, s, a, n, o, h, l, p, m, f, c, d, u) {
                return this.props[0] = t, this.props[1] = e, this.props[2] = r, this.props[3] = i, this.props[4] = s, this.props[5] = a, this.props[6] = n, this.props[7] = o, this.props[8] =
                    h, this.props[9] = l, this.props[10] = p, this.props[11] = m, this.props[12] = f, this.props[13] = c, this.props[14] = d, this.props[15] = u, this
            }

            function d(t, e, r) {
                return r = r || 0, 0 !== t || 0 !== e || 0 !== r ? this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t, e, r, 1) : this
            }

            function u(t, e, r, i, s, a, n, o, h, l, p, m, f, c, d, u) {
                var y = this.props;
                if (1 === t && 0 === e && 0 === r && 0 === i && 0 === s && 1 === a && 0 === n && 0 === o && 0 === h && 0 === l && 1 === p && 0 === m) return y[12] = y[12] * t + y[15] * f, y[13] = y[13] * a + y[15] * c, y[14] = y[14] * p + y[15] * d, y[15] = y[15] * u, this._identityCalculated = !1, this;
                var g = y[0],
                    v = y[1],
                    b = y[2],
                    E = y[3],
                    x = y[4],
                    P = y[5],
                    S = y[6],
                    _ = y[7],
                    A = y[8],
                    C = y[9],
                    T = y[10],
                    k = y[11],
                    M = y[12],
                    D = y[13],
                    w = y[14],
                    F = y[15];
                return y[0] = g * t + v * s + b * h + E * f, y[1] = g * e + v * a + b * l + E * c, y[2] = g * r + v * n + b * p + E * d, y[3] = g * i + v * o + b * m + E * u, y[4] = x * t + P * s + S * h + _ * f, y[5] = x * e + P * a + S * l + _ * c, y[6] = x * r + P * n + S * p + _ * d, y[7] = x * i + P * o + S * m + _ * u, y[8] = A * t + C * s + T * h + k * f, y[9] = A * e + C * a + T * l + k * c, y[10] = A * r + C * n + T * p + k * d, y[11] = A * i + C * o + T * m + k * u, y[12] = M * t + D * s + w * h + F * f, y[13] = M * e + D * a + w * l + F * c, y[14] = M * r + D * n + w * p + F * d, y[15] = M * i + D * o + w * m + F * u, this._identityCalculated = !1, this
            }

            function y() {
                return this._identityCalculated ||
                (this._identity = !(1 !== this.props[0] || 0 !== this.props[1] || 0 !== this.props[2] || 0 !== this.props[3] || 0 !== this.props[4] || 1 !== this.props[5] || 0 !== this.props[6] || 0 !== this.props[7] || 0 !== this.props[8] || 0 !== this.props[9] || 1 !== this.props[10] || 0 !== this.props[11] || 0 !== this.props[12] || 0 !== this.props[13] || 0 !== this.props[14] || 1 !== this.props[15]), this._identityCalculated = !0), this._identity
            }

            function g(t) {
                for (var e = 0; e < 16;) {
                    if (t.props[e] !== this.props[e]) return !1;
                    e += 1
                }
                return !0
            }

            function v(t) {
                var e;
                for (e = 0; e < 16; e += 1) t.props[e] =
                    this.props[e]
            }

            function b(t) {
                var e;
                for (e = 0; e < 16; e += 1) this.props[e] = t[e]
            }

            function E(t, e, r) {
                return {
                    x: t * this.props[0] + e * this.props[4] + r * this.props[8] + this.props[12],
                    y: t * this.props[1] + e * this.props[5] + r * this.props[9] + this.props[13],
                    z: t * this.props[2] + e * this.props[6] + r * this.props[10] + this.props[14]
                }
            }

            function x(t, e, r) {
                return t * this.props[0] + e * this.props[4] + r * this.props[8] + this.props[12]
            }

            function P(t, e, r) {
                return t * this.props[1] + e * this.props[5] + r * this.props[9] + this.props[13]
            }

            function S(t, e, r) {
                return t * this.props[2] +
                    e * this.props[6] + r * this.props[10] + this.props[14]
            }

            function _(t) {
                var e = this.props[0] * this.props[5] - this.props[1] * this.props[4],
                    r = this.props[5] / e,
                    i = -this.props[1] / e,
                    s = -this.props[4] / e,
                    a = this.props[0] / e,
                    n = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / e,
                    o = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / e;
                return [t[0] * r + t[1] * s + n, t[0] * i + t[1] * a + o, 0]
            }

            function A(t) {
                var e, r = t.length,
                    i = [];
                for (e = 0; e < r; e += 1) i[e] = _(t[e]);
                return i
            }

            function C(t, e, r) {
                var i = createTypedArray("float32", 6);
                if (this.isIdentity()) i[0] =
                    t[0], i[1] = t[1], i[2] = e[0], i[3] = e[1], i[4] = r[0], i[5] = r[1];
                else {
                    var s = this.props[0],
                        a = this.props[1],
                        n = this.props[4],
                        o = this.props[5],
                        h = this.props[12],
                        l = this.props[13];
                    i[0] = t[0] * s + t[1] * n + h, i[1] = t[0] * a + t[1] * o + l, i[2] = e[0] * s + e[1] * n + h, i[3] = e[0] * a + e[1] * o + l, i[4] = r[0] * s + r[1] * n + h, i[5] = r[0] * a + r[1] * o + l
                }
                return i
            }

            function T(t, e, r) {
                return this.isIdentity() ? [t, e, r] : [t * this.props[0] + e * this.props[4] + r * this.props[8] + this.props[12], t * this.props[1] + e * this.props[5] + r * this.props[9] + this.props[13], t * this.props[2] + e * this.props[6] +
                r * this.props[10] + this.props[14]
                ]
            }

            function k(t, e) {
                if (this.isIdentity()) return t + "," + e;
                var r = this.props;
                return Math.round(100 * (t * r[0] + e * r[4] + r[12])) / 100 + "," + Math.round(100 * (t * r[1] + e * r[5] + r[13])) / 100
            }

            function M() {
                for (var t = 0, e = this.props, r = "matrix3d("; t < 16;) r += i(1E4 * e[t]) / 1E4, r += 15 === t ? ")" : ",", t += 1;
                return r
            }

            function D(t) {
                return t < 1E-6 && 0 < t || -1E-6 < t && t < 0 ? i(1E4 * t) / 1E4 : t
            }

            function w() {
                var t = this.props;
                return "matrix(" + D(t[0]) + "," + D(t[1]) + "," + D(t[4]) + "," + D(t[5]) + "," + D(t[12]) + "," + D(t[13]) + ")"
            }
            return function() {
                this.reset =
                    t, this.rotate = e, this.rotateX = r, this.rotateY = o, this.rotateZ = h, this.skew = p, this.skewFromAxis = m, this.shear = l, this.scale = f, this.setTransform = c, this.translate = d, this.transform = u, this.applyToPoint = E, this.applyToX = x, this.applyToY = P, this.applyToZ = S, this.applyToPointArray = T, this.applyToTriplePoints = C, this.applyToPointStringified = k, this.toCSS = M, this.to2dCSS = w, this.clone = v, this.cloneFromProps = b, this.equals = g, this.inversePoints = A, this.inversePoint = _, this._t = this.transform, this.isIdentity = y, this._identity = !0,
                    this._identityCalculated = !1, this.props = createTypedArray("float32", 16), this.reset()
            }
        }();
    ! function(o, h) {
        var l, p = this,
            m = 256,
            f = 6,
            c = "random",
            d = h.pow(m, f),
            u = h.pow(2, 52),
            y = 2 * u,
            g = m - 1;

        function v(t) {
            var e, r = t.length,
                n = this,
                i = 0,
                s = n.i = n.j = 0,
                a = n.S = [];
            for (r || (t = [r++]); i < m;) a[i] = i++;
            for (i = 0; i < m; i++) a[i] = a[s = g & s + t[i % r] + (e = a[i])], a[s] = e;
            n.g = function(t) {
                for (var e, r = 0, i = n.i, s = n.j, a = n.S; t--;) e = a[i = g & i + 1], r = r * m + a[g & (a[i] = a[s = g & s + e]) + (a[s] = e)];
                return n.i = i, n.j = s, r
            }
        }

        function b(t, e) {
            return e.i = t.i, e.j = t.j, e.S = t.S.slice(),
                e
        }

        function E(t, e) {
            for (var r, i = t + "", s = 0; s < i.length;) e[g & s] = g & (r ^= 19 * e[g & s]) + i.charCodeAt(s++);
            return x(e)
        }

        function x(t) {
            return String.fromCharCode.apply(0, t)
        }
        h["seed" + c] = function(t, e, r) {
            var i = [],
                s = E(function t(e, r) {
                    var i, s = [],
                        a = typeof e;
                    if (r && "object" == a)
                        for (i in e) try {
                            s.push(t(e[i], r - 1))
                        } catch (t$6) {}
                    return s.length ? s : "string" == a ? e : e + "\x00"
                }((e = !0 === e ? {
                    entropy: !0
                } : e || {})
                    .entropy ? [t, x(o)] : null === t ? function() {
                    try {
                        if (l) return x(l.randomBytes(m));
                        var t = new Uint8Array(m);
                        return (p.crypto || p.msCrypto)
                            .getRandomValues(t),
                            x(t)
                    } catch (t$7) {
                        var e = p.navigator,
                            r = e && e.plugins;
                        return [+new Date, p, r, p.screen, x(o)]
                    }
                }() : t, 3), i),
                a = new v(i),
                n = function() {
                    for (var t = a.g(f), e = d, r = 0; t < u;) t = (t + r) * m, e *= m, r = a.g(1);
                    for (; y <= t;) t /= 2, e /= 2, r >>>= 1;
                    return (t + r) / e
                };
            return n.int32 = function() {
                return 0 | a.g(4)
            }, n.quick = function() {
                return a.g(4) / 4294967296
            }, n.double = n, E(x(a.S), o), (e.pass || r || function(t, e, r, i) {
                return i && (i.S && b(i, a), t.state = function() {
                    return b(a, {})
                }), r ? (h[c] = t, e) : t
            })(n, s, "global" in e ? e.global : this == h, e.state)
        }, E(h.random(), o)
    }([], BMMath);
    var BezierFactory = function() {
        var t = {
                getBezierEasing: function(t, e, r, i, s) {
                    var a = s || ("bez_" + t + "_" + e + "_" + r + "_" + i)
                        .replace(/\./g, "p");
                    if (o[a]) return o[a];
                    var n = new h([t, e, r, i]);
                    return o[a] = n
                }
            },
            o = {};
        var l = 11,
            p = 1 / (l - 1),
            e = "function" == typeof Float32Array;

        function i(t, e) {
            return 1 - 3 * e + 3 * t
        }

        function s(t, e) {
            return 3 * e - 6 * t
        }

        function a(t) {
            return 3 * t
        }

        function m(t, e, r) {
            return ((i(e, r) * t + s(e, r)) * t + a(e)) * t
        }

        function f(t, e, r) {
            return 3 * i(e, r) * t * t + 2 * s(e, r) * t + a(e)
        }

        function h(t) {
            this._p = t, this._mSampleValues = e ? new Float32Array(l) :
                new Array(l), this._precomputed = !1, this.get = this.get.bind(this)
        }
        return h.prototype = {
            get: function(t) {
                var e = this._p[0],
                    r = this._p[1],
                    i = this._p[2],
                    s = this._p[3];
                return this._precomputed || this._precompute(), e === r && i === s ? t : 0 === t ? 0 : 1 === t ? 1 : m(this._getTForX(t), r, s)
            },
            _precompute: function() {
                var t = this._p[0],
                    e = this._p[1],
                    r = this._p[2],
                    i = this._p[3];
                this._precomputed = !0, t === e && r === i || this._calcSampleValues()
            },
            _calcSampleValues: function() {
                for (var t = this._p[0], e = this._p[2], r = 0; r < l; ++r) this._mSampleValues[r] = m(r * p,
                    t, e)
            },
            _getTForX: function(t) {
                for (var e = this._p[0], r = this._p[2], i = this._mSampleValues, s = 0, a = 1, n = l - 1; a !== n && i[a] <= t; ++a) s += p;
                var o = s + (t - i[--a]) / (i[a + 1] - i[a]) * p,
                    h = f(o, e, r);
                return .001 <= h ? function(t, e, r, i) {
                    for (var s = 0; s < 4; ++s) {
                        var a = f(e, r, i);
                        if (0 === a) return e;
                        e -= (m(e, r, i) - t) / a
                    }
                    return e
                }(t, o, e, r) : 0 === h ? o : function(t, e, r, i, s) {
                    for (var a, n, o = 0; 0 < (a = m(n = e + (r - e) / 2, i, s) - t) ? r = n : e = n, 1E-7 < Math.abs(a) && ++o < 10;);
                    return n
                }(t, s, s + p, e, r)
            }
        }, t
    }();

    function extendPrototype(t, e) {
        var r, i, s = t.length;
        for (r = 0; r < s; r += 1)
            for (var a in i =
                t[r].prototype) i.hasOwnProperty(a) && (e.prototype[a] = i[a])
    }

    function getDescriptor(t, e) {
        return Object.getOwnPropertyDescriptor(t, e)
    }

    function createProxyFunction(t) {
        function e() {}
        return e.prototype = t, e
    }

    function bezFunction() {
        Math;

        function y(t, e, r, i, s, a) {
            var n = t * i + e * s + r * a - s * i - a * t - r * e;
            return -.001 < n && n < .001
        }
        var p = function(t, e, r, i) {
            var s, a, n, o, h, l, p = defaultCurveSegments,
                m = 0,
                f = [],
                c = [],
                d = bezier_length_pool.newElement();
            for (n = r.length, s = 0; s < p; s += 1) {
                for (h = s / (p - 1), a = l = 0; a < n; a += 1) o = bm_pow(1 - h, 3) * t[a] + 3 * bm_pow(1 -
                    h, 2) * h * r[a] + 3 * (1 - h) * bm_pow(h, 2) * i[a] + bm_pow(h, 3) * e[a], f[a] = o, null !== c[a] && (l += bm_pow(f[a] - c[a], 2)), c[a] = f[a];
                l && (m += l = bm_sqrt(l)), d.percents[s] = h, d.lengths[s] = m
            }
            return d.addedLength = m, d
        };

        function g(t) {
            this.segmentLength = 0, this.points = new Array(t)
        }

        function v(t, e) {
            this.partialLength = t, this.point = e
        }
        var b, t = (b = {}, function(t, e, r, i) {
            var s = (t[0] + "_" + t[1] + "_" + e[0] + "_" + e[1] + "_" + r[0] + "_" + r[1] + "_" + i[0] + "_" + i[1])
                .replace(/\./g, "p");
            if (!b[s]) {
                var a, n, o, h, l, p, m, f = defaultCurveSegments,
                    c = 0,
                    d = null;
                2 === t.length && (t[0] !=
                    e[0] || t[1] != e[1]) && y(t[0], t[1], e[0], e[1], t[0] + r[0], t[1] + r[1]) && y(t[0], t[1], e[0], e[1], e[0] + i[0], e[1] + i[1]) && (f = 2);
                var u = new g(f);
                for (o = r.length, a = 0; a < f; a += 1) {
                    for (m = createSizedArray(o), l = a / (f - 1), n = p = 0; n < o; n += 1) h = bm_pow(1 - l, 3) * t[n] + 3 * bm_pow(1 - l, 2) * l * (t[n] + r[n]) + 3 * (1 - l) * bm_pow(l, 2) * (e[n] + i[n]) + bm_pow(l, 3) * e[n], m[n] = h, null !== d && (p += bm_pow(m[n] - d[n], 2));
                    c += p = bm_sqrt(p), u.points[a] = new v(p, m), d = m
                }
                u.segmentLength = c, b[s] = u
            }
            return b[s]
        });

        function M(t, e) {
            var r = e.percents,
                i = e.lengths,
                s = r.length,
                a = bm_floor((s -
                    1) * t),
                n = t * e.addedLength,
                o = 0;
            if (a === s - 1 || 0 === a || n === i[a]) return r[a];
            for (var h = i[a] > n ? -1 : 1, l = !0; l;)
                if (i[a] <= n && i[a + 1] > n ? (o = (n - i[a]) / (i[a + 1] - i[a]), l = !1) : a += h, a < 0 || s - 1 <= a) {
                    if (a === s - 1) return r[a];
                    l = !1
                } return r[a] + (r[a + 1] - r[a]) * o
        }
        var D = createTypedArray("float32", 8);
        return {
            getSegmentsLength: function(t) {
                var e, r = segments_length_pool.newElement(),
                    i = t.c,
                    s = t.v,
                    a = t.o,
                    n = t.i,
                    o = t._length,
                    h = r.lengths,
                    l = 0;
                for (e = 0; e < o - 1; e += 1) h[e] = p(s[e], s[e + 1], a[e], n[e + 1]), l += h[e].addedLength;
                return i && o && (h[e] = p(s[e], s[0], a[e], n[0]),
                    l += h[e].addedLength), r.totalLength = l, r
            },
            getNewSegment: function(t, e, r, i, s, a, n) {
                var o, h = M(s = s < 0 ? 0 : 1 < s ? 1 : s, n),
                    l = M(a = 1 < a ? 1 : a, n),
                    p = t.length,
                    m = 1 - h,
                    f = 1 - l,
                    c = m * m * m,
                    d = h * m * m * 3,
                    u = h * h * m * 3,
                    y = h * h * h,
                    g = m * m * f,
                    v = h * m * f + m * h * f + m * m * l,
                    b = h * h * f + m * h * l + h * m * l,
                    E = h * h * l,
                    x = m * f * f,
                    P = h * f * f + m * l * f + m * f * l,
                    S = h * l * f + m * l * l + h * f * l,
                    _ = h * l * l,
                    A = f * f * f,
                    C = l * f * f + f * l * f + f * f * l,
                    T = l * l * f + f * l * l + l * f * l,
                    k = l * l * l;
                for (o = 0; o < p; o += 1) D[4 * o] = Math.round(1E3 * (c * t[o] + d * r[o] + u * i[o] + y * e[o])) / 1E3, D[4 * o + 1] = Math.round(1E3 * (g * t[o] + v * r[o] + b * i[o] + E * e[o])) / 1E3, D[4 * o + 2] = Math.round(1E3 *
                    (x * t[o] + P * r[o] + S * i[o] + _ * e[o])) / 1E3, D[4 * o + 3] = Math.round(1E3 * (A * t[o] + C * r[o] + T * i[o] + k * e[o])) / 1E3;
                return D
            },
            getPointInSegment: function(t, e, r, i, s, a) {
                var n = M(s, a),
                    o = 1 - n;
                return [Math.round(1E3 * (o * o * o * t[0] + (n * o * o + o * n * o + o * o * n) * r[0] + (n * n * o + o * n * n + n * o * n) * i[0] + n * n * n * e[0])) / 1E3, Math.round(1E3 * (o * o * o * t[1] + (n * o * o + o * n * o + o * o * n) * r[1] + (n * n * o + o * n * n + n * o * n) * i[1] + n * n * n * e[1])) / 1E3]
            },
            buildBezierData: t,
            pointOnLine2D: y,
            pointOnLine3D: function(t, e, r, i, s, a, n, o, h) {
                if (0 === r && 0 === a && 0 === h) return y(t, e, i, s, n, o);
                var l, p = Math.sqrt(Math.pow(i -
                    t, 2) + Math.pow(s - e, 2) + Math.pow(a - r, 2)),
                    m = Math.sqrt(Math.pow(n - t, 2) + Math.pow(o - e, 2) + Math.pow(h - r, 2)),
                    f = Math.sqrt(Math.pow(n - i, 2) + Math.pow(o - s, 2) + Math.pow(h - a, 2));
                return -1E-4 < (l = m < p ? f < p ? p - m - f : f - m - p : m < f ? f - m - p : m - p - f) && l < 1E-4
            }
        }
    }! function() {
        for (var a = 0, t = ["ms", "moz", "webkit", "o"], e = 0; e < t.length && !window.requestAnimationFrame; ++e) window.requestAnimationFrame = window[t[e] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[e] + "CancelAnimationFrame"] || window[t[e] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame ||
        (window.requestAnimationFrame = function(t, e) {
            var r = (new Date)
                    .getTime(),
                i = Math.max(0, 16 - (r - a)),
                s = setTimeout(function() {
                    t(r + i)
                }, i);
            return a = r + i, s
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(t) {
            clearTimeout(t)
        })
    }();
    var bez = bezFunction();

    function dataFunctionManager() {
        function c(t, e) {
            for (var r = 0, i = e.length; r < i;) {
                if (e[r].id === t) return e[r].layers.__used ? JSON.parse(JSON.stringify(e[r].layers)) : (e[r].layers.__used = !0, e[r].layers);
                r += 1
            }
        }

        function d(t) {
            var e, r, i;
            for (e = t.length - 1; 0 <=
            e; e -= 1)
                if ("sh" == t[e].ty) {
                    if (t[e].ks.k.i) u(t[e].ks.k);
                    else
                        for (i = t[e].ks.k.length, r = 0; r < i; r += 1) t[e].ks.k[r].s && u(t[e].ks.k[r].s[0]), t[e].ks.k[r].e && u(t[e].ks.k[r].e[0]);
                    !0
                } else "gr" == t[e].ty && d(t[e].it)
        }

        function u(t) {
            var e, r = t.i.length;
            for (e = 0; e < r; e += 1) t.i[e][0] += t.v[e][0], t.i[e][1] += t.v[e][1], t.o[e][0] += t.v[e][0], t.o[e][1] += t.v[e][1]
        }

        function o(t, e) {
            var r = e ? e.split(".") : [100, 100, 100];
            return t[0] > r[0] || !(r[0] > t[0]) && (t[1] > r[1] || !(r[1] > t[1]) && (t[2] > r[2] || !(r[2] > t[2]) && void 0))
        }
        var h, r = function() {
                var i = [4, 4, 14];

                function s(t) {
                    var e, r, i, s = t.length;
                    for (e = 0; e < s; e += 1) 5 === t[e].ty && (r = t[e], void 0, i = r.t.d, r.t.d = {
                        k: [{
                            s: i,
                            t: 0
                        }]
                    })
                }
                return function(t) {
                    if (o(i, t.v) && (s(t.layers), t.assets)) {
                        var e, r = t.assets.length;
                        for (e = 0; e < r; e += 1) t.assets[e].layers && s(t.assets[e].layers)
                    }
                }
            }(),
            i = (h = [4, 7, 99], function(t) {
                if (t.chars && !o(h, t.v)) {
                    var e, r, i, s, a, n = t.chars.length;
                    for (e = 0; e < n; e += 1)
                        if (t.chars[e].data && t.chars[e].data.shapes)
                            for (i = (a = t.chars[e].data.shapes[0].it)
                                .length, r = 0; r < i; r += 1)(s = a[r].ks.k)
                                .__converted || (u(a[r].ks.k),
                                s.__converted = !0)
                }
            }),
            s = function() {
                var i = [4, 1, 9];

                function a(t) {
                    var e, r, i, s = t.length;
                    for (e = 0; e < s; e += 1)
                        if ("gr" === t[e].ty) a(t[e].it);
                        else if ("fl" === t[e].ty || "st" === t[e].ty)
                            if (t[e].c.k && t[e].c.k[0].i)
                                for (i = t[e].c.k.length, r = 0; r < i; r += 1) t[e].c.k[r].s && (t[e].c.k[r].s[0] /= 255, t[e].c.k[r].s[1] /= 255, t[e].c.k[r].s[2] /= 255, t[e].c.k[r].s[3] /= 255), t[e].c.k[r].e && (t[e].c.k[r].e[0] /= 255, t[e].c.k[r].e[1] /= 255, t[e].c.k[r].e[2] /= 255, t[e].c.k[r].e[3] /= 255);
                            else t[e].c.k[0] /= 255, t[e].c.k[1] /= 255, t[e].c.k[2] /= 255, t[e].c.k[3] /=
                                255
                }

                function s(t) {
                    var e, r = t.length;
                    for (e = 0; e < r; e += 1) 4 === t[e].ty && a(t[e].shapes)
                }
                return function(t) {
                    if (o(i, t.v) && (s(t.layers), t.assets)) {
                        var e, r = t.assets.length;
                        for (e = 0; e < r; e += 1) t.assets[e].layers && s(t.assets[e].layers)
                    }
                }
            }(),
            a = function() {
                var i = [4, 4, 18];

                function l(t) {
                    var e, r, i;
                    for (e = t.length - 1; 0 <= e; e -= 1)
                        if ("sh" == t[e].ty) {
                            if (t[e].ks.k.i) t[e].ks.k.c = t[e].closed;
                            else
                                for (i = t[e].ks.k.length, r = 0; r < i; r += 1) t[e].ks.k[r].s && (t[e].ks.k[r].s[0].c = t[e].closed), t[e].ks.k[r].e && (t[e].ks.k[r].e[0].c = t[e].closed);
                            !0
                        } else "gr" == t[e].ty && l(t[e].it)
                }

                function s(t) {
                    var e, r, i, s, a, n, o = t.length;
                    for (r = 0; r < o; r += 1) {
                        if ((e = t[r])
                            .hasMask) {
                            var h = e.masksProperties;
                            for (s = h.length, i = 0; i < s; i += 1)
                                if (h[i].pt.k.i) h[i].pt.k.c = h[i].cl;
                                else
                                    for (n = h[i].pt.k.length, a = 0; a < n; a += 1) h[i].pt.k[a].s && (h[i].pt.k[a].s[0].c = h[i].cl), h[i].pt.k[a].e && (h[i].pt.k[a].e[0].c = h[i].cl)
                        }
                        4 === e.ty && l(e.shapes)
                    }
                }
                return function(t) {
                    if (o(i, t.v) && (s(t.layers), t.assets)) {
                        var e, r = t.assets.length;
                        for (e = 0; e < r; e += 1) t.assets[e].layers && s(t.assets[e].layers)
                    }
                }
            }();
        var t = {};
        return t.completeData = function(t, e) {
            t.__complete || (s(t), r(t), i(t), a(t), function t(e, r, i) {
                var s, a, n, o, h, l, p, m = e.length;
                for (a = 0; a < m; a += 1)
                    if ("ks" in (s = e[a]) && !s.completed) {
                        if (s.completed = !0, s.tt && (e[a - 1].td = s.tt), s.hasMask) {
                            var f = s.masksProperties;
                            for (o = f.length, n = 0; n < o; n += 1)
                                if (f[n].pt.k.i) u(f[n].pt.k);
                                else
                                    for (l = f[n].pt.k.length, h = 0; h < l; h += 1) f[n].pt.k[h].s && u(f[n].pt.k[h].s[0]), f[n].pt.k[h].e && u(f[n].pt.k[h].e[0])
                        }
                        0 === s.ty ? (s.layers = c(s.refId, r), t(s.layers, r, i)) : 4 === s.ty ? d(s.shapes) : 5 == s.ty && (0 !==
                            (p = s)
                                .t.a.length || "m" in p.t.p || (p.singleShape = !0))
                    }
            }(t.layers, t.assets, e), t.__complete = !0)
        }, t
    }
    var dataManager = dataFunctionManager(),
        FontManager = function() {
            var a = {
                    w: 0,
                    size: 0,
                    shapes: []
                },
                t = [];

            function u(t, e) {
                var r = createTag("span");
                r.style.fontFamily = e;
                var i = createTag("span");
                i.innerHTML = "giItT1WQy@!-/#", r.style.position = "absolute", r.style.left = "-10000px", r.style.top = "-10000px", r.style.fontSize = "300px", r.style.fontVariant = "normal", r.style.fontStyle = "normal", r.style.fontWeight = "normal", r.style.letterSpacing =
                    "0", r.appendChild(i), document.body.appendChild(r);
                var s = i.offsetWidth;
                return i.style.fontFamily = t + ", " + e, {
                    node: i,
                    w: s,
                    parent: r
                }
            }
            t = t.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);
            var e = function() {
                this.fonts = [], this.chars = null, this.typekitLoaded = 0, this.isLoaded = !1, this.initTime = Date.now()
            };
            return e.getCombinedCharacterCodes = function() {
                return t
            }, e.prototype.addChars = function(t) {
                if (t) {
                    this.chars ||
                    (this.chars = []);
                    var e, r, i, s = t.length,
                        a = this.chars.length;
                    for (e = 0; e < s; e += 1) {
                        for (r = 0, i = !1; r < a;) this.chars[r].style === t[e].style && this.chars[r].fFamily === t[e].fFamily && this.chars[r].ch === t[e].ch && (i = !0), r += 1;
                        i || (this.chars.push(t[e]), a += 1)
                    }
                }
            }, e.prototype.addFonts = function(t, e) {
                if (t) {
                    if (this.chars) return this.isLoaded = !0, void(this.fonts = t.list);
                    var r, i, s, a, n = t.list,
                        o = n.length,
                        h = o;
                    for (r = 0; r < o; r += 1) {
                        var l, p, m = !0;
                        if (n[r].loaded = !1, n[r].monoCase = u(n[r].fFamily, "monospace"), n[r].sansCase = u(n[r].fFamily, "sans-serif"),
                            n[r].fPath)
                            if ("p" === n[r].fOrigin || 3 === n[r].origin) {
                                if (0 < (l = document.querySelectorAll('style[f-forigin="p"][f-family="' + n[r].fFamily + '"], style[f-origin="3"][f-family="' + n[r].fFamily + '"]'))
                                    .length && (m = !1), m) {
                                    var f = createTag("style");
                                    f.setAttribute("f-forigin", n[r].fOrigin), f.setAttribute("f-origin", n[r].origin), f.setAttribute("f-family", n[r].fFamily), f.type = "text/css", f.innerHTML = "@font-face {font-family: " + n[r].fFamily + "; font-style: normal; src: url('" + n[r].fPath + "');}", e.appendChild(f)
                                }
                            } else if ("g" ===
                                n[r].fOrigin || 1 === n[r].origin) {
                                for (l = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'), p = 0; p < l.length; p++) - 1 !== l[p].href.indexOf(n[r].fPath) && (m = !1);
                                if (m) {
                                    var c = createTag("link");
                                    c.setAttribute("f-forigin", n[r].fOrigin), c.setAttribute("f-origin", n[r].origin), c.type = "text/css", c.rel = "stylesheet", c.href = n[r].fPath, document.body.appendChild(c)
                                }
                            } else {
                                if ("t" === n[r].fOrigin || 2 === n[r].origin) {
                                    for (l = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'), p = 0; p < l.length; p++) n[r].fPath ===
                                    l[p].src && (m = !1);
                                    if (m) {
                                        var d = createTag("link");
                                        d.setAttribute("f-forigin", n[r].fOrigin), d.setAttribute("f-origin", n[r].origin), d.setAttribute("rel", "stylesheet"), d.setAttribute("href", n[r].fPath), e.appendChild(d)
                                    }
                                }
                            } else n[r].loaded = !0, h -= 1;
                        n[r].helper = (i = e, s = n[r], a = void 0, (a = createNS("text"))
                            .style.fontSize = "100px", a.setAttribute("font-family", s.fFamily), a.setAttribute("font-style", s.fStyle), a.setAttribute("font-weight", s.fWeight), a.textContent = "1", s.fClass ? (a.style.fontFamily = "inherit", a.setAttribute("class",
                            s.fClass)) : a.style.fontFamily = s.fFamily, i.appendChild(a), createTag("canvas")
                            .getContext("2d")
                            .font = s.fWeight + " " + s.fStyle + " 100px " + s.fFamily, a), n[r].cache = {}, this.fonts.push(n[r])
                    }
                    0 === h ? this.isLoaded = !0 : setTimeout(this.checkLoadedFonts.bind(this), 100)
                } else this.isLoaded = !0
            }, e.prototype.getCharData = function(t, e, r) {
                for (var i = 0, s = this.chars.length; i < s;) {
                    if (this.chars[i].ch === t && this.chars[i].style === e && this.chars[i].fFamily === r) return this.chars[i];
                    i += 1
                }
                return ("string" == typeof t && 13 !== t.charCodeAt(0) ||
                    !t) && console && console.warn && console.warn("Missing character from exported characters list: ", t, e, r), a
            }, e.prototype.getFontByName = function(t) {
                for (var e = 0, r = this.fonts.length; e < r;) {
                    if (this.fonts[e].fName === t) return this.fonts[e];
                    e += 1
                }
                return this.fonts[0]
            }, e.prototype.measureText = function(t, e, r) {
                var i = this.getFontByName(e),
                    s = t.charCodeAt(0);
                if (!i.cache[s + 1]) {
                    var a = i.helper;
                    if (" " === t) {
                        a.textContent = "|" + t + "|";
                        var n = a.getComputedTextLength();
                        a.textContent = "||";
                        var o = a.getComputedTextLength();
                        i.cache[s +
                        1] = (n - o) / 100
                    } else a.textContent = t, i.cache[s + 1] = a.getComputedTextLength() / 100
                }
                return i.cache[s + 1] * r
            }, e.prototype.checkLoadedFonts = function() {
                var t, e, r, i = this.fonts.length,
                    s = i;
                for (t = 0; t < i; t += 1) this.fonts[t].loaded ? s -= 1 : "n" === this.fonts[t].fOrigin || 0 === this.fonts[t].origin ? this.fonts[t].loaded = !0 : (e = this.fonts[t].monoCase.node, r = this.fonts[t].monoCase.w, e.offsetWidth !== r ? (s -= 1, this.fonts[t].loaded = !0) : (e = this.fonts[t].sansCase.node, r = this.fonts[t].sansCase.w, e.offsetWidth !== r && (s -= 1, this.fonts[t].loaded = !0)), this.fonts[t].loaded && (this.fonts[t].sansCase.parent.parentNode.removeChild(this.fonts[t].sansCase.parent), this.fonts[t].monoCase.parent.parentNode.removeChild(this.fonts[t].monoCase.parent)));
                0 !== s && Date.now() - this.initTime < 5E3 ? setTimeout(this.checkLoadedFonts.bind(this), 20) : setTimeout(function() {
                    this.isLoaded = !0
                }.bind(this), 0)
            }, e.prototype.loaded = function() {
                return this.isLoaded
            }, e
        }(),
        PropertyFactory = function() {
            var m = initialDefaultFrame,
                s = Math.abs;

            function f(t, e) {
                var r, i = this.offsetTime;
                "multidimensional" ===
                this.propType && (r = createTypedArray("float32", this.pv.length));
                for (var s, a, n, o, h, l, p, m, f = e.lastIndex, c = f, d = this.keyframes.length - 1, u = !0; u;) {
                    if (s = this.keyframes[c], a = this.keyframes[c + 1], c === d - 1 && t >= a.t - i) {
                        s.h && (s = a), f = 0;
                        break
                    }
                    if (a.t - i > t) {
                        f = c;
                        break
                    }
                    c < d - 1 ? c += 1 : (f = 0, u = !1)
                }
                var y, g, v, b, E, x, P, S, _, A, C = a.t - i,
                    T = s.t - i;
                if (s.to) {
                    s.bezierData || (s.bezierData = bez.buildBezierData(s.s, a.s || s.e, s.to, s.ti));
                    var k = s.bezierData;
                    if (C <= t || t < T) {
                        var M = C <= t ? k.points.length - 1 : 0;
                        for (o = k.points[M].point.length, n = 0; n < o; n += 1) r[n] =
                            k.points[M].point[n]
                    } else {
                        s.__fnct ? m = s.__fnct : (m = BezierFactory.getBezierEasing(s.o.x, s.o.y, s.i.x, s.i.y, s.n)
                            .get, s.__fnct = m), h = m((t - T) / (C - T));
                        var D, w = k.segmentLength * h,
                            F = e.lastFrame < t && e._lastKeyframeIndex === c ? e._lastAddedLength : 0;
                        for (p = e.lastFrame < t && e._lastKeyframeIndex === c ? e._lastPoint : 0, u = !0, l = k.points.length; u;) {
                            if (F += k.points[p].partialLength, 0 === w || 0 === h || p === k.points.length - 1) {
                                for (o = k.points[p].point.length, n = 0; n < o; n += 1) r[n] = k.points[p].point[n];
                                break
                            }
                            if (F <= w && w < F + k.points[p + 1].partialLength) {
                                for (D =
                                         (w - F) / k.points[p + 1].partialLength, o = k.points[p].point.length, n = 0; n < o; n += 1) r[n] = k.points[p].point[n] + (k.points[p + 1].point[n] - k.points[p].point[n]) * D;
                                break
                            }
                            p < l - 1 ? p += 1 : u = !1
                        }
                        e._lastPoint = p, e._lastAddedLength = F - k.points[p].partialLength, e._lastKeyframeIndex = c
                    }
                } else {
                    var I, V, R, B, L;
                    if (d = s.s.length, y = a.s || s.e, this.sh && 1 !== s.h)
                        if (C <= t) r[0] = y[0], r[1] = y[1], r[2] = y[2];
                        else if (t <= T) r[0] = s.s[0], r[1] = s.s[1], r[2] = s.s[2];
                        else {
                            var G = N(s.s),
                                z = N(y);
                            g = r, v = function(t, e, r) {
                                var i, s, a, n, o, h = [],
                                    l = t[0],
                                    p = t[1],
                                    m = t[2],
                                    f = t[3],
                                    c =
                                        e[0],
                                    d = e[1],
                                    u = e[2],
                                    y = e[3];
                                (s = l * c + p * d + m * u + f * y) < 0 && (s = -s, c = -c, d = -d, u = -u, y = -y);
                                o = 1E-6 < 1 - s ? (i = Math.acos(s), a = Math.sin(i), n = Math.sin((1 - r) * i) / a, Math.sin(r * i) / a) : (n = 1 - r, r);
                                return h[0] = n * l + o * c, h[1] = n * p + o * d, h[2] = n * m + o * u, h[3] = n * f + o * y, h
                            }(G, z, (t - T) / (C - T)), b = v[0], E = v[1], x = v[2], P = v[3], S = Math.atan2(2 * E * P - 2 * b * x, 1 - 2 * E * E - 2 * x * x), _ = Math.asin(2 * b * E + 2 * x * P), A = Math.atan2(2 * b * P - 2 * E * x, 1 - 2 * b * b - 2 * x * x), g[0] = S / degToRads, g[1] = _ / degToRads, g[2] = A / degToRads
                        } else
                        for (c = 0; c < d; c += 1) 1 !== s.h && (h = C <= t ? 1 : t < T ? 0 : (s.o.x.constructor === Array ?
                            (s.__fnct || (s.__fnct = []), s.__fnct[c] ? m = s.__fnct[c] : (I = void 0 === s.o.x[c] ? s.o.x[0] : s.o.x[c], V = void 0 === s.o.y[c] ? s.o.y[0] : s.o.y[c], R = void 0 === s.i.x[c] ? s.i.x[0] : s.i.x[c], B = void 0 === s.i.y[c] ? s.i.y[0] : s.i.y[c], m = BezierFactory.getBezierEasing(I, V, R, B)
                                .get, s.__fnct[c] = m)) : s.__fnct ? m = s.__fnct : (I = s.o.x, V = s.o.y, R = s.i.x, B = s.i.y, m = BezierFactory.getBezierEasing(I, V, R, B)
                                .get, s.__fnct = m), m((t - T) / (C - T)))), y = a.s || s.e, L = 1 === s.h ? s.s[c] : s.s[c] + (y[c] - s.s[c]) * h, "multidimensional" === this.propType ? r[c] = L : r = L
                }
                return e.lastIndex =
                    f, r
            }

            function N(t) {
                var e = t[0] * degToRads,
                    r = t[1] * degToRads,
                    i = t[2] * degToRads,
                    s = Math.cos(e / 2),
                    a = Math.cos(r / 2),
                    n = Math.cos(i / 2),
                    o = Math.sin(e / 2),
                    h = Math.sin(r / 2),
                    l = Math.sin(i / 2);
                return [o * h * n + s * a * l, o * a * n + s * h * l, s * h * n - o * a * l, s * a * n - o * h * l]
            }

            function c() {
                var t = this.comp.renderedFrame - this.offsetTime,
                    e = this.keyframes[0].t - this.offsetTime,
                    r = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
                if (!(t === this._caching.lastFrame || this._caching.lastFrame !== m && (this._caching.lastFrame >= r && r <= t || this._caching.lastFrame <
                    e && t < e))) {
                    this._caching.lastFrame >= t && (this._caching._lastKeyframeIndex = -1, this._caching.lastIndex = 0);
                    var i = this.interpolateValue(t, this._caching);
                    this.pv = i
                }
                return this._caching.lastFrame = t, this.pv
            }

            function d(t) {
                var e;
                if ("unidimensional" === this.propType) e = t * this.mult, 1E-5 < s(this.v - e) && (this.v = e, this._mdf = !0);
                else
                    for (var r = 0, i = this.v.length; r < i;) e = t[r] * this.mult, 1E-5 < s(this.v[r] - e) && (this.v[r] = e, this._mdf = !0), r += 1
            }

            function u() {
                if (this.elem.globalData.frameId !== this.frameId && this.effectsSequence.length)
                    if (this.lock) this.setVValue(this.pv);
                    else {
                        this.lock = !0, this._mdf = this._isFirstFrame;
                        var t, e = this.effectsSequence.length,
                            r = this.kf ? this.pv : this.data.k;
                        for (t = 0; t < e; t += 1) r = this.effectsSequence[t](r);
                        this.setVValue(r), this._isFirstFrame = !1, this.lock = !1, this.frameId = this.elem.globalData.frameId
                    }
            }

            function y(t) {
                this.effectsSequence.push(t), this.container.addDynamicProperty(this)
            }

            function n(t, e, r, i) {
                this.propType = "unidimensional", this.mult = r || 1, this.data = e, this.v = r ? e.k * r : e.k, this.pv = e.k, this._mdf = !1, this.elem = t, this.container = i, this.comp = t.comp,
                    this.k = !1, this.kf = !1, this.vel = 0, this.effectsSequence = [], this._isFirstFrame = !0, this.getValue = u, this.setVValue = d, this.addEffect = y
            }

            function o(t, e, r, i) {
                this.propType = "multidimensional", this.mult = r || 1, this.data = e, this._mdf = !1, this.elem = t, this.container = i, this.comp = t.comp, this.k = !1, this.kf = !1, this.frameId = -1;
                var s, a = e.k.length;
                this.v = createTypedArray("float32", a), this.pv = createTypedArray("float32", a);
                createTypedArray("float32", a);
                for (this.vel = createTypedArray("float32", a), s = 0; s < a; s += 1) this.v[s] = e.k[s] *
                    this.mult, this.pv[s] = e.k[s];
                this._isFirstFrame = !0, this.effectsSequence = [], this.getValue = u, this.setVValue = d, this.addEffect = y
            }

            function h(t, e, r, i) {
                this.propType = "unidimensional", this.keyframes = e.k, this.offsetTime = t.data.st, this.frameId = -1, this._caching = {
                    lastFrame: m,
                    lastIndex: 0,
                    value: 0,
                    _lastKeyframeIndex: -1
                }, this.k = !0, this.kf = !0, this.data = e, this.mult = r || 1, this.elem = t, this.container = i, this.comp = t.comp, this.v = m, this.pv = m, this._isFirstFrame = !0, this.getValue = u, this.setVValue = d, this.interpolateValue = f, this.effectsSequence = [c.bind(this)], this.addEffect = y
            }

            function l(t, e, r, i) {
                this.propType = "multidimensional";
                var s, a, n, o, h, l = e.k.length;
                for (s = 0; s < l - 1; s += 1) e.k[s].to && e.k[s].s && e.k[s].e && (a = e.k[s].s, n = e.k[s].e, o = e.k[s].to, h = e.k[s].ti, (2 === a.length && (a[0] !== n[0] || a[1] !== n[1]) && bez.pointOnLine2D(a[0], a[1], n[0], n[1], a[0] + o[0], a[1] + o[1]) && bez.pointOnLine2D(a[0], a[1], n[0], n[1], n[0] + h[0], n[1] + h[1]) || 3 === a.length && (a[0] !== n[0] || a[1] !== n[1] || a[2] !== n[2]) && bez.pointOnLine3D(a[0], a[1], a[2], n[0], n[1], n[2], a[0] + o[0], a[1] + o[1], a[2] + o[2]) &&
                    bez.pointOnLine3D(a[0], a[1], a[2], n[0], n[1], n[2], n[0] + h[0], n[1] + h[1], n[2] + h[2])) && (e.k[s].to = null, e.k[s].ti = null), a[0] === n[0] && a[1] === n[1] && 0 === o[0] && 0 === o[1] && 0 === h[0] && 0 === h[1] && (2 === a.length || a[2] === n[2] && 0 === o[2] && 0 === h[2]) && (e.k[s].to = null, e.k[s].ti = null));
                this.effectsSequence = [c.bind(this)], this.keyframes = e.k, this.offsetTime = t.data.st, this.k = !0, this.kf = !0, this._isFirstFrame = !0, this.mult = r || 1, this.elem = t, this.container = i, this.comp = t.comp, this.getValue = u, this.setVValue = d, this.interpolateValue =
                    f, this.frameId = -1;
                var p = e.k[0].s.length;
                for (this.v = createTypedArray("float32", p), this.pv = createTypedArray("float32", p), s = 0; s < p; s += 1) this.v[s] = m, this.pv[s] = m;
                this._caching = {
                    lastFrame: m,
                    lastIndex: 0,
                    value: createTypedArray("float32", p)
                }, this.addEffect = y
            }
            return {
                getProp: function(t, e, r, i, s) {
                    var a;
                    if (e.k.length)
                        if ("number" == typeof e.k[0]) a = new o(t, e, i, s);
                        else switch (r) {
                            case 0:
                                a = new h(t, e, i, s);
                                break;
                            case 1:
                                a = new l(t, e, i, s)
                        } else a = new n(t, e, i, s);
                    return a.effectsSequence.length && s.addDynamicProperty(a), a
                }
            }
        }(),
        TransformPropertyFactory = function() {
            function i(t, e, r) {
                if (this.elem = t, this.frameId = -1, this.propType = "transform", this.data = e, this.v = new Matrix, this.pre = new Matrix, this.appliedTransformations = 0, this.initDynamicPropertyContainer(r || t), e.p && e.p.s ? (this.px = PropertyFactory.getProp(t, e.p.x, 0, 0, this), this.py = PropertyFactory.getProp(t, e.p.y, 0, 0, this), e.p.z && (this.pz = PropertyFactory.getProp(t, e.p.z, 0, 0, this))) : this.p = PropertyFactory.getProp(t, e.p || {
                    k: [0, 0, 0]
                }, 1, 0, this), e.rx) {
                    if (this.rx = PropertyFactory.getProp(t,
                        e.rx, 0, degToRads, this), this.ry = PropertyFactory.getProp(t, e.ry, 0, degToRads, this), this.rz = PropertyFactory.getProp(t, e.rz, 0, degToRads, this), e.or.k[0].ti) {
                        var i, s = e.or.k.length;
                        for (i = 0; i < s; i += 1) e.or.k[i].to = e.or.k[i].ti = null
                    }
                    this.or = PropertyFactory.getProp(t, e.or, 1, degToRads, this), this.or.sh = !0
                } else this.r = PropertyFactory.getProp(t, e.r || {
                    k: 0
                }, 0, degToRads, this);
                e.sk && (this.sk = PropertyFactory.getProp(t, e.sk, 0, degToRads, this), this.sa = PropertyFactory.getProp(t, e.sa, 0, degToRads, this)), this.a = PropertyFactory.getProp(t,
                    e.a || {
                        k: [0, 0, 0]
                    }, 1, 0, this), this.s = PropertyFactory.getProp(t, e.s || {
                    k: [100, 100, 100]
                }, 1, .01, this), e.o ? this.o = PropertyFactory.getProp(t, e.o, 0, .01, t) : this.o = {
                    _mdf: !1,
                    v: 1
                }, this._isDirty = !0, this.dynamicProperties.length || this.getValue(!0)
            }
            return i.prototype = {
                applyToMatrix: function(t) {
                    var e = this._mdf;
                    this.iterateDynamicProperties(), this._mdf = this._mdf || e, this.a && t.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]), this.s && t.scale(this.s.v[0], this.s.v[1], this.s.v[2]), this.sk && t.skewFromAxis(-this.sk.v, this.sa.v),
                        this.r ? t.rotate(-this.r.v) : t.rotateZ(-this.rz.v)
                            .rotateY(this.ry.v)
                            .rotateX(this.rx.v)
                            .rotateZ(-this.or.v[2])
                            .rotateY(this.or.v[1])
                            .rotateX(this.or.v[0]), this.data.p.s ? this.data.p.z ? t.translate(this.px.v, this.py.v, -this.pz.v) : t.translate(this.px.v, this.py.v, 0) : t.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                },
                getValue: function(t) {
                    if (this.elem.globalData.frameId !== this.frameId) {
                        if (this._isDirty && (this.precalculateMatrix(), this._isDirty = !1), this.iterateDynamicProperties(), this._mdf || t) {
                            if (this.v.cloneFromProps(this.pre.props),
                            this.appliedTransformations < 1 && this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]), this.appliedTransformations < 2 && this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]), this.sk && this.appliedTransformations < 3 && this.v.skewFromAxis(-this.sk.v, this.sa.v), this.r && this.appliedTransformations < 4 ? this.v.rotate(-this.r.v) : !this.r && this.appliedTransformations < 4 && this.v.rotateZ(-this.rz.v)
                                .rotateY(this.ry.v)
                                .rotateX(this.rx.v)
                                .rotateZ(-this.or.v[2])
                                .rotateY(this.or.v[1])
                                .rotateX(this.or.v[0]), this.autoOriented) {
                                var e,
                                    r, i = this.elem.globalData.frameRate;
                                if (this.p && this.p.keyframes && this.p.getValueAtTime) r = this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t ? (e = this.p.getValueAtTime((this.p.keyframes[0].t + .01) / i, 0), this.p.getValueAtTime(this.p.keyframes[0].t / i, 0)) : this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t ? (e = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / i, 0), this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - .01) /
                                    i, 0)) : (e = this.p.pv, this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - .01) / i, this.p.offsetTime));
                                else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {
                                    e = [], r = [];
                                    var s = this.px,
                                        a = this.py;
                                    s._caching.lastFrame + s.offsetTime <= s.keyframes[0].t ? (e[0] = s.getValueAtTime((s.keyframes[0].t + .01) / i, 0), e[1] = a.getValueAtTime((a.keyframes[0].t + .01) / i, 0), r[0] = s.getValueAtTime(s.keyframes[0].t / i, 0), r[1] = a.getValueAtTime(a.keyframes[0].t / i, 0)) : s._caching.lastFrame +
                                    s.offsetTime >= s.keyframes[s.keyframes.length - 1].t ? (e[0] = s.getValueAtTime(s.keyframes[s.keyframes.length - 1].t / i, 0), e[1] = a.getValueAtTime(a.keyframes[a.keyframes.length - 1].t / i, 0), r[0] = s.getValueAtTime((s.keyframes[s.keyframes.length - 1].t - .01) / i, 0), r[1] = a.getValueAtTime((a.keyframes[a.keyframes.length - 1].t - .01) / i, 0)) : (e = [s.pv, a.pv], r[0] = s.getValueAtTime((s._caching.lastFrame + s.offsetTime - .01) / i, s.offsetTime), r[1] = a.getValueAtTime((a._caching.lastFrame + a.offsetTime - .01) / i, a.offsetTime))
                                }
                                this.v.rotate(-Math.atan2(e[1] -
                                    r[1], e[0] - r[0]))
                            }
                            this.data.p && this.data.p.s ? this.data.p.z ? this.v.translate(this.px.v, this.py.v, -this.pz.v) : this.v.translate(this.px.v, this.py.v, 0) : this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2])
                        }
                        this.frameId = this.elem.globalData.frameId
                    }
                },
                precalculateMatrix: function() {
                    if (!this.a.k && (this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]), this.appliedTransformations = 1, !this.s.effectsSequence.length)) {
                        if (this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]), this.appliedTransformations = 2, this.sk) {
                            if (this.sk.effectsSequence.length ||
                                this.sa.effectsSequence.length) return;
                            this.pre.skewFromAxis(-this.sk.v, this.sa.v), this.appliedTransformations = 3
                        }
                        if (this.r) {
                            if (this.r.effectsSequence.length) return;
                            this.pre.rotate(-this.r.v), this.appliedTransformations = 4
                        } else this.rz.effectsSequence.length || this.ry.effectsSequence.length || this.rx.effectsSequence.length || this.or.effectsSequence.length || (this.pre.rotateZ(-this.rz.v)
                            .rotateY(this.ry.v)
                            .rotateX(this.rx.v)
                            .rotateZ(-this.or.v[2])
                            .rotateY(this.or.v[1])
                            .rotateX(this.or.v[0]), this.appliedTransformations =
                            4)
                    }
                },
                autoOrient: function() {}
            }, extendPrototype([DynamicPropertyContainer], i), i.prototype.addDynamicProperty = function(t) {
                this._addDynamicProperty(t), this.elem.addDynamicProperty(t), this._isDirty = !0
            }, i.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty, {
                getTransformProperty: function(t, e, r) {
                    return new i(t, e, r)
                }
            }
        }();

    function ShapePath() {
        this.c = !1, this._length = 0, this._maxLength = 8, this.v = createSizedArray(this._maxLength), this.o = createSizedArray(this._maxLength), this.i = createSizedArray(this._maxLength)
    }
    ShapePath.prototype.setPathData = function(t, e) {
        this.c = t, this.setLength(e);
        for (var r = 0; r < e;) this.v[r] = point_pool.newElement(), this.o[r] = point_pool.newElement(), this.i[r] = point_pool.newElement(), r += 1
    }, ShapePath.prototype.setLength = function(t) {
        for (; this._maxLength < t;) this.doubleArrayLength();
        this._length = t
    }, ShapePath.prototype.doubleArrayLength = function() {
        this.v = this.v.concat(createSizedArray(this._maxLength)), this.i = this.i.concat(createSizedArray(this._maxLength)), this.o = this.o.concat(createSizedArray(this._maxLength)),
            this._maxLength *= 2
    }, ShapePath.prototype.setXYAt = function(t, e, r, i, s) {
        var a;
        switch (this._length = Math.max(this._length, i + 1), this._length >= this._maxLength && this.doubleArrayLength(), r) {
            case "v":
                a = this.v;
                break;
            case "i":
                a = this.i;
                break;
            case "o":
                a = this.o
        }(!a[i] || a[i] && !s) && (a[i] = point_pool.newElement()), a[i][0] = t, a[i][1] = e
    }, ShapePath.prototype.setTripleAt = function(t, e, r, i, s, a, n, o) {
        this.setXYAt(t, e, "v", n, o), this.setXYAt(r, i, "o", n, o), this.setXYAt(s, a, "i", n, o)
    }, ShapePath.prototype.reverse = function() {
        var t = new ShapePath;
        t.setPathData(this.c, this._length);
        var e = this.v,
            r = this.o,
            i = this.i,
            s = 0;
        this.c && (t.setTripleAt(e[0][0], e[0][1], i[0][0], i[0][1], r[0][0], r[0][1], 0, !1), s = 1);
        var a, n = this._length - 1,
            o = this._length;
        for (a = s; a < o; a += 1) t.setTripleAt(e[n][0], e[n][1], i[n][0], i[n][1], r[n][0], r[n][1], a, !1), n -= 1;
        return t
    };
    var ShapePropertyFactory = function() {
            var s = -999999;

            function t(t, e, r) {
                var i, s, a, n, o, h, l, p, m, f = r.lastIndex,
                    c = this.keyframes;
                if (t < c[0].t - this.offsetTime) i = c[0].s[0], a = !0, f = 0;
                else if (t >= c[c.length - 1].t - this.offsetTime) i =
                    c[c.length - 1].s ? c[c.length - 1].s[0] : c[c.length - 2].e[0], a = !0;
                else {
                    for (var d, u, y = f, g = c.length - 1, v = !0; v && (d = c[y], !((u = c[y + 1])
                        .t - this.offsetTime > t));) y < g - 1 ? y += 1 : v = !1;
                    if (f = y, !(a = 1 === d.h)) {
                        if (t >= u.t - this.offsetTime) p = 1;
                        else if (t < d.t - this.offsetTime) p = 0;
                        else {
                            var b;
                            d.__fnct ? b = d.__fnct : (b = BezierFactory.getBezierEasing(d.o.x, d.o.y, d.i.x, d.i.y)
                                .get, d.__fnct = b), p = b((t - (d.t - this.offsetTime)) / (u.t - this.offsetTime - (d.t - this.offsetTime)))
                        }
                        s = u.s ? u.s[0] : d.e[0]
                    }
                    i = d.s[0]
                }
                for (h = e._length, l = i.i[0].length, r.lastIndex = f,
                         n = 0; n < h; n += 1)
                    for (o = 0; o < l; o += 1) m = a ? i.i[n][o] : i.i[n][o] + (s.i[n][o] - i.i[n][o]) * p, e.i[n][o] = m, m = a ? i.o[n][o] : i.o[n][o] + (s.o[n][o] - i.o[n][o]) * p, e.o[n][o] = m, m = a ? i.v[n][o] : i.v[n][o] + (s.v[n][o] - i.v[n][o]) * p, e.v[n][o] = m
            }

            function a() {
                this.paths = this.localShapeCollection
            }

            function e(t) {
                (function(t, e) {
                    if (t._length !== e._length || t.c !== e.c) return !1;
                    var r, i = t._length;
                    for (r = 0; r < i; r += 1)
                        if (t.v[r][0] !== e.v[r][0] || t.v[r][1] !== e.v[r][1] || t.o[r][0] !== e.o[r][0] || t.o[r][1] !== e.o[r][1] || t.i[r][0] !== e.i[r][0] || t.i[r][1] !== e.i[r][1]) return !1;
                    return !0
                })(this.v, t) || (this.v = shape_pool.clone(t), this.localShapeCollection.releaseShapes(), this.localShapeCollection.addShape(this.v), this._mdf = !0, this.paths = this.localShapeCollection)
            }

            function r() {
                if (this.elem.globalData.frameId !== this.frameId)
                    if (this.effectsSequence.length)
                        if (this.lock) this.setVValue(this.pv);
                        else {
                            this.lock = !0, this._mdf = !1;
                            var t, e = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k,
                                r = this.effectsSequence.length;
                            for (t = 0; t < r; t += 1) e = this.effectsSequence[t](e);
                            this.setVValue(e),
                                this.lock = !1, this.frameId = this.elem.globalData.frameId
                        }
                    else this._mdf = !1
            }

            function n(t, e, r) {
                this.propType = "shape", this.comp = t.comp, this.container = t, this.elem = t, this.data = e, this.k = !1, this.kf = !1, this._mdf = !1;
                var i = 3 === r ? e.pt.k : e.ks.k;
                this.v = shape_pool.clone(i), this.pv = shape_pool.clone(this.v), this.localShapeCollection = shapeCollection_pool.newShapeCollection(), this.paths = this.localShapeCollection, this.paths.addShape(this.v), this.reset = a, this.effectsSequence = []
            }

            function i(t) {
                this.effectsSequence.push(t),
                    this.container.addDynamicProperty(this)
            }

            function o(t, e, r) {
                this.propType = "shape", this.comp = t.comp, this.elem = t, this.container = t, this.offsetTime = t.data.st, this.keyframes = 3 === r ? e.pt.k : e.ks.k, this.k = !0, this.kf = !0;
                var i = this.keyframes[0].s[0].i.length;
                this.keyframes[0].s[0].i[0].length;
                this.v = shape_pool.newElement(), this.v.setPathData(this.keyframes[0].s[0].c, i), this.pv = shape_pool.clone(this.v), this.localShapeCollection = shapeCollection_pool.newShapeCollection(), this.paths = this.localShapeCollection, this.paths.addShape(this.v),
                    this.lastFrame = s, this.reset = a, this._caching = {
                    lastFrame: s,
                    lastIndex: 0
                }, this.effectsSequence = [function() {
                    var t = this.comp.renderedFrame - this.offsetTime,
                        e = this.keyframes[0].t - this.offsetTime,
                        r = this.keyframes[this.keyframes.length - 1].t - this.offsetTime,
                        i = this._caching.lastFrame;
                    return i !== s && (i < e && t < e || r < i && r < t) || (this._caching.lastIndex = i < t ? this._caching.lastIndex : 0, this.interpolateShape(t, this.pv, this._caching)), this._caching.lastFrame = t, this.pv
                }.bind(this)]
            }
            n.prototype.interpolateShape = t, n.prototype.getValue =
                r, n.prototype.setVValue = e, n.prototype.addEffect = i, o.prototype.getValue = r, o.prototype.interpolateShape = t, o.prototype.setVValue = e, o.prototype.addEffect = i;
            var h = function() {
                    var n = roundCorner;

                    function t(t, e) {
                        this.v = shape_pool.newElement(), this.v.setPathData(!0, 4), this.localShapeCollection = shapeCollection_pool.newShapeCollection(), this.paths = this.localShapeCollection, this.localShapeCollection.addShape(this.v), this.d = e.d, this.elem = t, this.comp = t.comp, this.frameId = -1, this.initDynamicPropertyContainer(t), this.p =
                            PropertyFactory.getProp(t, e.p, 1, 0, this), this.s = PropertyFactory.getProp(t, e.s, 1, 0, this), this.dynamicProperties.length ? this.k = !0 : (this.k = !1, this.convertEllToPath())
                    }
                    return t.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf && this.convertEllToPath())
                        },
                        convertEllToPath: function() {
                            var t = this.p.v[0],
                                e = this.p.v[1],
                                r = this.s.v[0] / 2,
                                i = this.s.v[1] / 2,
                                s = 3 !== this.d,
                                a = this.v;
                            a.v[0][0] = t, a.v[0][1] =
                                e - i, a.v[1][0] = s ? t + r : t - r, a.v[1][1] = e, a.v[2][0] = t, a.v[2][1] = e + i, a.v[3][0] = s ? t - r : t + r, a.v[3][1] = e, a.i[0][0] = s ? t - r * n : t + r * n, a.i[0][1] = e - i, a.i[1][0] = s ? t + r : t - r, a.i[1][1] = e - i * n, a.i[2][0] = s ? t + r * n : t - r * n, a.i[2][1] = e + i, a.i[3][0] = s ? t - r : t + r, a.i[3][1] = e + i * n, a.o[0][0] = s ? t + r * n : t - r * n, a.o[0][1] = e - i, a.o[1][0] = s ? t + r : t - r, a.o[1][1] = e + i * n, a.o[2][0] = s ? t - r * n : t + r * n, a.o[2][1] = e + i, a.o[3][0] = s ? t - r : t + r, a.o[3][1] = e - i * n
                        }
                    }, extendPrototype([DynamicPropertyContainer], t), t
                }(),
                l = function() {
                    function t(t, e) {
                        this.v = shape_pool.newElement(),
                            this.v.setPathData(!0, 0), this.elem = t, this.comp = t.comp, this.data = e, this.frameId = -1, this.d = e.d, this.initDynamicPropertyContainer(t), 1 === e.sy ? (this.ir = PropertyFactory.getProp(t, e.ir, 0, 0, this), this.is = PropertyFactory.getProp(t, e.is, 0, .01, this), this.convertToPath = this.convertStarToPath) : this.convertToPath = this.convertPolygonToPath, this.pt = PropertyFactory.getProp(t, e.pt, 0, 0, this), this.p = PropertyFactory.getProp(t, e.p, 1, 0, this), this.r = PropertyFactory.getProp(t, e.r, 0, degToRads, this), this.or = PropertyFactory.getProp(t,
                            e.or, 0, 0, this), this.os = PropertyFactory.getProp(t, e.os, 0, .01, this), this.localShapeCollection = shapeCollection_pool.newShapeCollection(), this.localShapeCollection.addShape(this.v), this.paths = this.localShapeCollection, this.dynamicProperties.length ? this.k = !0 : (this.k = !1, this.convertToPath())
                    }
                    return t.prototype = {
                        reset: a,
                        getValue: function() {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf && this.convertToPath())
                        },
                        convertStarToPath: function() {
                            var t,
                                e, r, i, s = 2 * Math.floor(this.pt.v),
                                a = 2 * Math.PI / s,
                                n = !0,
                                o = this.or.v,
                                h = this.ir.v,
                                l = this.os.v,
                                p = this.is.v,
                                m = 2 * Math.PI * o / (2 * s),
                                f = 2 * Math.PI * h / (2 * s),
                                c = -Math.PI / 2;
                            c += this.r.v;
                            var d = 3 === this.data.d ? -1 : 1;
                            for (t = this.v._length = 0; t < s; t += 1) {
                                r = n ? l : p, i = n ? m : f;
                                var u = (e = n ? o : h) * Math.cos(c),
                                    y = e * Math.sin(c),
                                    g = 0 === u && 0 === y ? 0 : y / Math.sqrt(u * u + y * y),
                                    v = 0 === u && 0 === y ? 0 : -u / Math.sqrt(u * u + y * y);
                                u += +this.p.v[0], y += +this.p.v[1], this.v.setTripleAt(u, y, u - g * i * r * d, y - v * i * r * d, u + g * i * r * d, y + v * i * r * d, t, !0), n = !n, c += a * d
                            }
                        },
                        convertPolygonToPath: function() {
                            var t,
                                e = Math.floor(this.pt.v),
                                r = 2 * Math.PI / e,
                                i = this.or.v,
                                s = this.os.v,
                                a = 2 * Math.PI * i / (4 * e),
                                n = -Math.PI / 2,
                                o = 3 === this.data.d ? -1 : 1;
                            for (n += this.r.v, t = this.v._length = 0; t < e; t += 1) {
                                var h = i * Math.cos(n),
                                    l = i * Math.sin(n),
                                    p = 0 === h && 0 === l ? 0 : l / Math.sqrt(h * h + l * l),
                                    m = 0 === h && 0 === l ? 0 : -h / Math.sqrt(h * h + l * l);
                                h += +this.p.v[0], l += +this.p.v[1], this.v.setTripleAt(h, l, h - p * a * s * o, l - m * a * s * o, h + p * a * s * o, l + m * a * s * o, t, !0), n += r * o
                            }
                            this.paths.length = 0, this.paths[0] = this.v
                        }
                    }, extendPrototype([DynamicPropertyContainer], t), t
                }(),
                p = function() {
                    function t(t,
                               e) {
                        this.v = shape_pool.newElement(), this.v.c = !0, this.localShapeCollection = shapeCollection_pool.newShapeCollection(), this.localShapeCollection.addShape(this.v), this.paths = this.localShapeCollection, this.elem = t, this.comp = t.comp, this.frameId = -1, this.d = e.d, this.initDynamicPropertyContainer(t), this.p = PropertyFactory.getProp(t, e.p, 1, 0, this), this.s = PropertyFactory.getProp(t, e.s, 1, 0, this), this.r = PropertyFactory.getProp(t, e.r, 0, 0, this), this.dynamicProperties.length ? this.k = !0 : (this.k = !1, this.convertRectToPath())
                    }
                    return t.prototype = {
                        convertRectToPath: function() {
                            var t = this.p.v[0],
                                e = this.p.v[1],
                                r = this.s.v[0] / 2,
                                i = this.s.v[1] / 2,
                                s = bm_min(r, i, this.r.v),
                                a = s * (1 - roundCorner);
                            this.v._length = 0, 2 === this.d || 1 === this.d ? (this.v.setTripleAt(t + r, e - i + s, t + r, e - i + s, t + r, e - i + a, 0, !0), this.v.setTripleAt(t + r, e + i - s, t + r, e + i - a, t + r, e + i - s, 1, !0), 0 !== s ? (this.v.setTripleAt(t + r - s, e + i, t + r - s, e + i, t + r - a, e + i, 2, !0), this.v.setTripleAt(t - r + s, e + i, t - r + a, e + i, t - r + s, e + i, 3, !0), this.v.setTripleAt(t - r, e + i - s, t - r, e + i - s, t - r, e + i - a, 4, !0), this.v.setTripleAt(t - r,
                                e - i + s, t - r, e - i + a, t - r, e - i + s, 5, !0), this.v.setTripleAt(t - r + s, e - i, t - r + s, e - i, t - r + a, e - i, 6, !0), this.v.setTripleAt(t + r - s, e - i, t + r - a, e - i, t + r - s, e - i, 7, !0)) : (this.v.setTripleAt(t - r, e + i, t - r + a, e + i, t - r, e + i, 2), this.v.setTripleAt(t - r, e - i, t - r, e - i + a, t - r, e - i, 3))) : (this.v.setTripleAt(t + r, e - i + s, t + r, e - i + a, t + r, e - i + s, 0, !0), 0 !== s ? (this.v.setTripleAt(t + r - s, e - i, t + r - s, e - i, t + r - a, e - i, 1, !0), this.v.setTripleAt(t - r + s, e - i, t - r + a, e - i, t - r + s, e - i, 2, !0), this.v.setTripleAt(t - r, e - i + s, t - r, e - i + s, t - r, e - i + a, 3, !0), this.v.setTripleAt(t - r, e + i - s, t -
                                r, e + i - a, t - r, e + i - s, 4, !0), this.v.setTripleAt(t - r + s, e + i, t - r + s, e + i, t - r + a, e + i, 5, !0), this.v.setTripleAt(t + r - s, e + i, t + r - a, e + i, t + r - s, e + i, 6, !0), this.v.setTripleAt(t + r, e + i - s, t + r, e + i - s, t + r, e + i - a, 7, !0)) : (this.v.setTripleAt(t - r, e - i, t - r + a, e - i, t - r, e - i, 1, !0), this.v.setTripleAt(t - r, e + i, t - r, e + i - a, t - r, e + i, 2, !0), this.v.setTripleAt(t + r, e + i, t + r - a, e + i, t + r, e + i, 3, !0)))
                        },
                        getValue: function(t) {
                            this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf && this.convertRectToPath())
                        },
                        reset: a
                    }, extendPrototype([DynamicPropertyContainer], t), t
                }();
            var m = {
                getShapeProp: function(t, e, r) {
                    var i;
                    return 3 === r || 4 === r ? i = (3 === r ? e.pt : e.ks)
                        .k.length ? new o(t, e, r) : new n(t, e, r) : 5 === r ? i = new p(t, e) : 6 === r ? i = new h(t, e) : 7 === r && (i = new l(t, e)), i.k && t.addDynamicProperty(i), i
                },
                getConstructorFunction: function() {
                    return n
                },
                getKeyframedConstructorFunction: function() {
                    return o
                }
            };
            return m
        }(),
        ShapeModifiers = (Yr = {}, Zr = {}, Yr.registerModifier = function(t, e) {
            Zr[t] || (Zr[t] = e)
        }, Yr.getModifier = function(t, e, r) {
            return new Zr[t](e,
                r)
        }, Yr),
        Yr, Zr;

    function ShapeModifier() {}

    function TrimModifier() {}

    function RoundCornersModifier() {}

    function RepeaterModifier() {}

    function ShapeCollection() {
        this._length = 0, this._maxLength = 4, this.shapes = createSizedArray(this._maxLength)
    }

    function DashProperty(t, e, r, i) {
        this.elem = t, this.frameId = -1, this.dataProps = createSizedArray(e.length), this.renderer = r, this.k = !1, this.dashStr = "", this.dashArray = createTypedArray("float32", e.length ? e.length - 1 : 0), this.dashoffset = createTypedArray("float32", 1), this.initDynamicPropertyContainer(i);
        var s, a, n = e.length || 0;
        for (s = 0; s < n; s += 1) a = PropertyFactory.getProp(t, e[s].v, 0, 0, this), this.k = a.k || this.k, this.dataProps[s] = {
            n: e[s].n,
            p: a
        };
        this.k || this.getValue(!0), this._isAnimated = this.k
    }

    function GradientProperty(t, e, r) {
        this.data = e, this.c = createTypedArray("uint8c", 4 * e.p);
        var i = e.k.k[0].s ? e.k.k[0].s.length - 4 * e.p : e.k.k.length - 4 * e.p;
        this.o = createTypedArray("float32", i), this._cmdf = !1, this._omdf = !1, this._collapsable = this.checkCollapsable(), this._hasOpacity = i, this.initDynamicPropertyContainer(r), this.prop =
            PropertyFactory.getProp(t, e.k, 1, null, this), this.k = this.prop.k, this.getValue(!0)
    }
    ShapeModifier.prototype.initModifierProperties = function() {}, ShapeModifier.prototype.addShapeToModifier = function() {}, ShapeModifier.prototype.addShape = function(t) {
        if (!this.closed) {
            t.sh.container.addDynamicProperty(t.sh);
            var e = {
                shape: t.sh,
                data: t,
                localShapeCollection: shapeCollection_pool.newShapeCollection()
            };
            this.shapes.push(e), this.addShapeToModifier(e), this._isAnimated && t.setAsAnimated()
        }
    }, ShapeModifier.prototype.init =
        function(t, e) {
            this.shapes = [], this.elem = t, this.initDynamicPropertyContainer(t), this.initModifierProperties(t, e), this.frameId = initialDefaultFrame, this.closed = !1, this.k = !1, this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
        }, ShapeModifier.prototype.processKeys = function() {
        this.elem.globalData.frameId !== this.frameId && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties())
    }, extendPrototype([DynamicPropertyContainer], ShapeModifier), extendPrototype([ShapeModifier], TrimModifier),
        TrimModifier.prototype.initModifierProperties = function(t, e) {
            this.s = PropertyFactory.getProp(t, e.s, 0, .01, this), this.e = PropertyFactory.getProp(t, e.e, 0, .01, this), this.o = PropertyFactory.getProp(t, e.o, 0, 0, this), this.sValue = 0, this.eValue = 0, this.getValue = this.processKeys, this.m = e.m, this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length
        }, TrimModifier.prototype.addShapeToModifier = function(t) {
        t.pathsData = []
    }, TrimModifier.prototype.calculateShapeEdges =
        function(t, e, r, i, s) {
            var a = [];
            e <= 1 ? a.push({
                s: t,
                e: e
            }) : 1 <= t ? a.push({
                s: t - 1,
                e: e - 1
            }) : (a.push({
                s: t,
                e: 1
            }), a.push({
                s: 0,
                e: e - 1
            }));
            var n, o, h = [],
                l = a.length;
            for (n = 0; n < l; n += 1) {
                var p, m;
                if ((o = a[n])
                    .e * s < i || o.s * s > i + r);
                else p = o.s * s <= i ? 0 : (o.s * s - i) / r, m = o.e * s >= i + r ? 1 : (o.e * s - i) / r, h.push([p, m])
            }
            return h.length || h.push([0, 0]), h
        }, TrimModifier.prototype.releasePathsData = function(t) {
        var e, r = t.length;
        for (e = 0; e < r; e += 1) segments_length_pool.release(t[e]);
        return t.length = 0, t
    }, TrimModifier.prototype.processShapes = function(t) {
        var e,
            r, i;
        if (this._mdf || t) {
            var s = this.o.v % 360 / 360;
            if (s < 0 && (s += 1), e = (1 < this.s.v ? 1 : this.s.v < 0 ? 0 : this.s.v) + s, (r = (1 < this.e.v ? 1 : this.e.v < 0 ? 0 : this.e.v) + s) < e) {
                var a = e;
                e = r, r = a
            }
            e = 1E-4 * Math.round(1E4 * e), r = 1E-4 * Math.round(1E4 * r), this.sValue = e, this.eValue = r
        } else e = this.sValue, r = this.eValue;
        var n, o, h, l, p, m, f = this.shapes.length,
            c = 0;
        if (r === e)
            for (n = 0; n < f; n += 1) this.shapes[n].localShapeCollection.releaseShapes(), this.shapes[n].shape._mdf = !0, this.shapes[n].shape.paths = this.shapes[n].localShapeCollection;
        else if (1 === r && 0 ===
            e || 0 === r && 1 === e) {
            if (this._mdf)
                for (n = 0; n < f; n += 1) this.shapes[n].pathsData.length = 0, this.shapes[n].shape._mdf = !0
        } else {
            var d, u, y = [];
            for (n = 0; n < f; n += 1)
                if ((d = this.shapes[n])
                    .shape._mdf || this._mdf || t || 2 === this.m) {
                    if (h = (i = d.shape.paths)
                        ._length, m = 0, !d.shape._mdf && d.pathsData.length) m = d.totalShapeLength;
                    else {
                        for (l = this.releasePathsData(d.pathsData), o = 0; o < h; o += 1) p = bez.getSegmentsLength(i.shapes[o]), l.push(p), m += p.totalLength;
                        d.totalShapeLength = m, d.pathsData = l
                    }
                    c += m, d.shape._mdf = !0
                } else d.shape.paths = d.localShapeCollection;
            var g, v = e,
                b = r,
                E = 0;
            for (n = f - 1; 0 <= n; n -= 1)
                if ((d = this.shapes[n])
                    .shape._mdf) {
                    for ((u = d.localShapeCollection)
                             .releaseShapes(), 2 === this.m && 1 < f ? (g = this.calculateShapeEdges(e, r, d.totalShapeLength, E, c), E += d.totalShapeLength) : g = [
                        [v, b]
                    ], h = g.length, o = 0; o < h; o += 1) {
                        v = g[o][0], b = g[o][1], y.length = 0, b <= 1 ? y.push({
                            s: d.totalShapeLength * v,
                            e: d.totalShapeLength * b
                        }) : 1 <= v ? y.push({
                            s: d.totalShapeLength * (v - 1),
                            e: d.totalShapeLength * (b - 1)
                        }) : (y.push({
                            s: d.totalShapeLength * v,
                            e: d.totalShapeLength
                        }), y.push({
                            s: 0,
                            e: d.totalShapeLength * (b -
                                1)
                        }));
                        var x = this.addShapes(d, y[0]);
                        if (y[0].s !== y[0].e) {
                            if (1 < y.length)
                                if (d.shape.paths.shapes[d.shape.paths._length - 1].c) {
                                    var P = x.pop();
                                    this.addPaths(x, u), x = this.addShapes(d, y[1], P)
                                } else this.addPaths(x, u), x = this.addShapes(d, y[1]);
                            this.addPaths(x, u)
                        }
                    }
                    d.shape.paths = u
                }
        }
    }, TrimModifier.prototype.addPaths = function(t, e) {
        var r, i = t.length;
        for (r = 0; r < i; r += 1) e.addShape(t[r])
    }, TrimModifier.prototype.addSegment = function(t, e, r, i, s, a, n) {
        s.setXYAt(e[0], e[1], "o", a), s.setXYAt(r[0], r[1], "i", a + 1), n && s.setXYAt(t[0], t[1],
            "v", a), s.setXYAt(i[0], i[1], "v", a + 1)
    }, TrimModifier.prototype.addSegmentFromArray = function(t, e, r, i) {
        e.setXYAt(t[1], t[5], "o", r), e.setXYAt(t[2], t[6], "i", r + 1), i && e.setXYAt(t[0], t[4], "v", r), e.setXYAt(t[3], t[7], "v", r + 1)
    }, TrimModifier.prototype.addShapes = function(t, e, r) {
        var i, s, a, n, o, h, l, p, m = t.pathsData,
            f = t.shape.paths.shapes,
            c = t.shape.paths._length,
            d = 0,
            u = [],
            y = !0;
        for (p = r ? (o = r._length, r._length) : (r = shape_pool.newElement(), o = 0), u.push(r), i = 0; i < c; i += 1) {
            for (h = m[i].lengths, r.c = f[i].c, a = f[i].c ? h.length : h.length +
                1, s = 1; s < a; s += 1)
                if (d + (n = h[s - 1])
                    .addedLength < e.s) d += n.addedLength, r.c = !1;
                else {
                    if (d > e.e) {
                        r.c = !1;
                        break
                    }
                    e.s <= d && e.e >= d + n.addedLength ? (this.addSegment(f[i].v[s - 1], f[i].o[s - 1], f[i].i[s], f[i].v[s], r, o, y), y = !1) : (l = bez.getNewSegment(f[i].v[s - 1], f[i].v[s], f[i].o[s - 1], f[i].i[s], (e.s - d) / n.addedLength, (e.e - d) / n.addedLength, h[s - 1]), this.addSegmentFromArray(l, r, o, y), y = !1, r.c = !1), d += n.addedLength, o += 1
                } if (f[i].c && h.length) {
                if (n = h[s - 1], d <= e.e) {
                    var g = h[s - 1].addedLength;
                    e.s <= d && e.e >= d + g ? (this.addSegment(f[i].v[s - 1], f[i].o[s -
                    1], f[i].i[0], f[i].v[0], r, o, y), y = !1) : (l = bez.getNewSegment(f[i].v[s - 1], f[i].v[0], f[i].o[s - 1], f[i].i[0], (e.s - d) / g, (e.e - d) / g, h[s - 1]), this.addSegmentFromArray(l, r, o, y), y = !1, r.c = !1)
                } else r.c = !1;
                d += n.addedLength, o += 1
            }
            if (r._length && (r.setXYAt(r.v[p][0], r.v[p][1], "i", p), r.setXYAt(r.v[r._length - 1][0], r.v[r._length - 1][1], "o", r._length - 1)), d > e.e) break;
            i < c - 1 && (r = shape_pool.newElement(), y = !0, u.push(r), o = 0)
        }
        return u
    }, ShapeModifiers.registerModifier("tm", TrimModifier), extendPrototype([ShapeModifier], RoundCornersModifier),
        RoundCornersModifier.prototype.initModifierProperties = function(t, e) {
            this.getValue = this.processKeys, this.rd = PropertyFactory.getProp(t, e.r, 0, null, this), this._isAnimated = !!this.rd.effectsSequence.length
        }, RoundCornersModifier.prototype.processPath = function(t, e) {
        var r = shape_pool.newElement();
        r.c = t.c;
        var i, s, a, n, o, h, l, p, m, f, c, d, u, y = t._length,
            g = 0;
        for (i = 0; i < y; i += 1) s = t.v[i], n = t.o[i], a = t.i[i], s[0] === n[0] && s[1] === n[1] && s[0] === a[0] && s[1] === a[1] ? 0 !== i && i !== y - 1 || t.c ? (o = 0 === i ? t.v[y - 1] : t.v[i - 1], l = (h = Math.sqrt(Math.pow(s[0] -
            o[0], 2) + Math.pow(s[1] - o[1], 2))) ? Math.min(h / 2, e) / h : 0, p = d = s[0] + (o[0] - s[0]) * l, m = u = s[1] - (s[1] - o[1]) * l, f = p - (p - s[0]) * roundCorner, c = m - (m - s[1]) * roundCorner, r.setTripleAt(p, m, f, c, d, u, g), g += 1, o = i === y - 1 ? t.v[0] : t.v[i + 1], l = (h = Math.sqrt(Math.pow(s[0] - o[0], 2) + Math.pow(s[1] - o[1], 2))) ? Math.min(h / 2, e) / h : 0, p = f = s[0] + (o[0] - s[0]) * l, m = c = s[1] + (o[1] - s[1]) * l, d = p - (p - s[0]) * roundCorner, u = m - (m - s[1]) * roundCorner, r.setTripleAt(p, m, f, c, d, u, g)) : r.setTripleAt(s[0], s[1], n[0], n[1], a[0], a[1], g) : r.setTripleAt(t.v[i][0], t.v[i][1], t.o[i][0],
            t.o[i][1], t.i[i][0], t.i[i][1], g), g += 1;
        return r
    }, RoundCornersModifier.prototype.processShapes = function(t) {
        var e, r, i, s, a, n, o = this.shapes.length,
            h = this.rd.v;
        if (0 !== h)
            for (r = 0; r < o; r += 1) {
                if ((a = this.shapes[r])
                    .shape.paths, n = a.localShapeCollection, a.shape._mdf || this._mdf || t)
                    for (n.releaseShapes(), a.shape._mdf = !0, e = a.shape.paths.shapes, s = a.shape.paths._length, i = 0; i < s; i += 1) n.addShape(this.processPath(e[i], h));
                a.shape.paths = a.localShapeCollection
            }
        this.dynamicProperties.length || (this._mdf = !1)
    }, ShapeModifiers.registerModifier("rd",
        RoundCornersModifier), extendPrototype([ShapeModifier], RepeaterModifier), RepeaterModifier.prototype.initModifierProperties = function(t, e) {
        this.getValue = this.processKeys, this.c = PropertyFactory.getProp(t, e.c, 0, null, this), this.o = PropertyFactory.getProp(t, e.o, 0, null, this), this.tr = TransformPropertyFactory.getTransformProperty(t, e.tr, this), this.so = PropertyFactory.getProp(t, e.tr.so, 0, .01, this), this.eo = PropertyFactory.getProp(t, e.tr.eo, 0, .01, this), this.data = e, this.dynamicProperties.length || this.getValue(!0),
            this._isAnimated = !!this.dynamicProperties.length, this.pMatrix = new Matrix, this.rMatrix = new Matrix, this.sMatrix = new Matrix, this.tMatrix = new Matrix, this.matrix = new Matrix
    }, RepeaterModifier.prototype.applyTransforms = function(t, e, r, i, s, a) {
        var n = a ? -1 : 1,
            o = i.s.v[0] + (1 - i.s.v[0]) * (1 - s),
            h = i.s.v[1] + (1 - i.s.v[1]) * (1 - s);
        t.translate(i.p.v[0] * n * s, i.p.v[1] * n * s, i.p.v[2]), e.translate(-i.a.v[0], -i.a.v[1], i.a.v[2]), e.rotate(-i.r.v * n * s), e.translate(i.a.v[0], i.a.v[1], i.a.v[2]), r.translate(-i.a.v[0], -i.a.v[1], i.a.v[2]), r.scale(a ?
            1 / o : o, a ? 1 / h : h), r.translate(i.a.v[0], i.a.v[1], i.a.v[2])
    }, RepeaterModifier.prototype.init = function(t, e, r, i) {
        this.elem = t, this.arr = e, this.pos = r, this.elemsData = i, this._currentCopies = 0, this._elements = [], this._groups = [], this.frameId = -1, this.initDynamicPropertyContainer(t), this.initModifierProperties(t, e[r]);
        for (; 0 < r;) r -= 1, this._elements.unshift(e[r]), 1;
        this.dynamicProperties.length ? this.k = !0 : this.getValue(!0)
    }, RepeaterModifier.prototype.resetElements = function(t) {
        var e, r = t.length;
        for (e = 0; e < r; e += 1) t[e]._processed = !1, "gr" === t[e].ty && this.resetElements(t[e].it)
    }, RepeaterModifier.prototype.cloneElements = function(t) {
        t.length;
        var e = JSON.parse(JSON.stringify(t));
        return this.resetElements(e), e
    }, RepeaterModifier.prototype.changeGroupRender = function(t, e) {
        var r, i = t.length;
        for (r = 0; r < i; r += 1) t[r]._render = e, "gr" === t[r].ty && this.changeGroupRender(t[r].it, e)
    }, RepeaterModifier.prototype.processShapes = function(t) {
        var e, r, i, s, a;
        if (this._mdf || t) {
            var n, o = Math.ceil(this.c.v);
            if (this._groups.length < o) {
                for (; this._groups.length < o;) {
                    var h = {
                        it: this.cloneElements(this._elements),
                        ty: "gr"
                    };
                    h.it.push({
                        a: {
                            a: 0,
                            ix: 1,
                            k: [0, 0]
                        },
                        nm: "Transform",
                        o: {
                            a: 0,
                            ix: 7,
                            k: 100
                        },
                        p: {
                            a: 0,
                            ix: 2,
                            k: [0, 0]
                        },
                        r: {
                            a: 1,
                            ix: 6,
                            k: [{
                                s: 0,
                                e: 0,
                                t: 0
                            }, {
                                s: 0,
                                e: 0,
                                t: 1
                            }]
                        },
                        s: {
                            a: 0,
                            ix: 3,
                            k: [100, 100]
                        },
                        sa: {
                            a: 0,
                            ix: 5,
                            k: 0
                        },
                        sk: {
                            a: 0,
                            ix: 4,
                            k: 0
                        },
                        ty: "tr"
                    }), this.arr.splice(0, 0, h), this._groups.splice(0, 0, h), this._currentCopies += 1
                }
                this.elem.reloadShapes()
            }
            for (i = a = 0; i <= this._groups.length - 1; i += 1) n = a < o, this._groups[i]._render = n, this.changeGroupRender(this._groups[i].it, n), a += 1;
            this._currentCopies = o;
            var l = this.o.v,
                p = l % 1,
                m = 0 < l ? Math.floor(l) : Math.ceil(l),
                f = (this.tr.v.props, this.pMatrix.props),
                c = this.rMatrix.props,
                d = this.sMatrix.props;
            this.pMatrix.reset(), this.rMatrix.reset(), this.sMatrix.reset(), this.tMatrix.reset(), this.matrix.reset();
            var u, y, g = 0;
            if (0 < l) {
                for (; g < m;) this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, !1), g += 1;
                p && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, p, !1), g += p)
            } else if (l < 0) {
                for (; m < g;) this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr,
                    1, !0), g -= 1;
                p && (this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -p, !0), g -= p)
            }
            for (i = 1 === this.data.m ? 0 : this._currentCopies - 1, s = 1 === this.data.m ? 1 : -1, a = this._currentCopies; a;) {
                if (y = (r = (e = this.elemsData[i].it)[e.length - 1].transform.mProps.v.props)
                    .length, e[e.length - 1].transform.mProps._mdf = !0, e[e.length - 1].transform.op._mdf = !0, e[e.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1)), 0 !== g) {
                    for ((0 !== i && 1 === s || i !== this._currentCopies - 1 && -1 === s) && this.applyTransforms(this.pMatrix,
                        this.rMatrix, this.sMatrix, this.tr, 1, !1), this.matrix.transform(c[0], c[1], c[2], c[3], c[4], c[5], c[6], c[7], c[8], c[9], c[10], c[11], c[12], c[13], c[14], c[15]), this.matrix.transform(d[0], d[1], d[2], d[3], d[4], d[5], d[6], d[7], d[8], d[9], d[10], d[11], d[12], d[13], d[14], d[15]), this.matrix.transform(f[0], f[1], f[2], f[3], f[4], f[5], f[6], f[7], f[8], f[9], f[10], f[11], f[12], f[13], f[14], f[15]), u = 0; u < y; u += 1) r[u] = this.matrix.props[u];
                    this.matrix.reset()
                } else
                    for (this.matrix.reset(), u = 0; u < y; u += 1) r[u] = this.matrix.props[u];
                g += 1, a -=
                    1, i += s
            }
        } else
            for (a = this._currentCopies, i = 0, s = 1; a;) r = (e = this.elemsData[i].it)[e.length - 1].transform.mProps.v.props, e[e.length - 1].transform.mProps._mdf = !1, e[e.length - 1].transform.op._mdf = !1, a -= 1, i += s
    }, RepeaterModifier.prototype.addShape = function() {}, ShapeModifiers.registerModifier("rp", RepeaterModifier), ShapeCollection.prototype.addShape = function(t) {
        this._length === this._maxLength && (this.shapes = this.shapes.concat(createSizedArray(this._maxLength)), this._maxLength *= 2), this.shapes[this._length] = t, this._length +=
            1
    }, ShapeCollection.prototype.releaseShapes = function() {
        var t;
        for (t = 0; t < this._length; t += 1) shape_pool.release(this.shapes[t]);
        this._length = 0
    }, DashProperty.prototype.getValue = function(t) {
        if ((this.elem.globalData.frameId !== this.frameId || t) && (this.frameId = this.elem.globalData.frameId, this.iterateDynamicProperties(), this._mdf = this._mdf || t, this._mdf)) {
            var e = 0,
                r = this.dataProps.length;
            for ("svg" === this.renderer && (this.dashStr = ""), e = 0; e < r; e += 1) "o" != this.dataProps[e].n ? "svg" === this.renderer ? this.dashStr += " " +
                this.dataProps[e].p.v : this.dashArray[e] = this.dataProps[e].p.v : this.dashoffset[0] = this.dataProps[e].p.v
        }
    }, extendPrototype([DynamicPropertyContainer], DashProperty), GradientProperty.prototype.comparePoints = function(t, e) {
        for (var r = 0, i = this.o.length / 2; r < i;) {
            if (.01 < Math.abs(t[4 * r] - t[4 * e + 2 * r])) return !1;
            r += 1
        }
        return !0
    }, GradientProperty.prototype.checkCollapsable = function() {
        if (this.o.length / 2 != this.c.length / 4) return !1;
        if (this.data.k.k[0].s)
            for (var t = 0, e = this.data.k.k.length; t < e;) {
                if (!this.comparePoints(this.data.k.k[t].s,
                    this.data.p)) return !1;
                t += 1
            } else if (!this.comparePoints(this.data.k.k, this.data.p)) return !1;
        return !0
    }, GradientProperty.prototype.getValue = function(t) {
        if (this.prop.getValue(), this._mdf = !1, this._cmdf = !1, this._omdf = !1, this.prop._mdf || t) {
            var e, r, i, s = 4 * this.data.p;
            for (e = 0; e < s; e += 1) r = e % 4 == 0 ? 100 : 255, i = Math.round(this.prop.v[e] * r), this.c[e] !== i && (this.c[e] = i, this._cmdf = !t);
            if (this.o.length)
                for (s = this.prop.v.length, e = 4 * this.data.p; e < s; e += 1) r = e % 2 == 0 ? 100 : 1, i = e % 2 == 0 ? Math.round(100 * this.prop.v[e]) : this.prop.v[e],
                this.o[e - 4 * this.data.p] !== i && (this.o[e - 4 * this.data.p] = i, this._omdf = !t);
            this._mdf = !t
        }
    }, extendPrototype([DynamicPropertyContainer], GradientProperty);
    var buildShapeString = function(t, e, r, i) {
            if (0 === e) return "";
            var s, a = t.o,
                n = t.i,
                o = t.v,
                h = " M" + i.applyToPointStringified(o[0][0], o[0][1]);
            for (s = 1; s < e; s += 1) h += " C" + i.applyToPointStringified(a[s - 1][0], a[s - 1][1]) + " " + i.applyToPointStringified(n[s][0], n[s][1]) + " " + i.applyToPointStringified(o[s][0], o[s][1]);
            return r && e && (h += " C" + i.applyToPointStringified(a[s - 1][0],
                a[s - 1][1]) + " " + i.applyToPointStringified(n[0][0], n[0][1]) + " " + i.applyToPointStringified(o[0][0], o[0][1]), h += "z"), h
        },
        ImagePreloader = function() {
            var s = function() {
                var t = createTag("canvas");
                t.width = 1, t.height = 1;
                var e = t.getContext("2d");
                return e.fillStyle = "rgba(0,0,0,0)", e.fillRect(0, 0, 1, 1), t
            }();

            function t() {
                this.loadedAssets += 1, this.loadedAssets === this.totalImages && this.imagesLoadedCb && this.imagesLoadedCb(null)
            }

            function e(t) {
                var e = function(t, e, r) {
                        var i = "";
                        if (t.e) i = t.p;
                        else if (e) {
                            var s = t.p; - 1 !== s.indexOf("images/") &&
                            (s = s.split("/")[1]), i = e + s
                        } else i = r, i += t.u ? t.u : "", i += t.p;
                        return i
                    }(t, this.assetsPath, this.path),
                    r = createTag("img");
                r.crossOrigin = "anonymous", r.addEventListener("load", this._imageLoaded.bind(this), !1), r.addEventListener("error", function() {
                    i.img = s, this._imageLoaded()
                }.bind(this), !1), r.src = e;
                var i = {
                    img: r,
                    assetData: t
                };
                return i
            }

            function r(t, e) {
                this.imagesLoadedCb = e;
                var r, i = t.length;
                for (r = 0; r < i; r += 1) t[r].layers || (this.totalImages += 1, this.images.push(this._createImageData(t[r])))
            }

            function i(t) {
                this.path =
                    t || ""
            }

            function a(t) {
                this.assetsPath = t || ""
            }

            function n(t) {
                for (var e = 0, r = this.images.length; e < r;) {
                    if (this.images[e].assetData === t) return this.images[e].img;
                    e += 1
                }
            }

            function o() {
                this.imagesLoadedCb = null, this.images.length = 0
            }

            function h() {
                return this.totalImages === this.loadedAssets
            }
            return function() {
                this.loadAssets = r, this.setAssetsPath = a, this.setPath = i, this.loaded = h, this.destroy = o, this.getImage = n, this._createImageData = e, this._imageLoaded = t, this.assetsPath = "", this.path = "", this.totalImages = 0, this.loadedAssets =
                    0, this.imagesLoadedCb = null, this.images = []
            }
        }(),
        featureSupport = (qw = {
            maskType: !0
        }, (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) && (qw.maskType = !1), qw),
        qw, filtersFactory = (rw = {}, rw.createFilter = function(t) {
            var e = createNS("filter");
            return e.setAttribute("id", t), e.setAttribute("filterUnits", "objectBoundingBox"), e.setAttribute("x", "0%"), e.setAttribute("y", "0%"), e.setAttribute("width", "100%"), e.setAttribute("height",
                "100%"), e
        }, rw.createAlphaToLuminanceFilter = function() {
            var t = createNS("feColorMatrix");
            return t.setAttribute("type", "matrix"), t.setAttribute("color-interpolation-filters", "sRGB"), t.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"), t
        }, rw),
        rw, assetLoader = function() {
            function a(t) {
                return t.response && "object" == typeof t.response ? t.response : t.response && "string" == typeof t.response ? JSON.parse(t.response) : t.responseText ? JSON.parse(t.responseText) : void 0
            }
            return {
                load: function(t, e, r) {
                    var i, s =
                        new XMLHttpRequest;
                    s.open("GET", t, !0);
                    try {
                        s.responseType = "json"
                    } catch (t$8) {}
                    s.send(), s.onreadystatechange = function() {
                        if (4 == s.readyState)
                            if (200 == s.status) i = a(s), e(i);
                            else try {
                                i = a(s), e(i)
                            } catch (t$9) {
                                r && r(t$9)
                            }
                    }
                }
            }
        }();

    function TextAnimatorProperty(t, e, r) {
        this._isFirstFrame = !0, this._hasMaskedPath = !1, this._frameId = -1, this._textData = t, this._renderType = e, this._elem = r, this._animatorsData = createSizedArray(this._textData.a.length), this._pathData = {}, this._moreOptions = {
            alignment: {}
        }, this.renderedLetters = [], this.lettersChangedFlag = !1, this.initDynamicPropertyContainer(r)
    }

    function TextAnimatorDataProperty(t, e, r) {
        var i = {
                propType: !1
            },
            s = PropertyFactory.getProp,
            a = e.a;
        this.a = {
            r: a.r ? s(t, a.r, 0, degToRads, r) : i,
            rx: a.rx ? s(t, a.rx, 0, degToRads, r) : i,
            ry: a.ry ? s(t, a.ry, 0, degToRads, r) : i,
            sk: a.sk ? s(t, a.sk, 0, degToRads, r) : i,
            sa: a.sa ? s(t, a.sa, 0, degToRads, r) : i,
            s: a.s ? s(t, a.s, 1, .01, r) : i,
            a: a.a ? s(t, a.a, 1, 0, r) : i,
            o: a.o ? s(t, a.o, 0, .01, r) : i,
            p: a.p ? s(t, a.p, 1, 0, r) : i,
            sw: a.sw ? s(t, a.sw, 0, 0, r) : i,
            sc: a.sc ? s(t, a.sc, 1, 0, r) : i,
            fc: a.fc ? s(t, a.fc, 1, 0, r) : i,
            fh: a.fh ? s(t, a.fh, 0,
                0, r) : i,
            fs: a.fs ? s(t, a.fs, 0, .01, r) : i,
            fb: a.fb ? s(t, a.fb, 0, .01, r) : i,
            t: a.t ? s(t, a.t, 0, 0, r) : i
        }, this.s = TextSelectorProp.getTextSelectorProp(t, e.s, r), this.s.t = e.s.t
    }

    function LetterProps(t, e, r, i, s, a) {
        this.o = t, this.sw = e, this.sc = r, this.fc = i, this.m = s, this.p = a, this._mdf = {
            o: !0,
            sw: !!e,
            sc: !!r,
            fc: !!i,
            m: !0,
            p: !0
        }
    }

    function TextProperty(t, e) {
        this._frameId = initialDefaultFrame, this.pv = "", this.v = "", this.kf = !1, this._isFirstFrame = !0, this._mdf = !1, this.data = e, this.elem = t, this.comp = this.elem.comp, this.keysIndex = 0, this.canResize = !1, this.minimumFontSize = 1, this.effectsSequence = [], this.currentData = {
            ascent: 0,
            boxWidth: this.defaultBoxWidth,
            f: "",
            fStyle: "",
            fWeight: "",
            fc: "",
            j: "",
            justifyOffset: "",
            l: [],
            lh: 0,
            lineWidths: [],
            ls: "",
            of: "",
            s: "",
            sc: "",
            sw: 0,
            t: 0,
            tr: 0,
            sz: 0,
            ps: null,
            fillColorAnim: !1,
            strokeColorAnim: !1,
            strokeWidthAnim: !1,
            yOffset: 0,
            finalSize: 0,
            finalText: [],
            finalLineHeight: 0,
            __complete: !1
        }, this.copyData(this.currentData, this.data.d.k[0].s), this.searchProperty() || this.completeTextData(this.currentData)
    }
    TextAnimatorProperty.prototype.searchProperties =
        function() {
            var t, e, r = this._textData.a.length,
                i = PropertyFactory.getProp;
            for (t = 0; t < r; t += 1) e = this._textData.a[t], this._animatorsData[t] = new TextAnimatorDataProperty(this._elem, e, this);
            this._textData.p && "m" in this._textData.p ? (this._pathData = {
                f: i(this._elem, this._textData.p.f, 0, 0, this),
                l: i(this._elem, this._textData.p.l, 0, 0, this),
                r: this._textData.p.r,
                m: this._elem.maskManager.getMaskProperty(this._textData.p.m)
            }, this._hasMaskedPath = !0) : this._hasMaskedPath = !1, this._moreOptions.alignment = i(this._elem, this._textData.m.a,
                1, 0, this)
        }, TextAnimatorProperty.prototype.getMeasures = function(t, e) {
        if (this.lettersChangedFlag = e, this._mdf || this._isFirstFrame || e || this._hasMaskedPath && this._pathData.m._mdf) {
            this._isFirstFrame = !1;
            var r, i, s, a, n, o, h, l, p, m, f, c, d, u, y, g, v, b, E, x = this._moreOptions.alignment.v,
                P = this._animatorsData,
                S = this._textData,
                _ = this.mHelper,
                A = this._renderType,
                C = this.renderedLetters.length,
                T = (this.data, t.l);
            if (this._hasMaskedPath) {
                if (E = this._pathData.m, !this._pathData.n || this._pathData._mdf) {
                    var k, M = E.v;
                    for (this._pathData.r &&
                         (M = M.reverse()), n = {
                        tLength: 0,
                        segments: []
                    }, a = M._length - 1, s = g = 0; s < a; s += 1) k = bez.buildBezierData(M.v[s], M.v[s + 1], [M.o[s][0] - M.v[s][0], M.o[s][1] - M.v[s][1]], [M.i[s + 1][0] - M.v[s + 1][0], M.i[s + 1][1] - M.v[s + 1][1]]), n.tLength += k.segmentLength, n.segments.push(k), g += k.segmentLength;
                    s = a, E.v.c && (k = bez.buildBezierData(M.v[s], M.v[0], [M.o[s][0] - M.v[s][0], M.o[s][1] - M.v[s][1]], [M.i[0][0] - M.v[0][0], M.i[0][1] - M.v[0][1]]), n.tLength += k.segmentLength, n.segments.push(k), g += k.segmentLength), this._pathData.pi = n
                }
                if (n = this._pathData.pi,
                    o = this._pathData.f.v, m = 1, p = !(l = f = 0), u = n.segments, o < 0 && E.v.c)
                    for (n.tLength < Math.abs(o) && (o = -Math.abs(o) % n.tLength), m = (d = u[f = u.length - 1].points)
                        .length - 1; o < 0;) o += d[m].partialLength, (m -= 1) < 0 && (m = (d = u[f -= 1].points)
                        .length - 1);
                c = (d = u[f].points)[m - 1], y = (h = d[m])
                    .partialLength
            }
            a = T.length, i = r = 0;
            var D, w, F, I, V = 1.2 * t.finalSize * .714,
                R = !0;
            F = P.length;
            var B, L, G, z, N, O, H, j, q, W, Y, X, $, K = -1,
                Z = o,
                J = f,
                Q = m,
                U = -1,
                tt = "",
                et = this.defaultPropsArray;
            if (2 === t.j || 1 === t.j) {
                var rt = 0,
                    it = 0,
                    st = 2 === t.j ? -.5 : -1,
                    at = 0,
                    nt = !0;
                for (s = 0; s < a; s += 1)
                    if (T[s].n) {
                        for (rt &&
                             (rt += it); at < s;) T[at].animatorJustifyOffset = rt, at += 1;
                        nt = !(rt = 0)
                    } else {
                        for (w = 0; w < F; w += 1)(D = P[w].a)
                            .t.propType && (nt && 2 === t.j && (it += D.t.v * st), (B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars))
                            .length ? rt += D.t.v * B[0] * st : rt += D.t.v * B * st);
                        nt = !1
                    } for (rt && (rt += it); at < s;) T[at].animatorJustifyOffset = rt, at += 1
            }
            for (s = 0; s < a; s += 1) {
                if (_.reset(), N = 1, T[s].n) r = 0, i += t.yOffset, i += R ? 1 : 0, o = Z, R = !1, 0, this._hasMaskedPath && (m = Q, c = (d = u[f = J].points)[m - 1], y = (h = d[m])
                    .partialLength, l = 0), $ = W = X = tt = "", et = this.defaultPropsArray;
                else {
                    if (this._hasMaskedPath) {
                        if (U !==
                            T[s].line) {
                            switch (t.j) {
                                case 1:
                                    o += g - t.lineWidths[T[s].line];
                                    break;
                                case 2:
                                    o += (g - t.lineWidths[T[s].line]) / 2
                            }
                            U = T[s].line
                        }
                        K !== T[s].ind && (T[K] && (o += T[K].extra), o += T[s].an / 2, K = T[s].ind), o += x[0] * T[s].an / 200;
                        var ot = 0;
                        for (w = 0; w < F; w += 1)(D = P[w].a)
                            .p.propType && ((B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars))
                            .length ? ot += D.p.v[0] * B[0] : ot += D.p.v[0] * B), D.a.propType && ((B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars))
                            .length ? ot += D.a.v[0] * B[0] : ot += D.a.v[0] * B);
                        for (p = !0; p;) o + ot <= l + y || !d ? (v = (o + ot - l) / h.partialLength,
                            G = c.point[0] + (h.point[0] - c.point[0]) * v, z = c.point[1] + (h.point[1] - c.point[1]) * v, _.translate(-x[0] * T[s].an / 200, -x[1] * V / 100), p = !1) : d && (l += h.partialLength, (m += 1) >= d.length && (m = 0, d = u[f += 1] ? u[f].points : E.v.c ? u[f = m = 0].points : (l -= h.partialLength, null)), d && (c = h, y = (h = d[m])
                            .partialLength));
                        L = T[s].an / 2 - T[s].add, _.translate(-L, 0, 0)
                    } else L = T[s].an / 2 - T[s].add, _.translate(-L, 0, 0), _.translate(-x[0] * T[s].an / 200, -x[1] * V / 100, 0);
                    for (T[s].l / 2, w = 0; w < F; w += 1)(D = P[w].a)
                        .t.propType && (B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars),
                    0 === r && 0 === t.j || (this._hasMaskedPath ? B.length ? o += D.t.v * B[0] : o += D.t.v * B : B.length ? r += D.t.v * B[0] : r += D.t.v * B));
                    for (T[s].l / 2, t.strokeWidthAnim && (H = t.sw || 0), t.strokeColorAnim && (O = t.sc ? [t.sc[0], t.sc[1], t.sc[2]] : [0, 0, 0]), t.fillColorAnim && t.fc && (j = [t.fc[0], t.fc[1], t.fc[2]]), w = 0; w < F; w += 1)(D = P[w].a)
                        .a.propType && ((B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars))
                        .length ? _.translate(-D.a.v[0] * B[0], -D.a.v[1] * B[1], D.a.v[2] * B[2]) : _.translate(-D.a.v[0] * B, -D.a.v[1] * B, D.a.v[2] * B));
                    for (w = 0; w < F; w += 1)(D = P[w].a)
                        .s.propType &&
                    ((B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars))
                        .length ? _.scale(1 + (D.s.v[0] - 1) * B[0], 1 + (D.s.v[1] - 1) * B[1], 1) : _.scale(1 + (D.s.v[0] - 1) * B, 1 + (D.s.v[1] - 1) * B, 1));
                    for (w = 0; w < F; w += 1) {
                        if (D = P[w].a, B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars), D.sk.propType && (B.length ? _.skewFromAxis(-D.sk.v * B[0], D.sa.v * B[1]) : _.skewFromAxis(-D.sk.v * B, D.sa.v * B)), D.r.propType && (B.length ? _.rotateZ(-D.r.v * B[2]) : _.rotateZ(-D.r.v * B)), D.ry.propType && (B.length ? _.rotateY(D.ry.v * B[1]) : _.rotateY(D.ry.v * B)), D.rx.propType &&
                        (B.length ? _.rotateX(D.rx.v * B[0]) : _.rotateX(D.rx.v * B)), D.o.propType && (B.length ? N += (D.o.v * B[0] - N) * B[0] : N += (D.o.v * B - N) * B), t.strokeWidthAnim && D.sw.propType && (B.length ? H += D.sw.v * B[0] : H += D.sw.v * B), t.strokeColorAnim && D.sc.propType)
                            for (q = 0; q < 3; q += 1) B.length ? O[q] = O[q] + (D.sc.v[q] - O[q]) * B[0] : O[q] = O[q] + (D.sc.v[q] - O[q]) * B;
                        if (t.fillColorAnim && t.fc) {
                            if (D.fc.propType)
                                for (q = 0; q < 3; q += 1) B.length ? j[q] = j[q] + (D.fc.v[q] - j[q]) * B[0] : j[q] = j[q] + (D.fc.v[q] - j[q]) * B;
                            D.fh.propType && (j = B.length ? addHueToRGB(j, D.fh.v * B[0]) : addHueToRGB(j,
                                D.fh.v * B)), D.fs.propType && (j = B.length ? addSaturationToRGB(j, D.fs.v * B[0]) : addSaturationToRGB(j, D.fs.v * B)), D.fb.propType && (j = B.length ? addBrightnessToRGB(j, D.fb.v * B[0]) : addBrightnessToRGB(j, D.fb.v * B))
                        }
                    }
                    for (w = 0; w < F; w += 1)(D = P[w].a)
                        .p.propType && (B = P[w].s.getMult(T[s].anIndexes[w], S.a[w].s.totalChars), this._hasMaskedPath ? B.length ? _.translate(0, D.p.v[1] * B[0], -D.p.v[2] * B[1]) : _.translate(0, D.p.v[1] * B, -D.p.v[2] * B) : B.length ? _.translate(D.p.v[0] * B[0], D.p.v[1] * B[1], -D.p.v[2] * B[2]) : _.translate(D.p.v[0] * B, D.p.v[1] *
                        B, -D.p.v[2] * B));
                    if (t.strokeWidthAnim && (W = H < 0 ? 0 : H), t.strokeColorAnim && (Y = "rgb(" + Math.round(255 * O[0]) + "," + Math.round(255 * O[1]) + "," + Math.round(255 * O[2]) + ")"), t.fillColorAnim && t.fc && (X = "rgb(" + Math.round(255 * j[0]) + "," + Math.round(255 * j[1]) + "," + Math.round(255 * j[2]) + ")"), this._hasMaskedPath) {
                        if (_.translate(0, -t.ls), _.translate(0, x[1] * V / 100 + i, 0), S.p.p) {
                            b = (h.point[1] - c.point[1]) / (h.point[0] - c.point[0]);
                            var ht = 180 * Math.atan(b) / Math.PI;
                            h.point[0] < c.point[0] && (ht += 180), _.rotate(-ht * Math.PI / 180)
                        }
                        _.translate(G,
                            z, 0), o -= x[0] * T[s].an / 200, T[s + 1] && K !== T[s + 1].ind && (o += T[s].an / 2, o += t.tr / 1E3 * t.finalSize)
                    } else {
                        switch (_.translate(r, i, 0), t.ps && _.translate(t.ps[0], t.ps[1] + t.ascent, 0), t.j) {
                            case 1:
                                _.translate(T[s].animatorJustifyOffset + t.justifyOffset + (t.boxWidth - t.lineWidths[T[s].line]), 0, 0);
                                break;
                            case 2:
                                _.translate(T[s].animatorJustifyOffset + t.justifyOffset + (t.boxWidth - t.lineWidths[T[s].line]) / 2, 0, 0)
                        }
                        _.translate(0, -t.ls), _.translate(L, 0, 0), _.translate(x[0] * T[s].an / 200, x[1] * V / 100, 0), r += T[s].l + t.tr / 1E3 * t.finalSize
                    }
                    "html" ===
                    A ? tt = _.toCSS() : "svg" === A ? tt = _.to2dCSS() : et = [_.props[0], _.props[1], _.props[2], _.props[3], _.props[4], _.props[5], _.props[6], _.props[7], _.props[8], _.props[9], _.props[10], _.props[11], _.props[12], _.props[13], _.props[14], _.props[15]], $ = N
                }
                this.lettersChangedFlag = C <= s ? (I = new LetterProps($, W, Y, X, tt, et), this.renderedLetters.push(I), C += 1, !0) : (I = this.renderedLetters[s])
                    .update($, W, Y, X, tt, et) || this.lettersChangedFlag
            }
        }
    }, TextAnimatorProperty.prototype.getValue = function() {
        this._elem.globalData.frameId !== this._frameId &&
        (this._frameId = this._elem.globalData.frameId, this.iterateDynamicProperties())
    }, TextAnimatorProperty.prototype.mHelper = new Matrix, TextAnimatorProperty.prototype.defaultPropsArray = [], extendPrototype([DynamicPropertyContainer], TextAnimatorProperty), LetterProps.prototype.update = function(t, e, r, i, s, a) {
        this._mdf.o = !1, this._mdf.sw = !1, this._mdf.sc = !1, this._mdf.fc = !1, this._mdf.m = !1;
        var n = this._mdf.p = !1;
        return this.o !== t && (this.o = t, n = this._mdf.o = !0), this.sw !== e && (this.sw = e, n = this._mdf.sw = !0), this.sc !== r && (this.sc =
            r, n = this._mdf.sc = !0), this.fc !== i && (this.fc = i, n = this._mdf.fc = !0), this.m !== s && (this.m = s, n = this._mdf.m = !0), !a.length || this.p[0] === a[0] && this.p[1] === a[1] && this.p[4] === a[4] && this.p[5] === a[5] && this.p[12] === a[12] && this.p[13] === a[13] || (this.p = a, n = this._mdf.p = !0), n
    }, TextProperty.prototype.defaultBoxWidth = [0, 0], TextProperty.prototype.copyData = function(t, e) {
        for (var r in e) e.hasOwnProperty(r) && (t[r] = e[r]);
        return t
    }, TextProperty.prototype.setCurrentData = function(t) {
        t.__complete || this.completeTextData(t), this.currentData =
            t, this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth, this._mdf = !0
    }, TextProperty.prototype.searchProperty = function() {
        return this.searchKeyframes()
    }, TextProperty.prototype.searchKeyframes = function() {
        return this.kf = 1 < this.data.d.k.length, this.kf && this.addEffect(this.getKeyframeValue.bind(this)), this.kf
    }, TextProperty.prototype.addEffect = function(t) {
        this.effectsSequence.push(t), this.elem.addDynamicProperty(this)
    }, TextProperty.prototype.getValue = function(t) {
        if (this.elem.globalData.frameId !==
            this.frameId && this.effectsSequence.length || t) {
            this.currentData.t = this.data.d.k[this.keysIndex].s.t;
            var e = this.currentData,
                r = this.keysIndex;
            if (this.lock) this.setCurrentData(this.currentData);
            else {
                this.lock = !0, this._mdf = !1;
                var i, s = this.effectsSequence.length,
                    a = t || this.data.d.k[this.keysIndex].s;
                for (i = 0; i < s; i += 1) a = r !== this.keysIndex ? this.effectsSequence[i](a, a.t) : this.effectsSequence[i](this.currentData, a.t);
                e !== a && this.setCurrentData(a), this.pv = this.v = this.currentData, this.lock = !1, this.frameId = this.elem.globalData.frameId
            }
        }
    },
        TextProperty.prototype.getKeyframeValue = function() {
            for (var t = this.data.d.k, e = this.elem.comp.renderedFrame, r = 0, i = t.length; r <= i - 1 && (t[r].s, !(r === i - 1 || t[r + 1].t > e));) r += 1;
            return this.keysIndex !== r && (this.keysIndex = r), this.data.d.k[this.keysIndex].s
        }, TextProperty.prototype.buildFinalText = function(t) {
        for (var e, r = FontManager.getCombinedCharacterCodes(), i = [], s = 0, a = t.length; s < a;) e = t.charCodeAt(s), -1 !== r.indexOf(e) ? i[i.length - 1] += t.charAt(s) : 55296 <= e && e <= 56319 && 56320 <= (e = t.charCodeAt(s + 1)) && e <= 57343 ? (i.push(t.substr(s,
            2)), ++s) : i.push(t.charAt(s)), s += 1;
        return i
    }, TextProperty.prototype.completeTextData = function(t) {
        t.__complete = !0;
        var e, r, i, s, a, n, o, h = this.elem.globalData.fontManager,
            l = this.data,
            p = [],
            m = 0,
            f = l.m.g,
            c = 0,
            d = 0,
            u = 0,
            y = [],
            g = 0,
            v = 0,
            b = h.getFontByName(t.f),
            E = 0,
            x = b.fStyle ? b.fStyle.split(" ") : [],
            P = "normal",
            S = "normal";
        for (r = x.length, e = 0; e < r; e += 1) switch (x[e].toLowerCase()) {
            case "italic":
                S = "italic";
                break;
            case "bold":
                P = "700";
                break;
            case "black":
                P = "900";
                break;
            case "medium":
                P = "500";
                break;
            case "regular":
            case "normal":
                P = "400";
                break;
            case "light":
            case "thin":
                P = "200"
        }
        t.fWeight = b.fWeight || P, t.fStyle = S, t.finalSize = t.s, t.finalText = this.buildFinalText(t.t), r = t.finalText.length, t.finalLineHeight = t.lh;
        var _, A = t.tr / 1E3 * t.finalSize;
        if (t.sz)
            for (var C, T, k = !0, M = t.sz[0], D = t.sz[1]; k;) {
                g = C = 0, r = (T = this.buildFinalText(t.t))
                    .length, A = t.tr / 1E3 * t.finalSize;
                var w = -1;
                for (e = 0; e < r; e += 1) _ = T[e].charCodeAt(0), i = !1, " " === T[e] ? w = e : 13 !== _ && 3 !== _ || (i = !(g = 0), C += t.finalLineHeight || 1.2 * t.finalSize), M < g + (E = h.chars ? (o = h.getCharData(T[e], b.fStyle, b.fFamily),
                    i ? 0 : o.w * t.finalSize / 100) : h.measureText(T[e], t.f, t.finalSize)) && " " !== T[e] ? (-1 === w ? r += 1 : e = w, C += t.finalLineHeight || 1.2 * t.finalSize, T.splice(e, w === e ? 1 : 0, "\r"), w = -1, g = 0) : (g += E, g += A);
                C += b.ascent * t.finalSize / 100, this.canResize && t.finalSize > this.minimumFontSize && D < C ? (t.finalSize -= 1, t.finalLineHeight = t.finalSize * t.lh / t.s) : (t.finalText = T, r = t.finalText.length, k = !1)
            }
        g = -A;
        var F, I = E = 0;
        for (e = 0; e < r; e += 1)
            if (i = !1, _ = (F = t.finalText[e])
                .charCodeAt(0), " " === F ? s = "\u00a0" : 13 === _ || 3 === _ ? (I = 0, y.push(g), v = v < g ? g : v, g = -2 * A, i = !(s = ""), u += 1) : s = t.finalText[e], E = h.chars ? (o = h.getCharData(F, b.fStyle, h.getFontByName(t.f)
                .fFamily), i ? 0 : o.w * t.finalSize / 100) : h.measureText(s, t.f, t.finalSize), " " === F ? I += E + A : (g += E + A + I, I = 0), p.push({
                l: E,
                an: E,
                add: c,
                n: i,
                anIndexes: [],
                val: s,
                line: u,
                animatorJustifyOffset: 0
            }), 2 == f) {
                if (c += E, "" === s || "\u00a0" === s || e === r - 1) {
                    for ("" !== s && "\u00a0" !== s || (c -= E); d <= e;) p[d].an = c, p[d].ind = m, p[d].extra = E, d += 1;
                    m += 1, c = 0
                }
            } else if (3 == f) {
                if (c += E, "" === s || e === r - 1) {
                    for ("" === s && (c -= E); d <= e;) p[d].an = c, p[d].ind = m, p[d].extra = E, d += 1;
                    c = 0, m += 1
                }
            } else p[m].ind = m, p[m].extra = 0, m += 1;
        if (t.l = p, v = v < g ? g : v, y.push(g), t.sz) t.boxWidth = t.sz[0], t.justifyOffset = 0;
        else switch (t.boxWidth = v, t.j) {
            case 1:
                t.justifyOffset = -t.boxWidth;
                break;
            case 2:
                t.justifyOffset = -t.boxWidth / 2;
                break;
            default:
                t.justifyOffset = 0
        }
        t.lineWidths = y;
        var V, R, B = l.a;
        n = B.length;
        var L, G, z = [];
        for (a = 0; a < n; a += 1) {
            for ((V = B[a])
                     .a.sc && (t.strokeColorAnim = !0), V.a.sw && (t.strokeWidthAnim = !0), (V.a.fc || V.a.fh || V.a.fs || V.a.fb) && (t.fillColorAnim = !0), G = 0, L = V.s.b, e = 0; e < r; e += 1)(R = p[e])
                .anIndexes[a] =
                G, (1 == L && "" !== R.val || 2 == L && "" !== R.val && "\u00a0" !== R.val || 3 == L && (R.n || "\u00a0" == R.val || e == r - 1) || 4 == L && (R.n || e == r - 1)) && (1 === V.s.rn && z.push(G), G += 1);
            l.a[a].s.totalChars = G;
            var N, O = -1;
            if (1 === V.s.rn)
                for (e = 0; e < r; e += 1) O != (R = p[e])
                    .anIndexes[a] && (O = R.anIndexes[a], N = z.splice(Math.floor(Math.random() * z.length), 1)[0]), R.anIndexes[a] = N
        }
        t.yOffset = t.finalLineHeight || 1.2 * t.finalSize, t.ls = t.ls || 0, t.ascent = b.ascent * t.finalSize / 100
    }, TextProperty.prototype.updateDocumentData = function(t, e) {
        e = void 0 === e ? this.keysIndex :
            e;
        var r = this.copyData({}, this.data.d.k[e].s);
        r = this.copyData(r, t), this.data.d.k[e].s = r, this.recalculate(e), this.elem.addDynamicProperty(this)
    }, TextProperty.prototype.recalculate = function(t) {
        var e = this.data.d.k[t].s;
        e.__complete = !1, this.keysIndex = 0, this._isFirstFrame = !0, this.getValue(e)
    }, TextProperty.prototype.canResizeFont = function(t) {
        this.canResize = t, this.recalculate(this.keysIndex), this.elem.addDynamicProperty(this)
    }, TextProperty.prototype.setMinimumFontSize = function(t) {
        this.minimumFontSize = Math.floor(t) ||
            1, this.recalculate(this.keysIndex), this.elem.addDynamicProperty(this)
    };
    var TextSelectorProp = function() {
            var l = Math.max,
                p = Math.min,
                m = Math.floor;

            function i(t, e) {
                this._currentTextLength = -1, this.k = !1, this.data = e, this.elem = t, this.comp = t.comp, this.finalS = 0, this.finalE = 0, this.initDynamicPropertyContainer(t), this.s = PropertyFactory.getProp(t, e.s || {
                    k: 0
                }, 0, 0, this), this.e = "e" in e ? PropertyFactory.getProp(t, e.e, 0, 0, this) : {
                    v: 100
                }, this.o = PropertyFactory.getProp(t, e.o || {
                    k: 0
                }, 0, 0, this), this.xe = PropertyFactory.getProp(t,
                    e.xe || {
                        k: 0
                    }, 0, 0, this), this.ne = PropertyFactory.getProp(t, e.ne || {
                    k: 0
                }, 0, 0, this), this.a = PropertyFactory.getProp(t, e.a, 0, .01, this), this.dynamicProperties.length || this.getValue()
            }
            return i.prototype = {
                getMult: function(t) {
                    this._currentTextLength !== this.elem.textProperty.currentData.l.length && this.getValue();
                    var e = BezierFactory.getBezierEasing(this.ne.v / 100, 0, 1 - this.xe.v / 100, 1)
                            .get,
                        r = 0,
                        i = this.finalS,
                        s = this.finalE,
                        a = this.data.sh;
                    if (2 == a) r = e(r = s === i ? s <= t ? 1 : 0 : l(0, p(.5 / (s - i) + (t - i) / (s - i), 1)));
                    else if (3 == a) r = e(r =
                        s === i ? s <= t ? 0 : 1 : 1 - l(0, p(.5 / (s - i) + (t - i) / (s - i), 1)));
                    else if (4 == a) s === i ? r = 0 : (r = l(0, p(.5 / (s - i) + (t - i) / (s - i), 1))) < .5 ? r *= 2 : r = 1 - 2 * (r - .5), r = e(r);
                    else if (5 == a) {
                        if (s === i) r = 0;
                        else {
                            var n = s - i,
                                o = -n / 2 + (t = p(l(0, t + .5 - i), s - i)),
                                h = n / 2;
                            r = Math.sqrt(1 - o * o / (h * h))
                        }
                        r = e(r)
                    } else r = 6 == a ? e(r = s === i ? 0 : (t = p(l(0, t + .5 - i), s - i), (1 + Math.cos(Math.PI + 2 * Math.PI * t / (s - i))) / 2)) : (t >= m(i) && (r = t - i < 0 ? 1 - (i - t) : l(0, p(s - t, 1))), e(r));
                    return r * this.a.v
                },
                getValue: function(t) {
                    this.iterateDynamicProperties(), this._mdf = t || this._mdf, this._currentTextLength =
                        this.elem.textProperty.currentData.l.length || 0, t && 2 === this.data.r && (this.e.v = this._currentTextLength);
                    var e = 2 === this.data.r ? 1 : 100 / this.data.totalChars,
                        r = this.o.v / e,
                        i = this.s.v / e + r,
                        s = this.e.v / e + r;
                    if (s < i) {
                        var a = i;
                        i = s, s = a
                    }
                    this.finalS = i, this.finalE = s
                }
            }, extendPrototype([DynamicPropertyContainer], i), {
                getTextSelectorProp: function(t, e, r) {
                    return new i(t, e, r)
                }
            }
        }(),
        pool_factory = function(t, e, r, i) {
            var s = 0,
                a = t,
                n = createSizedArray(a);

            function o() {
                return s ? n[s -= 1] : e()
            }
            return {
                newElement: o,
                release: function(t) {
                    s === a &&
                    (n = pooling.double(n), a *= 2), r && r(t), n[s] = t, s += 1
                }
            }
        },
        pooling = {
            double: function(t) {
                return t.concat(createSizedArray(t.length))
            }
        },
        point_pool = pool_factory(8, function() {
            return createTypedArray("float32", 2)
        }),
        shape_pool = (EA = pool_factory(4, function() {
            return new ShapePath
        }, function(t) {
            var e, r = t._length;
            for (e = 0; e < r; e += 1) point_pool.release(t.v[e]), point_pool.release(t.i[e]), point_pool.release(t.o[e]), t.v[e] = null, t.i[e] = null, t.o[e] = null;
            t._length = 0, t.c = !1
        }), EA.clone = function(t) {
            var e, r = EA.newElement(),
                i = void 0 ===
                t._length ? t.v.length : t._length;
            for (r.setLength(i), r.c = t.c, e = 0; e < i; e += 1) r.setTripleAt(t.v[e][0], t.v[e][1], t.o[e][0], t.o[e][1], t.i[e][0], t.i[e][1], e);
            return r
        }, EA),
        EA, shapeCollection_pool = (NA = {
            newShapeCollection: function() {
                var t;
                t = OA ? QA[OA -= 1] : new ShapeCollection;
                return t
            },
            release: function(t) {
                var e, r = t._length;
                for (e = 0; e < r; e += 1) shape_pool.release(t.shapes[e]);
                t._length = 0, OA === PA && (QA = pooling.double(QA), PA *= 2);
                QA[OA] = t, OA += 1
            }
        }, OA = 0, PA = 4, QA = createSizedArray(PA), NA),
        NA, OA, PA, QA, segments_length_pool = pool_factory(8,
        function() {
            return {
                lengths: [],
                totalLength: 0
            }
        },
        function(t) {
            var e, r = t.lengths.length;
            for (e = 0; e < r; e += 1) bezier_length_pool.release(t.lengths[e]);
            t.lengths.length = 0
        }),
        bezier_length_pool = pool_factory(8, function() {
            return {
                addedLength: 0,
                percents: createTypedArray("float32", defaultCurveSegments),
                lengths: createTypedArray("float32", defaultCurveSegments)
            }
        });

    function BaseRenderer() {}

    function SVGRenderer(t, e) {
        this.animationItem = t, this.layers = null, this.renderedFrame = -1, this.svgElement = createNS("svg");
        var r = "";
        if (e &&
            e.title) {
            var i = createNS("title"),
                s = createElementID();
            i.setAttribute("id", s), i.textContent = e.title, this.svgElement.appendChild(i), r += s
        }
        if (e && e.description) {
            var a = createNS("desc"),
                n = createElementID();
            a.setAttribute("id", n), a.textContent = e.description, this.svgElement.appendChild(a), r += " " + n
        }
        r && this.svgElement.setAttribute("aria-labelledby", r);
        var o = createNS("defs");
        this.svgElement.appendChild(o);
        var h = createNS("g");
        this.svgElement.appendChild(h), this.layerElement = h, this.renderConfig = {
            preserveAspectRatio: e &&
                e.preserveAspectRatio || "xMidYMid meet",
            imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice",
            progressiveLoad: e && e.progressiveLoad || !1,
            hideOnTransparent: !e || !1 !== e.hideOnTransparent,
            viewBoxOnly: e && e.viewBoxOnly || !1,
            viewBoxSize: e && e.viewBoxSize || !1,
            className: e && e.className || "",
            focusable: e && e.focusable
        }, this.globalData = {
            _mdf: !1,
            frameNum: -1,
            defs: o,
            renderConfig: this.renderConfig
        }, this.elements = [], this.pendingElements = [], this.destroyed = !1, this.rendererType = "svg"
    }

    function CanvasRenderer(t,
                            e) {
        this.animationItem = t, this.renderConfig = {
            clearCanvas: !e || void 0 === e.clearCanvas || e.clearCanvas,
            context: e && e.context || null,
            progressiveLoad: e && e.progressiveLoad || !1,
            preserveAspectRatio: e && e.preserveAspectRatio || "xMidYMid meet",
            imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice",
            className: e && e.className || ""
        }, this.renderConfig.dpr = e && e.dpr || 1, this.animationItem.wrapper && (this.renderConfig.dpr = e && e.dpr || window.devicePixelRatio || 1), this.renderedFrame = -1, this.globalData = {
            frameNum: -1,
            _mdf: !1,
            renderConfig: this.renderConfig,
            currentGlobalAlpha: -1
        }, this.contextData = new CVContextData, this.elements = [], this.pendingElements = [], this.transformMat = new Matrix, this.completeLayers = !1, this.rendererType = "canvas"
    }

    function HybridRenderer(t, e) {
        this.animationItem = t, this.layers = null, this.renderedFrame = -1, this.renderConfig = {
            className: e && e.className || "",
            imagePreserveAspectRatio: e && e.imagePreserveAspectRatio || "xMidYMid slice",
            hideOnTransparent: !e || !1 !== e.hideOnTransparent
        }, this.globalData = {
            _mdf: !1,
            frameNum: -1,
            renderConfig: this.renderConfig
        }, this.pendingElements = [], this.elements = [], this.threeDElements = [], this.destroyed = !1, this.camera = null, this.supports3d = !0, this.rendererType = "html"
    }

    function MaskElement(t, e, r) {
        this.data = t, this.element = e, this.globalData = r, this.storedData = [], this.masksProperties = this.data.masksProperties || [], this.maskElement = null;
        var i, s = this.globalData.defs,
            a = this.masksProperties ? this.masksProperties.length : 0;
        this.viewData = createSizedArray(a), this.solidPath = "";
        var n, o, h, l, p, m, f, c = this.masksProperties,
            d = 0,
            u = [],
            y = createElementID(),
            g = "clipPath",
            v = "clip-path";
        for (i = 0; i < a; i++)
            if (("a" !== c[i].mode && "n" !== c[i].mode || c[i].inv || 100 !== c[i].o.k || c[i].o.x) && (v = g = "mask"), "s" != c[i].mode && "i" != c[i].mode || 0 !== d ? l = null : ((l = createNS("rect"))
                .setAttribute("fill", "#ffffff"), l.setAttribute("width", this.element.comp.data.w || 0), l.setAttribute("height", this.element.comp.data.h || 0), u.push(l)), n = createNS("path"), "n" != c[i].mode) {
                var b;
                if (d += 1, n.setAttribute("fill", "s" === c[i].mode ? "#000000" : "#ffffff"), n.setAttribute("clip-rule",
                    "nonzero"), 0 !== c[i].x.k ? (v = g = "mask", f = PropertyFactory.getProp(this.element, c[i].x, 0, null, this.element), b = createElementID(), (p = createNS("filter"))
                    .setAttribute("id", b), (m = createNS("feMorphology"))
                    .setAttribute("operator", "erode"), m.setAttribute("in", "SourceGraphic"), m.setAttribute("radius", "0"), p.appendChild(m), s.appendChild(p), n.setAttribute("stroke", "s" === c[i].mode ? "#000000" : "#ffffff")) : f = m = null, this.storedData[i] = {
                    elem: n,
                    x: f,
                    expan: m,
                    lastPath: "",
                    lastOperator: "",
                    filterId: b,
                    lastRadius: 0
                }, "i" == c[i].mode) {
                    h =
                        u.length;
                    var E = createNS("g");
                    for (o = 0; o < h; o += 1) E.appendChild(u[o]);
                    var x = createNS("mask");
                    x.setAttribute("mask-type", "alpha"), x.setAttribute("id", y + "_" + d), x.appendChild(n), s.appendChild(x), E.setAttribute("mask", "url(" + locationHref + "#" + y + "_" + d + ")"), u.length = 0, u.push(E)
                } else u.push(n);
                c[i].inv && !this.solidPath && (this.solidPath = this.createLayerSolidPath()), this.viewData[i] = {
                    elem: n,
                    lastPath: "",
                    op: PropertyFactory.getProp(this.element, c[i].o, 0, .01, this.element),
                    prop: ShapePropertyFactory.getShapeProp(this.element,
                        c[i], 3),
                    invRect: l
                }, this.viewData[i].prop.k || this.drawPath(c[i], this.viewData[i].prop.v, this.viewData[i])
            } else this.viewData[i] = {
                op: PropertyFactory.getProp(this.element, c[i].o, 0, .01, this.element),
                prop: ShapePropertyFactory.getShapeProp(this.element, c[i], 3),
                elem: n,
                lastPath: ""
            }, s.appendChild(n);
        for (this.maskElement = createNS(g), a = u.length, i = 0; i < a; i += 1) this.maskElement.appendChild(u[i]);
        0 < d && (this.maskElement.setAttribute("id", y), this.element.maskedElement.setAttribute(v, "url(" + locationHref + "#" + y + ")"),
            s.appendChild(this.maskElement)), this.viewData.length && this.element.addRenderableComponent(this)
    }

    function HierarchyElement() {}

    function FrameElement() {}

    function TransformElement() {}

    function RenderableElement() {}

    function RenderableDOMElement() {}

    function ProcessedElement(t, e) {
        this.elem = t, this.pos = e
    }

    function SVGStyleData(t, e) {
        this.data = t, this.type = t.ty, this.d = "", this.lvl = e, this._mdf = !1, this.closed = !0 === t.hd, this.pElem = createNS("path"), this.msElem = null
    }

    function SVGShapeData(t, e, r) {
        this.caches = [], this.styles = [], this.transformers = t, this.lStr = "", this.sh = r, this.lvl = e, this._isAnimated = !!r.k;
        for (var i = 0, s = t.length; i < s;) {
            if (t[i].mProps.dynamicProperties.length) {
                this._isAnimated = !0;
                break
            }
            i += 1
        }
    }

    function SVGTransformData(t, e, r) {
        this.transform = {
            mProps: t,
            op: e,
            container: r
        }, this.elements = [], this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length
    }

    function SVGStrokeStyleData(t, e, r) {
        this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.o =
            PropertyFactory.getProp(t, e.o, 0, .01, this), this.w = PropertyFactory.getProp(t, e.w, 0, null, this), this.d = new DashProperty(t, e.d || {}, "svg", this), this.c = PropertyFactory.getProp(t, e.c, 1, 255, this), this.style = r, this._isAnimated = !!this._isAnimated
    }

    function SVGFillStyleData(t, e, r) {
        this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.o = PropertyFactory.getProp(t, e.o, 0, .01, this), this.c = PropertyFactory.getProp(t, e.c, 1, 255, this), this.style = r
    }

    function SVGGradientFillStyleData(t, e, r) {
        this.initDynamicPropertyContainer(t),
            this.getValue = this.iterateDynamicProperties, this.initGradientData(t, e, r)
    }

    function SVGGradientStrokeStyleData(t, e, r) {
        this.initDynamicPropertyContainer(t), this.getValue = this.iterateDynamicProperties, this.w = PropertyFactory.getProp(t, e.w, 0, null, this), this.d = new DashProperty(t, e.d || {}, "svg", this), this.initGradientData(t, e, r), this._isAnimated = !!this._isAnimated
    }

    function ShapeGroupData() {
        this.it = [], this.prevViewData = [], this.gr = createNS("g")
    }
    BaseRenderer.prototype.checkLayers = function(t) {
        var e, r, i = this.layers.length;
        for (this.completeLayers = !0, e = i - 1; 0 <= e; e--) this.elements[e] || (r = this.layers[e])
            .ip - r.st <= t - this.layers[e].st && r.op - r.st > t - this.layers[e].st && this.buildItem(e), this.completeLayers = !!this.elements[e] && this.completeLayers;
        this.checkPendingElements()
    }, BaseRenderer.prototype.createItem = function(t) {
        switch (t.ty) {
            case 2:
                return this.createImage(t);
            case 0:
                return this.createComp(t);
            case 1:
                return this.createSolid(t);
            case 3:
                return this.createNull(t);
            case 4:
                return this.createShape(t);
            case 5:
                return this.createText(t);
            case 13:
                return this.createCamera(t)
        }
        return this.createNull(t)
    }, BaseRenderer.prototype.createCamera = function() {
        throw new Error("You're using a 3d camera. Try the html renderer.");
    }, BaseRenderer.prototype.buildAllItems = function() {
        var t, e = this.layers.length;
        for (t = 0; t < e; t += 1) this.buildItem(t);
        this.checkPendingElements()
    }, BaseRenderer.prototype.includeLayers = function(t) {
        this.completeLayers = !1;
        var e, r, i = t.length,
            s = this.layers.length;
        for (e = 0; e < i; e += 1)
            for (r = 0; r < s;) {
                if (this.layers[r].id == t[e].id) {
                    this.layers[r] =
                        t[e];
                    break
                }
                r += 1
            }
    }, BaseRenderer.prototype.setProjectInterface = function(t) {
        this.globalData.projectInterface = t
    }, BaseRenderer.prototype.initItems = function() {
        this.globalData.progressiveLoad || this.buildAllItems()
    }, BaseRenderer.prototype.buildElementParenting = function(t, e, r) {
        for (var i = this.elements, s = this.layers, a = 0, n = s.length; a < n;) s[a].ind == e && (i[a] && !0 !== i[a] ? (r.push(i[a]), i[a].setAsParent(), void 0 !== s[a].parent ? this.buildElementParenting(t, s[a].parent, r) : t.setHierarchy(r)) : (this.buildItem(a), this.addPendingElement(t))),
            a += 1
    }, BaseRenderer.prototype.addPendingElement = function(t) {
        this.pendingElements.push(t)
    }, BaseRenderer.prototype.searchExtraCompositions = function(t) {
        var e, r = t.length;
        for (e = 0; e < r; e += 1)
            if (t[e].xt) {
                var i = this.createComp(t[e]);
                i.initExpressions(), this.globalData.projectInterface.registerComposition(i)
            }
    }, BaseRenderer.prototype.setupGlobalData = function(t, e) {
        this.globalData.fontManager = new FontManager, this.globalData.fontManager.addChars(t.chars), this.globalData.fontManager.addFonts(t.fonts, e), this.globalData.getAssetData =
            this.animationItem.getAssetData.bind(this.animationItem), this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem), this.globalData.imageLoader = this.animationItem.imagePreloader, this.globalData.frameId = 0, this.globalData.frameRate = t.fr, this.globalData.nm = t.nm, this.globalData.compSize = {
            w: t.w,
            h: t.h
        }
    }, extendPrototype([BaseRenderer], SVGRenderer), SVGRenderer.prototype.createNull = function(t) {
        return new NullElement(t, this.globalData, this)
    }, SVGRenderer.prototype.createShape = function(t) {
        return new SVGShapeElement(t,
            this.globalData, this)
    }, SVGRenderer.prototype.createText = function(t) {
        return new SVGTextElement(t, this.globalData, this)
    }, SVGRenderer.prototype.createImage = function(t) {
        return new IImageElement(t, this.globalData, this)
    }, SVGRenderer.prototype.createComp = function(t) {
        return new SVGCompElement(t, this.globalData, this)
    }, SVGRenderer.prototype.createSolid = function(t) {
        return new ISolidElement(t, this.globalData, this)
    }, SVGRenderer.prototype.configAnimation = function(t) {
        this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg"),
            this.renderConfig.viewBoxSize ? this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize) : this.svgElement.setAttribute("viewBox", "0 0 " + t.w + " " + t.h), this.renderConfig.viewBoxOnly || (this.svgElement.setAttribute("width", t.w), this.svgElement.setAttribute("height", t.h), this.svgElement.style.width = "100%", this.svgElement.style.height = "100%", this.svgElement.style.transform = "translate3d(0,0,0)"), this.renderConfig.className && this.svgElement.setAttribute("class", this.renderConfig.className), void 0 !==
        this.renderConfig.focusable && this.svgElement.setAttribute("focusable", this.renderConfig.focusable), this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio), this.animationItem.wrapper.appendChild(this.svgElement);
        var e = this.globalData.defs;
        this.setupGlobalData(t, e), this.globalData.progressiveLoad = this.renderConfig.progressiveLoad, this.data = t;
        var r = createNS("clipPath"),
            i = createNS("rect");
        i.setAttribute("width", t.w), i.setAttribute("height", t.h), i.setAttribute("x", 0),
            i.setAttribute("y", 0);
        var s = createElementID();
        r.setAttribute("id", s), r.appendChild(i), this.layerElement.setAttribute("clip-path", "url(" + locationHref + "#" + s + ")"), e.appendChild(r), this.layers = t.layers, this.elements = createSizedArray(t.layers.length)
    }, SVGRenderer.prototype.destroy = function() {
        this.animationItem.wrapper.innerHTML = "", this.layerElement = null, this.globalData.defs = null;
        var t, e = this.layers ? this.layers.length : 0;
        for (t = 0; t < e; t++) this.elements[t] && this.elements[t].destroy();
        this.elements.length = 0,
            this.destroyed = !0, this.animationItem = null
    }, SVGRenderer.prototype.updateContainerSize = function() {}, SVGRenderer.prototype.buildItem = function(t) {
        var e = this.elements;
        if (!e[t] && 99 != this.layers[t].ty) {
            e[t] = !0;
            var r = this.createItem(this.layers[t]);
            e[t] = r, expressionsPlugin && (0 === this.layers[t].ty && this.globalData.projectInterface.registerComposition(r), r.initExpressions()), this.appendElementInPos(r, t), this.layers[t].tt && (this.elements[t - 1] && !0 !== this.elements[t - 1] ? r.setMatte(e[t - 1].layerId) : (this.buildItem(t -
                1), this.addPendingElement(r)))
        }
    }, SVGRenderer.prototype.checkPendingElements = function() {
        for (; this.pendingElements.length;) {
            var t = this.pendingElements.pop();
            if (t.checkParenting(), t.data.tt)
                for (var e = 0, r = this.elements.length; e < r;) {
                    if (this.elements[e] === t) {
                        t.setMatte(this.elements[e - 1].layerId);
                        break
                    }
                    e += 1
                }
        }
    }, SVGRenderer.prototype.renderFrame = function(t) {
        if (this.renderedFrame !== t && !this.destroyed) {
            null === t ? t = this.renderedFrame : this.renderedFrame = t, this.globalData.frameNum = t, this.globalData.frameId += 1,
                this.globalData.projectInterface.currentFrame = t, this.globalData._mdf = !1;
            var e, r = this.layers.length;
            for (this.completeLayers || this.checkLayers(t), e = r - 1; 0 <= e; e--)(this.completeLayers || this.elements[e]) && this.elements[e].prepareFrame(t - this.layers[e].st);
            if (this.globalData._mdf)
                for (e = 0; e < r; e += 1)(this.completeLayers || this.elements[e]) && this.elements[e].renderFrame()
        }
    }, SVGRenderer.prototype.appendElementInPos = function(t, e) {
        var r = t.getBaseElement();
        if (r) {
            for (var i, s = 0; s < e;) this.elements[s] && !0 !== this.elements[s] &&
            this.elements[s].getBaseElement() && (i = this.elements[s].getBaseElement()), s += 1;
            i ? this.layerElement.insertBefore(r, i) : this.layerElement.appendChild(r)
        }
    }, SVGRenderer.prototype.hide = function() {
        this.layerElement.style.display = "none"
    }, SVGRenderer.prototype.show = function() {
        this.layerElement.style.display = "block"
    }, extendPrototype([BaseRenderer], CanvasRenderer), CanvasRenderer.prototype.createShape = function(t) {
        return new CVShapeElement(t, this.globalData, this)
    }, CanvasRenderer.prototype.createText = function(t) {
        return new CVTextElement(t,
            this.globalData, this)
    }, CanvasRenderer.prototype.createImage = function(t) {
        return new CVImageElement(t, this.globalData, this)
    }, CanvasRenderer.prototype.createComp = function(t) {
        return new CVCompElement(t, this.globalData, this)
    }, CanvasRenderer.prototype.createSolid = function(t) {
        return new CVSolidElement(t, this.globalData, this)
    }, CanvasRenderer.prototype.createNull = SVGRenderer.prototype.createNull, CanvasRenderer.prototype.ctxTransform = function(t) {
        if (1 !== t[0] || 0 !== t[1] || 0 !== t[4] || 1 !== t[5] || 0 !== t[12] || 0 !== t[13])
            if (this.renderConfig.clearCanvas) {
                this.transformMat.cloneFromProps(t);
                var e = this.contextData.cTr.props;
                this.transformMat.transform(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9], e[10], e[11], e[12], e[13], e[14], e[15]), this.contextData.cTr.cloneFromProps(this.transformMat.props);
                var r = this.contextData.cTr.props;
                this.canvasContext.setTransform(r[0], r[1], r[4], r[5], r[12], r[13])
            } else this.canvasContext.transform(t[0], t[1], t[4], t[5], t[12], t[13])
    }, CanvasRenderer.prototype.ctxOpacity = function(t) {
        if (!this.renderConfig.clearCanvas) return this.canvasContext.globalAlpha *= t < 0 ? 0 :
            t, void(this.globalData.currentGlobalAlpha = this.contextData.cO);
        this.contextData.cO *= t < 0 ? 0 : t, this.globalData.currentGlobalAlpha !== this.contextData.cO && (this.canvasContext.globalAlpha = this.contextData.cO, this.globalData.currentGlobalAlpha = this.contextData.cO)
    }, CanvasRenderer.prototype.reset = function() {
        this.renderConfig.clearCanvas ? this.contextData.reset() : this.canvasContext.restore()
    }, CanvasRenderer.prototype.save = function(t) {
        if (this.renderConfig.clearCanvas) {
            t && this.canvasContext.save();
            var e = this.contextData.cTr.props;
            this.contextData._length <= this.contextData.cArrPos && this.contextData.duplicate();
            var r, i = this.contextData.saved[this.contextData.cArrPos];
            for (r = 0; r < 16; r += 1) i[r] = e[r];
            this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO, this.contextData.cArrPos += 1
        } else this.canvasContext.save()
    }, CanvasRenderer.prototype.restore = function(t) {
        if (this.renderConfig.clearCanvas) {
            t && (this.canvasContext.restore(), this.globalData.blendMode = "source-over"), this.contextData.cArrPos -= 1;
            var e, r = this.contextData.saved[this.contextData.cArrPos],
                i = this.contextData.cTr.props;
            for (e = 0; e < 16; e += 1) i[e] = r[e];
            this.canvasContext.setTransform(r[0], r[1], r[4], r[5], r[12], r[13]), r = this.contextData.savedOp[this.contextData.cArrPos], this.contextData.cO = r, this.globalData.currentGlobalAlpha !== r && (this.canvasContext.globalAlpha = r, this.globalData.currentGlobalAlpha = r)
        } else this.canvasContext.restore()
    }, CanvasRenderer.prototype.configAnimation = function(t) {
        this.animationItem.wrapper ? (this.animationItem.container = createTag("canvas"), this.animationItem.container.style.width =
            "100%", this.animationItem.container.style.height = "100%", this.animationItem.container.style.transformOrigin = this.animationItem.container.style.mozTransformOrigin = this.animationItem.container.style.webkitTransformOrigin = this.animationItem.container.style["-webkit-transform"] = "0px 0px 0px", this.animationItem.wrapper.appendChild(this.animationItem.container), this.canvasContext = this.animationItem.container.getContext("2d"), this.renderConfig.className && this.animationItem.container.setAttribute("class",
            this.renderConfig.className)) : this.canvasContext = this.renderConfig.context, this.data = t, this.layers = t.layers, this.transformCanvas = {
            w: t.w,
            h: t.h,
            sx: 0,
            sy: 0,
            tx: 0,
            ty: 0
        }, this.setupGlobalData(t, document.body), this.globalData.canvasContext = this.canvasContext, (this.globalData.renderer = this)
            .globalData.isDashed = !1, this.globalData.progressiveLoad = this.renderConfig.progressiveLoad, this.globalData.transformCanvas = this.transformCanvas, this.elements = createSizedArray(t.layers.length), this.updateContainerSize()
    }, CanvasRenderer.prototype.updateContainerSize =
        function() {
            var t, e, r, i;
            if (this.reset(), this.animationItem.wrapper && this.animationItem.container ? (t = this.animationItem.wrapper.offsetWidth, e = this.animationItem.wrapper.offsetHeight, this.animationItem.container.setAttribute("width", t * this.renderConfig.dpr), this.animationItem.container.setAttribute("height", e * this.renderConfig.dpr)) : (t = this.canvasContext.canvas.width * this.renderConfig.dpr, e = this.canvasContext.canvas.height * this.renderConfig.dpr), -1 !== this.renderConfig.preserveAspectRatio.indexOf("meet") ||
            -1 !== this.renderConfig.preserveAspectRatio.indexOf("slice")) {
                var s = this.renderConfig.preserveAspectRatio.split(" "),
                    a = s[1] || "meet",
                    n = s[0] || "xMidYMid",
                    o = n.substr(0, 4),
                    h = n.substr(4);
                r = t / e, i = this.transformCanvas.w / this.transformCanvas.h, this.transformCanvas.sy = r < i && "meet" === a || i < r && "slice" === a ? (this.transformCanvas.sx = t / (this.transformCanvas.w / this.renderConfig.dpr), t / (this.transformCanvas.w / this.renderConfig.dpr)) : (this.transformCanvas.sx = e / (this.transformCanvas.h / this.renderConfig.dpr), e / (this.transformCanvas.h /
                    this.renderConfig.dpr)), this.transformCanvas.tx = "xMid" === o && (i < r && "meet" === a || r < i && "slice" === a) ? (t - this.transformCanvas.w * (e / this.transformCanvas.h)) / 2 * this.renderConfig.dpr : "xMax" === o && (i < r && "meet" === a || r < i && "slice" === a) ? (t - this.transformCanvas.w * (e / this.transformCanvas.h)) * this.renderConfig.dpr : 0, this.transformCanvas.ty = "YMid" === h && (r < i && "meet" === a || i < r && "slice" === a) ? (e - this.transformCanvas.h * (t / this.transformCanvas.w)) / 2 * this.renderConfig.dpr : "YMax" === h && (r < i && "meet" === a || i < r && "slice" === a) ? (e -
                    this.transformCanvas.h * (t / this.transformCanvas.w)) * this.renderConfig.dpr : 0
            } else "none" == this.renderConfig.preserveAspectRatio ? (this.transformCanvas.sx = t / (this.transformCanvas.w / this.renderConfig.dpr), this.transformCanvas.sy = e / (this.transformCanvas.h / this.renderConfig.dpr)) : (this.transformCanvas.sx = this.renderConfig.dpr, this.transformCanvas.sy = this.renderConfig.dpr), this.transformCanvas.tx = 0, this.transformCanvas.ty = 0;
            this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy,
                0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1
            ], this.ctxTransform(this.transformCanvas.props), this.canvasContext.beginPath(), this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h), this.canvasContext.closePath(), this.canvasContext.clip(), this.renderFrame(this.renderedFrame, !0)
        }, CanvasRenderer.prototype.destroy = function() {
        var t;
        for (this.renderConfig.clearCanvas && (this.animationItem.wrapper.innerHTML = ""), t = (this.layers ? this.layers.length : 0) - 1; 0 <= t; t -= 1) this.elements[t] &&
        this.elements[t].destroy();
        this.elements.length = 0, this.globalData.canvasContext = null, this.animationItem.container = null, this.destroyed = !0
    }, CanvasRenderer.prototype.renderFrame = function(t, e) {
        if ((this.renderedFrame !== t || !0 !== this.renderConfig.clearCanvas || e) && !this.destroyed && -1 !== t) {
            this.renderedFrame = t, this.globalData.frameNum = t - this.animationItem._isFirstFrame, this.globalData.frameId += 1, this.globalData._mdf = !this.renderConfig.clearCanvas || e, this.globalData.projectInterface.currentFrame = t;
            var r, i =
                this.layers.length;
            for (this.completeLayers || this.checkLayers(t), r = 0; r < i; r++)(this.completeLayers || this.elements[r]) && this.elements[r].prepareFrame(t - this.layers[r].st);
            if (this.globalData._mdf) {
                for (!0 === this.renderConfig.clearCanvas ? this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h) : this.save(), r = i - 1; 0 <= r; r -= 1)(this.completeLayers || this.elements[r]) && this.elements[r].renderFrame();
                !0 !== this.renderConfig.clearCanvas && this.restore()
            }
        }
    }, CanvasRenderer.prototype.buildItem =
        function(t) {
            var e = this.elements;
            if (!e[t] && 99 != this.layers[t].ty) {
                var r = this.createItem(this.layers[t], this, this.globalData);
                (e[t] = r)
                    .initExpressions()
            }
        }, CanvasRenderer.prototype.checkPendingElements = function() {
        for (; this.pendingElements.length;) this.pendingElements.pop()
            .checkParenting()
    }, CanvasRenderer.prototype.hide = function() {
        this.animationItem.container.style.display = "none"
    }, CanvasRenderer.prototype.show = function() {
        this.animationItem.container.style.display = "block"
    }, extendPrototype([BaseRenderer],
        HybridRenderer), HybridRenderer.prototype.buildItem = SVGRenderer.prototype.buildItem, HybridRenderer.prototype.checkPendingElements = function() {
        for (; this.pendingElements.length;) this.pendingElements.pop()
            .checkParenting()
    }, HybridRenderer.prototype.appendElementInPos = function(t, e) {
        var r = t.getBaseElement();
        if (r) {
            var i = this.layers[e];
            if (i.ddd && this.supports3d) this.addTo3dContainer(r, e);
            else if (this.threeDElements) this.addTo3dContainer(r, e);
            else {
                for (var s, a, n = 0; n < e;) this.elements[n] && !0 !== this.elements[n] &&
                this.elements[n].getBaseElement && (a = this.elements[n], s = (this.layers[n].ddd ? this.getThreeDContainerByPos(n) : a.getBaseElement()) || s), n += 1;
                s ? i.ddd && this.supports3d || this.layerElement.insertBefore(r, s) : i.ddd && this.supports3d || this.layerElement.appendChild(r)
            }
        }
    }, HybridRenderer.prototype.createShape = function(t) {
        return this.supports3d ? new HShapeElement(t, this.globalData, this) : new SVGShapeElement(t, this.globalData, this)
    }, HybridRenderer.prototype.createText = function(t) {
        return this.supports3d ? new HTextElement(t,
            this.globalData, this) : new SVGTextElement(t, this.globalData, this)
    }, HybridRenderer.prototype.createCamera = function(t) {
        return this.camera = new HCameraElement(t, this.globalData, this), this.camera
    }, HybridRenderer.prototype.createImage = function(t) {
        return this.supports3d ? new HImageElement(t, this.globalData, this) : new IImageElement(t, this.globalData, this)
    }, HybridRenderer.prototype.createComp = function(t) {
        return this.supports3d ? new HCompElement(t, this.globalData, this) : new SVGCompElement(t, this.globalData, this)
    },
        HybridRenderer.prototype.createSolid = function(t) {
            return this.supports3d ? new HSolidElement(t, this.globalData, this) : new ISolidElement(t, this.globalData, this)
        }, HybridRenderer.prototype.createNull = SVGRenderer.prototype.createNull, HybridRenderer.prototype.getThreeDContainerByPos = function(t) {
        for (var e = 0, r = this.threeDElements.length; e < r;) {
            if (this.threeDElements[e].startPos <= t && this.threeDElements[e].endPos >= t) return this.threeDElements[e].perspectiveElem;
            e += 1
        }
    }, HybridRenderer.prototype.createThreeDContainer =
        function(t, e) {
            var r = createTag("div");
            styleDiv(r);
            var i = createTag("div");
            styleDiv(i), "3d" === e && (r.style.width = this.globalData.compSize.w + "px", r.style.height = this.globalData.compSize.h + "px", r.style.transformOrigin = r.style.mozTransformOrigin = r.style.webkitTransformOrigin = "50% 50%", i.style.transform = i.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"), r.appendChild(i);
            var s = {
                container: i,
                perspectiveElem: r,
                startPos: t,
                endPos: t,
                type: e
            };
            return this.threeDElements.push(s), s
        }, HybridRenderer.prototype.build3dContainers =
        function() {
            var t, e, r = this.layers.length,
                i = "";
            for (t = 0; t < r; t += 1) this.layers[t].ddd && 3 !== this.layers[t].ty ? "3d" !== i && (i = "3d", e = this.createThreeDContainer(t, "3d")) : "2d" !== i && (i = "2d", e = this.createThreeDContainer(t, "2d")), e.endPos = Math.max(e.endPos, t);
            for (t = (r = this.threeDElements.length) - 1; 0 <= t; t--) this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)
        }, HybridRenderer.prototype.addTo3dContainer = function(t, e) {
        for (var r = 0, i = this.threeDElements.length; r < i;) {
            if (e <= this.threeDElements[r].endPos) {
                for (var s,
                         a = this.threeDElements[r].startPos; a < e;) this.elements[a] && this.elements[a].getBaseElement && (s = this.elements[a].getBaseElement()), a += 1;
                s ? this.threeDElements[r].container.insertBefore(t, s) : this.threeDElements[r].container.appendChild(t);
                break
            }
            r += 1
        }
    }, HybridRenderer.prototype.configAnimation = function(t) {
        var e = createTag("div"),
            r = this.animationItem.wrapper;
        e.style.width = t.w + "px", e.style.height = t.h + "px", styleDiv(this.resizerElem = e), e.style.transformStyle = e.style.webkitTransformStyle = e.style.mozTransformStyle =
            "flat", this.renderConfig.className && e.setAttribute("class", this.renderConfig.className), r.appendChild(e), e.style.overflow = "hidden";
        var i = createNS("svg");
        i.setAttribute("width", "1"), i.setAttribute("height", "1"), styleDiv(i), this.resizerElem.appendChild(i);
        var s = createNS("defs");
        i.appendChild(s), this.data = t, this.setupGlobalData(t, i), this.globalData.defs = s, this.layers = t.layers, this.layerElement = this.resizerElem, this.build3dContainers(), this.updateContainerSize()
    }, HybridRenderer.prototype.destroy = function() {
        this.animationItem.wrapper.innerHTML =
            "", this.animationItem.container = null, this.globalData.defs = null;
        var t, e = this.layers ? this.layers.length : 0;
        for (t = 0; t < e; t++) this.elements[t].destroy();
        this.elements.length = 0, this.destroyed = !0, this.animationItem = null
    }, HybridRenderer.prototype.updateContainerSize = function() {
        var t, e, r, i, s = this.animationItem.wrapper.offsetWidth,
            a = this.animationItem.wrapper.offsetHeight;
        i = s / a < this.globalData.compSize.w / this.globalData.compSize.h ? (t = s / this.globalData.compSize.w, e = s / this.globalData.compSize.w, r = 0, (a - this.globalData.compSize.h *
            (s / this.globalData.compSize.w)) / 2) : (t = a / this.globalData.compSize.h, e = a / this.globalData.compSize.h, r = (s - this.globalData.compSize.w * (a / this.globalData.compSize.h)) / 2, 0), this.resizerElem.style.transform = this.resizerElem.style.webkitTransform = "matrix3d(" + t + ",0,0,0,0," + e + ",0,0,0,0,1,0," + r + "," + i + ",0,1)"
    }, HybridRenderer.prototype.renderFrame = SVGRenderer.prototype.renderFrame, HybridRenderer.prototype.hide = function() {
        this.resizerElem.style.display = "none"
    }, HybridRenderer.prototype.show = function() {
        this.resizerElem.style.display =
            "block"
    }, HybridRenderer.prototype.initItems = function() {
        if (this.buildAllItems(), this.camera) this.camera.setup();
        else {
            var t, e = this.globalData.compSize.w,
                r = this.globalData.compSize.h,
                i = this.threeDElements.length;
            for (t = 0; t < i; t += 1) this.threeDElements[t].perspectiveElem.style.perspective = this.threeDElements[t].perspectiveElem.style.webkitPerspective = Math.sqrt(Math.pow(e, 2) + Math.pow(r, 2)) + "px"
        }
    }, HybridRenderer.prototype.searchExtraCompositions = function(t) {
        var e, r = t.length,
            i = createTag("div");
        for (e = 0; e < r; e +=
            1)
            if (t[e].xt) {
                var s = this.createComp(t[e], i, this.globalData.comp, null);
                s.initExpressions(), this.globalData.projectInterface.registerComposition(s)
            }
    }, MaskElement.prototype.getMaskProperty = function(t) {
        return this.viewData[t].prop
    }, MaskElement.prototype.renderFrame = function(t) {
        var e, r = this.element.finalTransform.mat,
            i = this.masksProperties.length;
        for (e = 0; e < i; e++)
            if ((this.viewData[e].prop._mdf || t) && this.drawPath(this.masksProperties[e], this.viewData[e].prop.v, this.viewData[e]), (this.viewData[e].op._mdf ||
                t) && this.viewData[e].elem.setAttribute("fill-opacity", this.viewData[e].op.v), "n" !== this.masksProperties[e].mode && (this.viewData[e].invRect && (this.element.finalTransform.mProp._mdf || t) && (this.viewData[e].invRect.setAttribute("x", -r.props[12]), this.viewData[e].invRect.setAttribute("y", -r.props[13])), this.storedData[e].x && (this.storedData[e].x._mdf || t))) {
                var s = this.storedData[e].expan;
                this.storedData[e].x.v < 0 ? ("erode" !== this.storedData[e].lastOperator && (this.storedData[e].lastOperator = "erode", this.storedData[e].elem.setAttribute("filter",
                    "url(" + locationHref + "#" + this.storedData[e].filterId + ")")), s.setAttribute("radius", -this.storedData[e].x.v)) : ("dilate" !== this.storedData[e].lastOperator && (this.storedData[e].lastOperator = "dilate", this.storedData[e].elem.setAttribute("filter", null)), this.storedData[e].elem.setAttribute("stroke-width", 2 * this.storedData[e].x.v))
            }
    }, MaskElement.prototype.getMaskelement = function() {
        return this.maskElement
    }, MaskElement.prototype.createLayerSolidPath = function() {
        var t = "M0,0 ";
        return t += " h" + this.globalData.compSize.w,
            t += " v" + this.globalData.compSize.h, t += " h-" + this.globalData.compSize.w, t += " v-" + this.globalData.compSize.h + " "
    }, MaskElement.prototype.drawPath = function(t, e, r) {
        var i, s, a = " M" + e.v[0][0] + "," + e.v[0][1];
        for (s = e._length, i = 1; i < s; i += 1) a += " C" + e.o[i - 1][0] + "," + e.o[i - 1][1] + " " + e.i[i][0] + "," + e.i[i][1] + " " + e.v[i][0] + "," + e.v[i][1];
        if (e.c && 1 < s && (a += " C" + e.o[i - 1][0] + "," + e.o[i - 1][1] + " " + e.i[0][0] + "," + e.i[0][1] + " " + e.v[0][0] + "," + e.v[0][1]), r.lastPath !== a) {
            var n = "";
            r.elem && (e.c && (n = t.inv ? this.solidPath + a : a), r.elem.setAttribute("d",
                n)), r.lastPath = a
        }
    }, MaskElement.prototype.destroy = function() {
        this.element = null, this.globalData = null, this.maskElement = null, this.data = null, this.masksProperties = null
    }, HierarchyElement.prototype = {
        initHierarchy: function() {
            this.hierarchy = [], this._isParent = !1, this.checkParenting()
        },
        setHierarchy: function(t) {
            this.hierarchy = t
        },
        setAsParent: function() {
            this._isParent = !0
        },
        checkParenting: function() {
            void 0 !== this.data.parent && this.comp.buildElementParenting(this, this.data.parent, [])
        }
    }, FrameElement.prototype = {
        initFrame: function() {
            this._isFirstFrame = !1, this.dynamicProperties = [], this._mdf = !1
        },
        prepareProperties: function(t, e) {
            var r, i = this.dynamicProperties.length;
            for (r = 0; r < i; r += 1)(e || this._isParent && "transform" === this.dynamicProperties[r].propType) && (this.dynamicProperties[r].getValue(), this.dynamicProperties[r]._mdf && (this.globalData._mdf = !0, this._mdf = !0))
        },
        addDynamicProperty: function(t) {
            -1 === this.dynamicProperties.indexOf(t) && this.dynamicProperties.push(t)
        }
    }, TransformElement.prototype = {
        initTransform: function() {
            this.finalTransform = {
                mProp: this.data.ks ?
                    TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {
                        o: 0
                    },
                _matMdf: !1,
                _opMdf: !1,
                mat: new Matrix
            }, this.data.ao && (this.finalTransform.mProp.autoOriented = !0), this.data.ty
        },
        renderTransform: function() {
            if (this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame, this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame, this.hierarchy) {
                var t, e = this.finalTransform.mat,
                    r = 0,
                    i = this.hierarchy.length;
                if (!this.finalTransform._matMdf)
                    for (; r < i;) {
                        if (this.hierarchy[r].finalTransform.mProp._mdf) {
                            this.finalTransform._matMdf = !0;
                            break
                        }
                        r += 1
                    }
                if (this.finalTransform._matMdf)
                    for (t = this.finalTransform.mProp.v.props, e.cloneFromProps(t), r = 0; r < i; r += 1) t = this.hierarchy[r].finalTransform.mProp.v.props, e.transform(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15])
            }
        },
        globalToLocal: function(t) {
            var e = [];
            e.push(this.finalTransform);
            for (var r = !0, i = this.comp; r;) i.finalTransform ? (i.data.hasMask && e.splice(0, 0, i.finalTransform), i = i.comp) : r = !1;
            var s, a, n = e.length;
            for (s = 0; s < n; s += 1) a = e[s].mat.applyToPointArray(0,
                0, 0), t = [t[0] - a[0], t[1] - a[1], 0];
            return t
        },
        mHelper: new Matrix
    }, RenderableElement.prototype = {
        initRenderable: function() {
            this.isInRange = !1, this.hidden = !1, this.isTransparent = !1, this.renderableComponents = []
        },
        addRenderableComponent: function(t) {
            -1 === this.renderableComponents.indexOf(t) && this.renderableComponents.push(t)
        },
        removeRenderableComponent: function(t) {
            -1 !== this.renderableComponents.indexOf(t) && this.renderableComponents.splice(this.renderableComponents.indexOf(t), 1)
        },
        prepareRenderableFrame: function(t) {
            this.checkLayerLimits(t)
        },
        checkTransparency: function() {
            this.finalTransform.mProp.o.v <= 0 ? !this.isTransparent && this.globalData.renderConfig.hideOnTransparent && (this.isTransparent = !0, this.hide()) : this.isTransparent && (this.isTransparent = !1, this.show())
        },
        checkLayerLimits: function(t) {
            this.data.ip - this.data.st <= t && this.data.op - this.data.st > t ? !0 !== this.isInRange && (this.globalData._mdf = !0, this._mdf = !0, this.isInRange = !0, this.show()) : !1 !== this.isInRange && (this.globalData._mdf = !0, this.isInRange = !1, this.hide())
        },
        renderRenderable: function() {
            var t,
                e = this.renderableComponents.length;
            for (t = 0; t < e; t += 1) this.renderableComponents[t].renderFrame(this._isFirstFrame)
        },
        sourceRectAtTime: function() {
            return {
                top: 0,
                left: 0,
                width: 100,
                height: 100
            }
        },
        getLayerSize: function() {
            return 5 === this.data.ty ? {
                w: this.data.textData.width,
                h: this.data.textData.height
            } : {
                w: this.data.width,
                h: this.data.height
            }
        }
    }, extendPrototype([RenderableElement, createProxyFunction({
        initElement: function(t, e, r) {
            this.initFrame(), this.initBaseData(t, e, r), this.initTransform(t, e, r), this.initHierarchy(),
                this.initRenderable(), this.initRendererElement(), this.createContainerElements(), this.createRenderableComponents(), this.createContent(), this.hide()
        },
        hide: function() {
            this.hidden || this.isInRange && !this.isTransparent || ((this.baseElement || this.layerElement)
                .style.display = "none", this.hidden = !0)
        },
        show: function() {
            this.isInRange && !this.isTransparent && (this.data.hd || ((this.baseElement || this.layerElement)
                .style.display = "block"), this.hidden = !1, this._isFirstFrame = !0)
        },
        renderFrame: function() {
            this.data.hd || this.hidden ||
            (this.renderTransform(), this.renderRenderable(), this.renderElement(), this.renderInnerContent(), this._isFirstFrame && (this._isFirstFrame = !1))
        },
        renderInnerContent: function() {},
        prepareFrame: function(t) {
            this._mdf = !1, this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange), this.checkTransparency()
        },
        destroy: function() {
            this.innerElem = null, this.destroyBaseElement()
        }
    })], RenderableDOMElement), SVGStyleData.prototype.reset = function() {
        this.d = "", this._mdf = !1
    }, SVGShapeData.prototype.setAsAnimated =
        function() {
            this._isAnimated = !0
        }, extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData), extendPrototype([DynamicPropertyContainer], SVGFillStyleData), SVGGradientFillStyleData.prototype.initGradientData = function(t, e, r) {
        this.o = PropertyFactory.getProp(t, e.o, 0, .01, this), this.s = PropertyFactory.getProp(t, e.s, 1, null, this), this.e = PropertyFactory.getProp(t, e.e, 1, null, this), this.h = PropertyFactory.getProp(t, e.h || {
            k: 0
        }, 0, .01, this), this.a = PropertyFactory.getProp(t, e.a || {
            k: 0
        }, 0, degToRads, this), this.g = new GradientProperty(t,
            e.g, this), this.style = r, this.stops = [], this.setGradientData(r.pElem, e), this.setGradientOpacity(e, r), this._isAnimated = !!this._isAnimated
    }, SVGGradientFillStyleData.prototype.setGradientData = function(t, e) {
        var r = createElementID(),
            i = createNS(1 === e.t ? "linearGradient" : "radialGradient");
        i.setAttribute("id", r), i.setAttribute("spreadMethod", "pad"), i.setAttribute("gradientUnits", "userSpaceOnUse");
        var s, a, n, o = [];
        for (n = 4 * e.g.p, a = 0; a < n; a += 4) s = createNS("stop"), i.appendChild(s), o.push(s);
        t.setAttribute("gf" === e.ty ?
            "fill" : "stroke", "url(" + locationHref + "#" + r + ")"), this.gf = i, this.cst = o
    }, SVGGradientFillStyleData.prototype.setGradientOpacity = function(t, e) {
        if (this.g._hasOpacity && !this.g._collapsable) {
            var r, i, s, a = createNS("mask"),
                n = createNS("path");
            a.appendChild(n);
            var o = createElementID(),
                h = createElementID();
            a.setAttribute("id", h);
            var l = createNS(1 === t.t ? "linearGradient" : "radialGradient");
            l.setAttribute("id", o), l.setAttribute("spreadMethod", "pad"), l.setAttribute("gradientUnits", "userSpaceOnUse"), s = t.g.k.k[0].s ? t.g.k.k[0].s.length :
                t.g.k.k.length;
            var p = this.stops;
            for (i = 4 * t.g.p; i < s; i += 2)(r = createNS("stop"))
                .setAttribute("stop-color", "rgb(255,255,255)"), l.appendChild(r), p.push(r);
            n.setAttribute("gf" === t.ty ? "fill" : "stroke", "url(" + locationHref + "#" + o + ")"), this.of = l, this.ms = a, this.ost = p, this.maskId = h, e.msElem = n
        }
    }, extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData), extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);
    var SVGElementsRenderer = function() {
        var y = new Matrix,
            g = new Matrix;

        function e(t, e, r) {
            (r || e.transform.op._mdf) && e.transform.container.setAttribute("opacity", e.transform.op.v), (r || e.transform.mProps._mdf) && e.transform.container.setAttribute("transform", e.transform.mProps.v.to2dCSS())
        }

        function r(t, e, r) {
            var i, s, a, n, o, h, l, p, m, f, c, d = e.styles.length,
                u = e.lvl;
            for (h = 0; h < d; h += 1) {
                if (n = e.sh._mdf || r, e.styles[h].lvl < u) {
                    for (p = g.reset(), f = u - e.styles[h].lvl, c = e.transformers.length - 1; !n && 0 < f;) n = e.transformers[c].mProps._mdf || n, f--, c--;
                    if (n)
                        for (f = u - e.styles[h].lvl, c = e.transformers.length -
                            1; 0 < f;) m = e.transformers[c].mProps.v.props, p.transform(m[0], m[1], m[2], m[3], m[4], m[5], m[6], m[7], m[8], m[9], m[10], m[11], m[12], m[13], m[14], m[15]), f--, c--
                } else p = y;
                if (s = (l = e.sh.paths)
                    ._length, n) {
                    for (a = "", i = 0; i < s; i += 1)(o = l.shapes[i]) && o._length && (a += buildShapeString(o, o._length, o.c, p));
                    e.caches[h] = a
                } else a = e.caches[h];
                e.styles[h].d += !0 === t.hd ? "" : a, e.styles[h]._mdf = n || e.styles[h]._mdf
            }
        }

        function i(t, e, r) {
            var i = e.style;
            (e.c._mdf || r) && i.pElem.setAttribute("fill", "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) +
                "," + bm_floor(e.c.v[2]) + ")"), (e.o._mdf || r) && i.pElem.setAttribute("fill-opacity", e.o.v)
        }

        function s(t, e, r) {
            a(t, e, r), n(t, e, r)
        }

        function a(t, e, r) {
            var i, s, a, n, o, h = e.gf,
                l = e.g._hasOpacity,
                p = e.s.v,
                m = e.e.v;
            if (e.o._mdf || r) {
                var f = "gf" === t.ty ? "fill-opacity" : "stroke-opacity";
                e.style.pElem.setAttribute(f, e.o.v)
            }
            if (e.s._mdf || r) {
                var c = 1 === t.t ? "x1" : "cx",
                    d = "x1" === c ? "y1" : "cy";
                h.setAttribute(c, p[0]), h.setAttribute(d, p[1]), l && !e.g._collapsable && (e.of.setAttribute(c, p[0]), e.of.setAttribute(d, p[1]))
            }
            if (e.g._cmdf || r) {
                i = e.cst;
                var u = e.g.c;
                for (a = i.length, s = 0; s < a; s += 1)(n = i[s])
                    .setAttribute("offset", u[4 * s] + "%"), n.setAttribute("stop-color", "rgb(" + u[4 * s + 1] + "," + u[4 * s + 2] + "," + u[4 * s + 3] + ")")
            }
            if (l && (e.g._omdf || r)) {
                var y = e.g.o;
                for (a = (i = e.g._collapsable ? e.cst : e.ost)
                    .length, s = 0; s < a; s += 1) n = i[s], e.g._collapsable || n.setAttribute("offset", y[2 * s] + "%"), n.setAttribute("stop-opacity", y[2 * s + 1])
            }
            if (1 === t.t)(e.e._mdf || r) && (h.setAttribute("x2", m[0]), h.setAttribute("y2", m[1]), l && !e.g._collapsable && (e.of.setAttribute("x2", m[0]), e.of.setAttribute("y2",
                m[1])));
            else if ((e.s._mdf || e.e._mdf || r) && (o = Math.sqrt(Math.pow(p[0] - m[0], 2) + Math.pow(p[1] - m[1], 2)), h.setAttribute("r", o), l && !e.g._collapsable && e.of.setAttribute("r", o)), e.e._mdf || e.h._mdf || e.a._mdf || r) {
                o || (o = Math.sqrt(Math.pow(p[0] - m[0], 2) + Math.pow(p[1] - m[1], 2)));
                var g = Math.atan2(m[1] - p[1], m[0] - p[0]),
                    v = o * (1 <= e.h.v ? .99 : e.h.v <= -1 ? -.99 : e.h.v),
                    b = Math.cos(g + e.a.v) * v + p[0],
                    E = Math.sin(g + e.a.v) * v + p[1];
                h.setAttribute("fx", b), h.setAttribute("fy", E), l && !e.g._collapsable && (e.of.setAttribute("fx", b), e.of.setAttribute("fy",
                    E))
            }
        }

        function n(t, e, r) {
            var i = e.style,
                s = e.d;
            s && (s._mdf || r) && s.dashStr && (i.pElem.setAttribute("stroke-dasharray", s.dashStr), i.pElem.setAttribute("stroke-dashoffset", s.dashoffset[0])), e.c && (e.c._mdf || r) && i.pElem.setAttribute("stroke", "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"), (e.o._mdf || r) && i.pElem.setAttribute("stroke-opacity", e.o.v), (e.w._mdf || r) && (i.pElem.setAttribute("stroke-width", e.w.v), i.msElem && i.msElem.setAttribute("stroke-width", e.w.v))
        }
        return {
            createRenderFunction: function(t) {
                t.ty;
                switch (t.ty) {
                    case "fl":
                        return i;
                    case "gf":
                        return a;
                    case "gs":
                        return s;
                    case "st":
                        return n;
                    case "sh":
                    case "el":
                    case "rc":
                    case "sr":
                        return r;
                    case "tr":
                        return e
                }
            }
        }
    }();

    function ShapeTransformManager() {
        this.sequences = {}, this.sequenceList = [], this.transform_key_count = 0
    }

    function CVShapeData(t, e, r, i) {
        this.styledShapes = [], this.tr = [0, 0, 0, 0, 0, 0];
        var s = 4;
        "rc" == e.ty ? s = 5 : "el" == e.ty ? s = 6 : "sr" == e.ty && (s = 7), this.sh = ShapePropertyFactory.getShapeProp(t, e, s, t);
        var a, n, o = r.length;
        for (a = 0; a < o; a += 1) r[a].closed || (n = {
            transforms: i.addTransformSequence(r[a].transforms),
            trNodes: []
        }, this.styledShapes.push(n), r[a].elements.push(n))
    }

    function BaseElement() {}

    function NullElement(t, e, r) {
        this.initFrame(), this.initBaseData(t, e, r), this.initFrame(), this.initTransform(t, e, r), this.initHierarchy()
    }

    function SVGBaseElement() {}

    function IShapeElement() {}

    function ITextElement() {}

    function ICompElement() {}

    function IImageElement(t, e, r) {
        this.assetData = e.getAssetData(t.refId), this.initElement(t, e, r), this.sourceRect = {
            top: 0,
            left: 0,
            width: this.assetData.w,
            height: this.assetData.h
        }
    }

    function ISolidElement(t,
                           e, r) {
        this.initElement(t, e, r)
    }

    function SVGCompElement(t, e, r) {
        this.layers = t.layers, this.supports3d = !0, this.completeLayers = !1, this.pendingElements = [], this.elements = this.layers ? createSizedArray(this.layers.length) : [], this.initElement(t, e, r), this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : {
            _placeholder: !0
        }
    }

    function SVGTextElement(t, e, r) {
        this.textSpans = [], this.renderType = "svg", this.initElement(t, e, r)
    }

    function SVGShapeElement(t, e, r) {
        this.shapes = [], this.shapesData = t.shapes, this.stylesList = [], this.shapeModifiers = [], this.itemsData = [], this.processedElements = [], this.animatedContents = [], this.initElement(t, e, r), this.prevViewData = []
    }

    function SVGTintFilter(t, e) {
        this.filterManager = e;
        var r = createNS("feColorMatrix");
        if (r.setAttribute("type", "matrix"), r.setAttribute("color-interpolation-filters", "linearRGB"), r.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"), r.setAttribute("result", "f1"), t.appendChild(r), (r = createNS("feColorMatrix"))
            .setAttribute("type",
                "matrix"), r.setAttribute("color-interpolation-filters", "sRGB"), r.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"), r.setAttribute("result", "f2"), t.appendChild(r), this.matrixFilter = r, 100 !== e.effectElements[2].p.v || e.effectElements[2].p.k) {
            var i, s = createNS("feMerge");
            t.appendChild(s), (i = createNS("feMergeNode"))
                .setAttribute("in", "SourceGraphic"), s.appendChild(i), (i = createNS("feMergeNode"))
                .setAttribute("in", "f2"), s.appendChild(i)
        }
    }

    function SVGFillFilter(t, e) {
        this.filterManager = e;
        var r =
            createNS("feColorMatrix");
        r.setAttribute("type", "matrix"), r.setAttribute("color-interpolation-filters", "sRGB"), r.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"), t.appendChild(r), this.matrixFilter = r
    }

    function SVGGaussianBlurEffect(t, e) {
        t.setAttribute("x", "-100%"), t.setAttribute("y", "-100%"), t.setAttribute("width", "300%"), t.setAttribute("height", "300%"), this.filterManager = e;
        var r = createNS("feGaussianBlur");
        t.appendChild(r), this.feGaussianBlur = r
    }

    function SVGStrokeEffect(t, e) {
        this.initialized = !1, this.filterManager = e, this.elem = t, this.paths = []
    }

    function SVGTritoneFilter(t, e) {
        this.filterManager = e;
        var r = createNS("feColorMatrix");
        r.setAttribute("type", "matrix"), r.setAttribute("color-interpolation-filters", "linearRGB"), r.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"), r.setAttribute("result", "f1"), t.appendChild(r);
        var i = createNS("feComponentTransfer");
        i.setAttribute("color-interpolation-filters", "sRGB"), t.appendChild(i), this.matrixFilter =
            i;
        var s = createNS("feFuncR");
        s.setAttribute("type", "table"), i.appendChild(s), this.feFuncR = s;
        var a = createNS("feFuncG");
        a.setAttribute("type", "table"), i.appendChild(a), this.feFuncG = a;
        var n = createNS("feFuncB");
        n.setAttribute("type", "table"), i.appendChild(n), this.feFuncB = n
    }

    function SVGProLevelsFilter(t, e) {
        this.filterManager = e;
        var r = this.filterManager.effectElements,
            i = createNS("feComponentTransfer");
        (r[10].p.k || 0 !== r[10].p.v || r[11].p.k || 1 !== r[11].p.v || r[12].p.k || 1 !== r[12].p.v || r[13].p.k || 0 !== r[13].p.v ||
            r[14].p.k || 1 !== r[14].p.v) && (this.feFuncR = this.createFeFunc("feFuncR", i)), (r[17].p.k || 0 !== r[17].p.v || r[18].p.k || 1 !== r[18].p.v || r[19].p.k || 1 !== r[19].p.v || r[20].p.k || 0 !== r[20].p.v || r[21].p.k || 1 !== r[21].p.v) && (this.feFuncG = this.createFeFunc("feFuncG", i)), (r[24].p.k || 0 !== r[24].p.v || r[25].p.k || 1 !== r[25].p.v || r[26].p.k || 1 !== r[26].p.v || r[27].p.k || 0 !== r[27].p.v || r[28].p.k || 1 !== r[28].p.v) && (this.feFuncB = this.createFeFunc("feFuncB", i)), (r[31].p.k || 0 !== r[31].p.v || r[32].p.k || 1 !== r[32].p.v || r[33].p.k || 1 !== r[33].p.v ||
            r[34].p.k || 0 !== r[34].p.v || r[35].p.k || 1 !== r[35].p.v) && (this.feFuncA = this.createFeFunc("feFuncA", i)), (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) && (i.setAttribute("color-interpolation-filters", "sRGB"), t.appendChild(i), i = createNS("feComponentTransfer")), (r[3].p.k || 0 !== r[3].p.v || r[4].p.k || 1 !== r[4].p.v || r[5].p.k || 1 !== r[5].p.v || r[6].p.k || 0 !== r[6].p.v || r[7].p.k || 1 !== r[7].p.v) && (i.setAttribute("color-interpolation-filters", "sRGB"), t.appendChild(i), this.feFuncRComposed = this.createFeFunc("feFuncR",
            i), this.feFuncGComposed = this.createFeFunc("feFuncG", i), this.feFuncBComposed = this.createFeFunc("feFuncB", i))
    }

    function SVGDropShadowEffect(t, e) {
        t.setAttribute("x", "-100%"), t.setAttribute("y", "-100%"), t.setAttribute("width", "400%"), t.setAttribute("height", "400%"), this.filterManager = e;
        var r = createNS("feGaussianBlur");
        r.setAttribute("in", "SourceAlpha"), r.setAttribute("result", "drop_shadow_1"), r.setAttribute("stdDeviation", "0"), this.feGaussianBlur = r, t.appendChild(r);
        var i = createNS("feOffset");
        i.setAttribute("dx",
            "25"), i.setAttribute("dy", "0"), i.setAttribute("in", "drop_shadow_1"), i.setAttribute("result", "drop_shadow_2"), this.feOffset = i, t.appendChild(i);
        var s = createNS("feFlood");
        s.setAttribute("flood-color", "#00ff00"), s.setAttribute("flood-opacity", "1"), s.setAttribute("result", "drop_shadow_3"), this.feFlood = s, t.appendChild(s);
        var a = createNS("feComposite");
        a.setAttribute("in", "drop_shadow_3"), a.setAttribute("in2", "drop_shadow_2"), a.setAttribute("operator", "in"), a.setAttribute("result", "drop_shadow_4"), t.appendChild(a);
        var n, o = createNS("feMerge");
        t.appendChild(o), n = createNS("feMergeNode"), o.appendChild(n), (n = createNS("feMergeNode"))
            .setAttribute("in", "SourceGraphic"), this.feMergeNode = n, this.feMerge = o, this.originalNodeAdded = !1, o.appendChild(n)
    }
    ShapeTransformManager.prototype = {
        addTransformSequence: function(t) {
            var e, r = t.length,
                i = "_";
            for (e = 0; e < r; e += 1) i += t[e].transform.key + "_";
            var s = this.sequences[i];
            return s || (s = {
                transforms: [].concat(t),
                finalTransform: new Matrix,
                _mdf: !1
            }, this.sequences[i] = s, this.sequenceList.push(s)),
                s
        },
        processSequence: function(t, e) {
            for (var r, i = 0, s = t.transforms.length, a = e; i < s && !e;) {
                if (t.transforms[i].transform.mProps._mdf) {
                    a = !0;
                    break
                }
                i += 1
            }
            if (a)
                for (t.finalTransform.reset(), i = s - 1; 0 <= i; i -= 1) r = t.transforms[i].transform.mProps.v.props, t.finalTransform.transform(r[0], r[1], r[2], r[3], r[4], r[5], r[6], r[7], r[8], r[9], r[10], r[11], r[12], r[13], r[14], r[15]);
            t._mdf = a
        },
        processSequences: function(t) {
            var e, r = this.sequenceList.length;
            for (e = 0; e < r; e += 1) this.processSequence(this.sequenceList[e], t)
        },
        getNewKey: function() {
            return "_" +
                this.transform_key_count++
        }
    }, CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated, BaseElement.prototype = {
        checkMasks: function() {
            if (!this.data.hasMask) return !1;
            for (var t = 0, e = this.data.masksProperties.length; t < e;) {
                if ("n" !== this.data.masksProperties[t].mode && !1 !== this.data.masksProperties[t].cl) return !0;
                t += 1
            }
            return !1
        },
        initExpressions: function() {
            this.layerInterface = LayerExpressionInterface(this), this.data.hasMask && this.maskManager && this.layerInterface.registerMaskInterface(this.maskManager);
            var t = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);
            this.layerInterface.registerEffectsInterface(t), 0 === this.data.ty || this.data.xt ? this.compInterface = CompExpressionInterface(this) : 4 === this.data.ty ? (this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface), this.layerInterface.content = this.layerInterface.shapeInterface) : 5 === this.data.ty && (this.layerInterface.textInterface = TextExpressionInterface(this), this.layerInterface.text =
                this.layerInterface.textInterface)
        },
        setBlendMode: function() {
            var t = getBlendMode(this.data.bm);
            (this.baseElement || this.layerElement)
                .style["mix-blend-mode"] = t
        },
        initBaseData: function(t, e, r) {
            this.globalData = e, this.comp = r, this.data = t, this.layerId = createElementID(), this.data.sr || (this.data.sr = 1), this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties)
        },
        getType: function() {
            return this.type
        },
        sourceRectAtTime: function() {}
    }, NullElement.prototype.prepareFrame = function(t) {
        this.prepareProperties(t,
            !0)
    }, NullElement.prototype.renderFrame = function() {}, NullElement.prototype.getBaseElement = function() {
        return null
    }, NullElement.prototype.destroy = function() {}, NullElement.prototype.sourceRectAtTime = function() {}, NullElement.prototype.hide = function() {}, extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement), SVGBaseElement.prototype = {
        initRendererElement: function() {
            this.layerElement = createNS("g")
        },
        createContainerElements: function() {
            this.matteElement = createNS("g"), this.transformedElement =
                this.layerElement, this.maskedElement = this.layerElement, this._sizeChanged = !1;
            var t, e, r, i = null;
            if (this.data.td)
                if (3 == this.data.td || 1 == this.data.td) {
                    var s = createNS("mask");
                    s.setAttribute("id", this.layerId), s.setAttribute("mask-type", 3 == this.data.td ? "luminance" : "alpha"), s.appendChild(this.layerElement), i = s, this.globalData.defs.appendChild(s), featureSupport.maskType || 1 != this.data.td || (s.setAttribute("mask-type", "luminance"), t = createElementID(), e = filtersFactory.createFilter(t), this.globalData.defs.appendChild(e),
                        e.appendChild(filtersFactory.createAlphaToLuminanceFilter()), (r = createNS("g"))
                        .appendChild(this.layerElement), i = r, s.appendChild(r), r.setAttribute("filter", "url(" + locationHref + "#" + t + ")"))
                } else {
                    if (2 == this.data.td) {
                        var a = createNS("mask");
                        a.setAttribute("id", this.layerId), a.setAttribute("mask-type", "alpha");
                        var n = createNS("g");
                        a.appendChild(n), t = createElementID(), e = filtersFactory.createFilter(t);
                        var o = createNS("feComponentTransfer");
                        o.setAttribute("in", "SourceGraphic"), e.appendChild(o);
                        var h = createNS("feFuncA");
                        h.setAttribute("type", "table"), h.setAttribute("tableValues", "1.0 0.0"), o.appendChild(h), this.globalData.defs.appendChild(e);
                        var l = createNS("rect");
                        l.setAttribute("width", this.comp.data.w), l.setAttribute("height", this.comp.data.h), l.setAttribute("x", "0"), l.setAttribute("y", "0"), l.setAttribute("fill", "#ffffff"), l.setAttribute("opacity", "0"), n.setAttribute("filter", "url(" + locationHref + "#" + t + ")"), n.appendChild(l), n.appendChild(this.layerElement), i = n, featureSupport.maskType || (a.setAttribute("mask-type",
                            "luminance"), e.appendChild(filtersFactory.createAlphaToLuminanceFilter()), r = createNS("g"), n.appendChild(l), r.appendChild(this.layerElement), i = r, n.appendChild(r)), this.globalData.defs.appendChild(a)
                    }
                }
            else this.data.tt ? (this.matteElement.appendChild(this.layerElement), i = this.matteElement, this.baseElement = this.matteElement) : this.baseElement = this.layerElement;
            if (this.data.ln && this.layerElement.setAttribute("id", this.data.ln), this.data.cl && this.layerElement.setAttribute("class", this.data.cl), 0 === this.data.ty &&
            !this.data.hd) {
                var p = createNS("clipPath"),
                    m = createNS("path");
                m.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z");
                var f = createElementID();
                if (p.setAttribute("id", f), p.appendChild(m), this.globalData.defs.appendChild(p), this.checkMasks()) {
                    var c = createNS("g");
                    c.setAttribute("clip-path", "url(" + locationHref + "#" + f + ")"), c.appendChild(this.layerElement), this.transformedElement = c, i ? i.appendChild(this.transformedElement) : this.baseElement = this.transformedElement
                } else this.layerElement.setAttribute("clip-path",
                    "url(" + locationHref + "#" + f + ")")
            }
            0 !== this.data.bm && this.setBlendMode()
        },
        renderElement: function() {
            this.finalTransform._matMdf && this.transformedElement.setAttribute("transform", this.finalTransform.mat.to2dCSS()), this.finalTransform._opMdf && this.transformedElement.setAttribute("opacity", this.finalTransform.mProp.o.v)
        },
        destroyBaseElement: function() {
            this.layerElement = null, this.matteElement = null, this.maskManager.destroy()
        },
        getBaseElement: function() {
            return this.data.hd ? null : this.baseElement
        },
        createRenderableComponents: function() {
            this.maskManager =
                new MaskElement(this.data, this, this.globalData), this.renderableEffectsManager = new SVGEffects(this)
        },
        setMatte: function(t) {
            this.matteElement && this.matteElement.setAttribute("mask", "url(" + locationHref + "#" + t + ")")
        }
    }, IShapeElement.prototype = {
        addShapeToModifiers: function(t) {
            var e, r = this.shapeModifiers.length;
            for (e = 0; e < r; e += 1) this.shapeModifiers[e].addShape(t)
        },
        isShapeInAnimatedModifiers: function(t) {
            for (var e = this.shapeModifiers.length; 0 < e;)
                if (this.shapeModifiers[0].isAnimatedWithShape(t)) return !0;
            return !1
        },
        renderModifiers: function() {
            if (this.shapeModifiers.length) {
                var t, e = this.shapes.length;
                for (t = 0; t < e; t += 1) this.shapes[t].sh.reset();
                for (t = (e = this.shapeModifiers.length) - 1; 0 <= t; t -= 1) this.shapeModifiers[t].processShapes(this._isFirstFrame)
            }
        },
        lcEnum: {
            1: "butt",
            2: "round",
            3: "square"
        },
        ljEnum: {
            1: "miter",
            2: "round",
            3: "bevel"
        },
        searchProcessedElement: function(t) {
            for (var e = this.processedElements, r = 0, i = e.length; r < i;) {
                if (e[r].elem === t) return e[r].pos;
                r += 1
            }
            return 0
        },
        addProcessedElement: function(t, e) {
            for (var r = this.processedElements,
                     i = r.length; i;)
                if (r[i -= 1].elem === t) return void(r[i].pos = e);
            r.push(new ProcessedElement(t, e))
        },
        prepareFrame: function(t) {
            this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange)
        }
    }, ITextElement.prototype.initElement = function(t, e, r) {
        this.lettersChangedFlag = !0, this.initFrame(), this.initBaseData(t, e, r), this.textProperty = new TextProperty(this, t.t, this.dynamicProperties), this.textAnimator = new TextAnimatorProperty(t.t, this.renderType, this), this.initTransform(t, e, r), this.initHierarchy(), this.initRenderable(),
            this.initRendererElement(), this.createContainerElements(), this.createRenderableComponents(), this.createContent(), this.hide(), this.textAnimator.searchProperties(this.dynamicProperties)
    }, ITextElement.prototype.prepareFrame = function(t) {
        this._mdf = !1, this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange), (this.textProperty._mdf || this.textProperty._isFirstFrame) && (this.buildNewText(), this.textProperty._isFirstFrame = !1, this.textProperty._mdf = !1)
    }, ITextElement.prototype.createPathShape = function(t,
                                                         e) {
        var r, i, s = e.length,
            a = "";
        for (r = 0; r < s; r += 1) i = e[r].ks.k, a += buildShapeString(i, i.i.length, !0, t);
        return a
    }, ITextElement.prototype.updateDocumentData = function(t, e) {
        this.textProperty.updateDocumentData(t, e)
    }, ITextElement.prototype.canResizeFont = function(t) {
        this.textProperty.canResizeFont(t)
    }, ITextElement.prototype.setMinimumFontSize = function(t) {
        this.textProperty.setMinimumFontSize(t)
    }, ITextElement.prototype.applyTextPropertiesToMatrix = function(t, e, r, i, s) {
        switch (t.ps && e.translate(t.ps[0], t.ps[1] + t.ascent,
            0), e.translate(0, -t.ls, 0), t.j) {
            case 1:
                e.translate(t.justifyOffset + (t.boxWidth - t.lineWidths[r]), 0, 0);
                break;
            case 2:
                e.translate(t.justifyOffset + (t.boxWidth - t.lineWidths[r]) / 2, 0, 0)
        }
        e.translate(i, s, 0)
    }, ITextElement.prototype.buildColor = function(t) {
        return "rgb(" + Math.round(255 * t[0]) + "," + Math.round(255 * t[1]) + "," + Math.round(255 * t[2]) + ")"
    }, ITextElement.prototype.emptyProp = new LetterProps, ITextElement.prototype.destroy = function() {}, extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement,
        RenderableDOMElement
    ], ICompElement), ICompElement.prototype.initElement = function(t, e, r) {
        this.initFrame(), this.initBaseData(t, e, r), this.initTransform(t, e, r), this.initRenderable(), this.initHierarchy(), this.initRendererElement(), this.createContainerElements(), this.createRenderableComponents(), !this.data.xt && e.progressiveLoad || this.buildAllItems(), this.hide()
    }, ICompElement.prototype.prepareFrame = function(t) {
        if (this._mdf = !1, this.prepareRenderableFrame(t), this.prepareProperties(t, this.isInRange), this.isInRange ||
        this.data.xt) {
            if (this.tm._placeholder) this.renderedFrame = t / this.data.sr;
            else {
                var e = this.tm.v;
                e === this.data.op && (e = this.data.op - 1), this.renderedFrame = e
            }
            var r, i = this.elements.length;
            for (this.completeLayers || this.checkLayers(this.renderedFrame), r = i - 1; 0 <= r; r -= 1)(this.completeLayers || this.elements[r]) && (this.elements[r].prepareFrame(this.renderedFrame - this.layers[r].st), this.elements[r]._mdf && (this._mdf = !0))
        }
    }, ICompElement.prototype.renderInnerContent = function() {
        var t, e = this.layers.length;
        for (t = 0; t < e; t +=
            1)(this.completeLayers || this.elements[t]) && this.elements[t].renderFrame()
    }, ICompElement.prototype.setElements = function(t) {
        this.elements = t
    }, ICompElement.prototype.getElements = function() {
        return this.elements
    }, ICompElement.prototype.destroyElements = function() {
        var t, e = this.layers.length;
        for (t = 0; t < e; t += 1) this.elements[t] && this.elements[t].destroy()
    }, ICompElement.prototype.destroy = function() {
        this.destroyElements(), this.destroyBaseElement()
    }, extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement,
        FrameElement, RenderableDOMElement
    ], IImageElement), IImageElement.prototype.createContent = function() {
        var t = this.globalData.getAssetsPath(this.assetData);
        this.innerElem = createNS("image"), this.innerElem.setAttribute("width", this.assetData.w + "px"), this.innerElem.setAttribute("height", this.assetData.h + "px"), this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio), this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", t), this.layerElement.appendChild(this.innerElem)
    },
        IImageElement.prototype.sourceRectAtTime = function() {
            return this.sourceRect
        }, extendPrototype([IImageElement], ISolidElement), ISolidElement.prototype.createContent = function() {
        var t = createNS("rect");
        t.setAttribute("width", this.data.sw), t.setAttribute("height", this.data.sh), t.setAttribute("fill", this.data.sc), this.layerElement.appendChild(t)
    }, extendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement), extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,
        RenderableDOMElement, ITextElement
    ], SVGTextElement), SVGTextElement.prototype.createContent = function() {
        this.data.singleShape && !this.globalData.fontManager.chars && (this.textContainer = createNS("text"))
    }, SVGTextElement.prototype.buildTextContents = function(t) {
        for (var e = 0, r = t.length, i = [], s = ""; e < r;) t[e] === String.fromCharCode(13) || t[e] === String.fromCharCode(3) ? (i.push(s), s = "") : s += t[e], e += 1;
        return i.push(s), i
    }, SVGTextElement.prototype.buildNewText = function() {
        var t, e, r = this.textProperty.currentData;
        this.renderedLetters =
            createSizedArray(r ? r.l.length : 0), r.fc ? this.layerElement.setAttribute("fill", this.buildColor(r.fc)) : this.layerElement.setAttribute("fill", "rgba(0,0,0,0)"), r.sc && (this.layerElement.setAttribute("stroke", this.buildColor(r.sc)), this.layerElement.setAttribute("stroke-width", r.sw)), this.layerElement.setAttribute("font-size", r.finalSize);
        var i = this.globalData.fontManager.getFontByName(r.f);
        if (i.fClass) this.layerElement.setAttribute("class", i.fClass);
        else {
            this.layerElement.setAttribute("font-family", i.fFamily);
            var s = r.fWeight,
                a = r.fStyle;
            this.layerElement.setAttribute("font-style", a), this.layerElement.setAttribute("font-weight", s)
        }
        this.layerElement.setAttribute("aria-label", r.t);
        var n, o = r.l || [],
            h = !!this.globalData.fontManager.chars;
        e = o.length;
        var l, p = this.mHelper,
            m = "",
            f = this.data.singleShape,
            c = 0,
            d = 0,
            u = !0,
            y = r.tr / 1E3 * r.finalSize;
        if (!f || h || r.sz) {
            var g, v, b = this.textSpans.length;
            for (t = 0; t < e; t += 1) h && f && 0 !== t || (n = t < b ? this.textSpans[t] : createNS(h ? "path" : "text"), b <= t && (n.setAttribute("stroke-linecap", "butt"), n.setAttribute("stroke-linejoin",
                "round"), n.setAttribute("stroke-miterlimit", "4"), this.textSpans[t] = n, this.layerElement.appendChild(n)), n.style.display = "inherit"), p.reset(), p.scale(r.finalSize / 100, r.finalSize / 100), f && (o[t].n && (c = -y, d += r.yOffset, d += u ? 1 : 0, u = !1), this.applyTextPropertiesToMatrix(r, p, o[t].line, c, d), c += o[t].l || 0, c += y), h ? (l = (g = (v = this.globalData.fontManager.getCharData(r.finalText[t], i.fStyle, this.globalData.fontManager.getFontByName(r.f)
                .fFamily)) && v.data || {})
                .shapes ? g.shapes[0].it : [], f ? m += this.createPathShape(p, l) : n.setAttribute("d",
                this.createPathShape(p, l))) : (f && n.setAttribute("transform", "translate(" + p.props[12] + "," + p.props[13] + ")"), n.textContent = o[t].val, n.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"));
            f && n && n.setAttribute("d", m)
        } else {
            var E = this.textContainer,
                x = "start";
            switch (r.j) {
                case 1:
                    x = "end";
                    break;
                case 2:
                    x = "middle"
            }
            E.setAttribute("text-anchor", x), E.setAttribute("letter-spacing", y);
            var P = this.buildTextContents(r.finalText);
            for (e = P.length, d = r.ps ? r.ps[1] + r.ascent : 0, t = 0; t < e; t += 1)(n = this.textSpans[t] ||
                createNS("tspan"))
                .textContent = P[t], n.setAttribute("x", 0), n.setAttribute("y", d), n.style.display = "inherit", E.appendChild(n), this.textSpans[t] = n, d += r.finalLineHeight;
            this.layerElement.appendChild(E)
        }
        for (; t < this.textSpans.length;) this.textSpans[t].style.display = "none", t += 1;
        this._sizeChanged = !0
    }, SVGTextElement.prototype.sourceRectAtTime = function(t) {
        if (this.prepareFrame(this.comp.renderedFrame - this.data.st), this.renderInnerContent(), this._sizeChanged) {
            this._sizeChanged = !1;
            var e = this.layerElement.getBBox();
            this.bbox = {
                top: e.y,
                left: e.x,
                width: e.width,
                height: e.height
            }
        }
        return this.bbox
    }, SVGTextElement.prototype.renderInnerContent = function() {
        if (!this.data.singleShape && (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag), this.lettersChangedFlag || this.textAnimator.lettersChangedFlag)) {
            var t, e;
            this._sizeChanged = !0;
            var r, i, s = this.textAnimator.renderedLetters,
                a = this.textProperty.currentData.l;
            for (e = a.length, t = 0; t < e; t += 1) a[t].n || (r = s[t], i = this.textSpans[t], r._mdf.m && i.setAttribute("transform",
                r.m), r._mdf.o && i.setAttribute("opacity", r.o), r._mdf.sw && i.setAttribute("stroke-width", r.sw), r._mdf.sc && i.setAttribute("stroke", r.sc), r._mdf.fc && i.setAttribute("fill", r.fc))
        }
    }, extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement), SVGShapeElement.prototype.initSecondaryElement = function() {}, SVGShapeElement.prototype.identityMatrix = new Matrix, SVGShapeElement.prototype.buildExpressionInterface = function() {}, SVGShapeElement.prototype.createContent =
        function() {
            this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0), this.filterUniqueShapes()
        }, SVGShapeElement.prototype.filterUniqueShapes = function() {
        var t, e, r, i, s = this.shapes.length,
            a = this.stylesList.length,
            n = [],
            o = !1;
        for (r = 0; r < a; r += 1) {
            for (i = this.stylesList[r], o = !1, t = n.length = 0; t < s; t += 1) - 1 !== (e = this.shapes[t])
                .styles.indexOf(i) && (n.push(e), o = e._isAnimated || o);
            1 < n.length && o && this.setShapesAsAnimated(n)
        }
    }, SVGShapeElement.prototype.setShapesAsAnimated = function(t) {
        var e,
            r = t.length;
        for (e = 0; e < r; e += 1) t[e].setAsAnimated()
    }, SVGShapeElement.prototype.createStyleElement = function(t, e) {
        var r, i = new SVGStyleData(t, e),
            s = i.pElem;
        if ("st" === t.ty) r = new SVGStrokeStyleData(this, t, i);
        else if ("fl" === t.ty) r = new SVGFillStyleData(this, t, i);
        else if ("gf" === t.ty || "gs" === t.ty) r = new("gf" === t.ty ? SVGGradientFillStyleData : SVGGradientStrokeStyleData)(this, t, i), this.globalData.defs.appendChild(r.gf), r.maskId && (this.globalData.defs.appendChild(r.ms), this.globalData.defs.appendChild(r.of), s.setAttribute("mask",
            "url(" + locationHref + "#" + r.maskId + ")"));
        return "st" !== t.ty && "gs" !== t.ty || (s.setAttribute("stroke-linecap", this.lcEnum[t.lc] || "round"), s.setAttribute("stroke-linejoin", this.ljEnum[t.lj] || "round"), s.setAttribute("fill-opacity", "0"), 1 === t.lj && s.setAttribute("stroke-miterlimit", t.ml)), 2 === t.r && s.setAttribute("fill-rule", "evenodd"), t.ln && s.setAttribute("id", t.ln), t.cl && s.setAttribute("class", t.cl), t.bm && (s.style["mix-blend-mode"] = getBlendMode(t.bm)), this.stylesList.push(i), this.addToAnimatedContents(t, r),
            r
    }, SVGShapeElement.prototype.createGroupElement = function(t) {
        var e = new ShapeGroupData;
        return t.ln && e.gr.setAttribute("id", t.ln), t.cl && e.gr.setAttribute("class", t.cl), t.bm && (e.gr.style["mix-blend-mode"] = getBlendMode(t.bm)), e
    }, SVGShapeElement.prototype.createTransformElement = function(t, e) {
        var r = TransformPropertyFactory.getTransformProperty(this, t, this),
            i = new SVGTransformData(r, r.o, e);
        return this.addToAnimatedContents(t, i), i
    }, SVGShapeElement.prototype.createShapeElement = function(t, e, r) {
        var i = 4;
        "rc" ===
        t.ty ? i = 5 : "el" === t.ty ? i = 6 : "sr" === t.ty && (i = 7);
        var s = new SVGShapeData(e, r, ShapePropertyFactory.getShapeProp(this, t, i, this));
        return this.shapes.push(s), this.addShapeToModifiers(s), this.addToAnimatedContents(t, s), s
    }, SVGShapeElement.prototype.addToAnimatedContents = function(t, e) {
        for (var r = 0, i = this.animatedContents.length; r < i;) {
            if (this.animatedContents[r].element === e) return;
            r += 1
        }
        this.animatedContents.push({
            fn: SVGElementsRenderer.createRenderFunction(t),
            element: e,
            data: t
        })
    }, SVGShapeElement.prototype.setElementStyles =
        function(t) {
            var e, r = t.styles,
                i = this.stylesList.length;
            for (e = 0; e < i; e += 1) this.stylesList[e].closed || r.push(this.stylesList[e])
        }, SVGShapeElement.prototype.reloadShapes = function() {
        this._isFirstFrame = !0;
        var t, e = this.itemsData.length;
        for (t = 0; t < e; t += 1) this.prevViewData[t] = this.itemsData[t];
        for (this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], !0), this.filterUniqueShapes(), e = this.dynamicProperties.length, t = 0; t < e; t += 1) this.dynamicProperties[t].getValue();
        this.renderModifiers()
    },
        SVGShapeElement.prototype.searchShapes = function(t, e, r, i, s, a, n) {
            var o, h, l, p, m, f, c = [].concat(a),
                d = t.length - 1,
                u = [],
                y = [];
            for (o = d; 0 <= o; o -= 1) {
                if ((f = this.searchProcessedElement(t[o])) ? e[o] = r[f - 1] : t[o]._render = n, "fl" == t[o].ty || "st" == t[o].ty || "gf" == t[o].ty || "gs" == t[o].ty) f ? e[o].style.closed = !1 : e[o] = this.createStyleElement(t[o], s), t[o]._render && i.appendChild(e[o].style.pElem), u.push(e[o].style);
                else if ("gr" == t[o].ty) {
                    if (f)
                        for (l = e[o].it.length, h = 0; h < l; h += 1) e[o].prevViewData[h] = e[o].it[h];
                    else e[o] = this.createGroupElement(t[o]);
                    this.searchShapes(t[o].it, e[o].it, e[o].prevViewData, e[o].gr, s + 1, c, n), t[o]._render && i.appendChild(e[o].gr)
                } else "tr" == t[o].ty ? (f || (e[o] = this.createTransformElement(t[o], i)), p = e[o].transform, c.push(p)) : "sh" == t[o].ty || "rc" == t[o].ty || "el" == t[o].ty || "sr" == t[o].ty ? (f || (e[o] = this.createShapeElement(t[o], c, s)), this.setElementStyles(e[o])) : "tm" == t[o].ty || "rd" == t[o].ty || "ms" == t[o].ty ? (f ? (m = e[o])
                        .closed = !1 : ((m = ShapeModifiers.getModifier(t[o].ty))
                        .init(this, t[o]), e[o] = m, this.shapeModifiers.push(m)), y.push(m)) :
                    "rp" == t[o].ty && (f ? (m = e[o])
                        .closed = !0 : (m = ShapeModifiers.getModifier(t[o].ty), (e[o] = m)
                        .init(this, t, o, e), this.shapeModifiers.push(m), n = !1), y.push(m));
                this.addProcessedElement(t[o], o + 1)
            }
            for (d = u.length, o = 0; o < d; o += 1) u[o].closed = !0;
            for (d = y.length, o = 0; o < d; o += 1) y[o].closed = !0
        }, SVGShapeElement.prototype.renderInnerContent = function() {
        this.renderModifiers();
        var t, e = this.stylesList.length;
        for (t = 0; t < e; t += 1) this.stylesList[t].reset();
        for (this.renderShape(), t = 0; t < e; t += 1)(this.stylesList[t]._mdf || this._isFirstFrame) &&
        (this.stylesList[t].msElem && (this.stylesList[t].msElem.setAttribute("d", this.stylesList[t].d), this.stylesList[t].d = "M0 0" + this.stylesList[t].d), this.stylesList[t].pElem.setAttribute("d", this.stylesList[t].d || "M0 0"))
    }, SVGShapeElement.prototype.renderShape = function() {
        var t, e, r = this.animatedContents.length;
        for (t = 0; t < r; t += 1) e = this.animatedContents[t], (this._isFirstFrame || e.element._isAnimated) && !0 !== e.data && e.fn(e.data, e.element, this._isFirstFrame)
    }, SVGShapeElement.prototype.destroy = function() {
        this.destroyBaseElement(),
            this.shapesData = null, this.itemsData = null
    }, SVGTintFilter.prototype.renderFrame = function(t) {
        if (t || this.filterManager._mdf) {
            var e = this.filterManager.effectElements[0].p.v,
                r = this.filterManager.effectElements[1].p.v,
                i = this.filterManager.effectElements[2].p.v / 100;
            this.matrixFilter.setAttribute("values", r[0] - e[0] + " 0 0 0 " + e[0] + " " + (r[1] - e[1]) + " 0 0 0 " + e[1] + " " + (r[2] - e[2]) + " 0 0 0 " + e[2] + " 0 0 0 " + i + " 0")
        }
    }, SVGFillFilter.prototype.renderFrame = function(t) {
        if (t || this.filterManager._mdf) {
            var e = this.filterManager.effectElements[2].p.v,
                r = this.filterManager.effectElements[6].p.v;
            this.matrixFilter.setAttribute("values", "0 0 0 0 " + e[0] + " 0 0 0 0 " + e[1] + " 0 0 0 0 " + e[2] + " 0 0 0 " + r + " 0")
        }
    }, SVGGaussianBlurEffect.prototype.renderFrame = function(t) {
        if (t || this.filterManager._mdf) {
            var e = .3 * this.filterManager.effectElements[0].p.v,
                r = this.filterManager.effectElements[1].p.v,
                i = 3 == r ? 0 : e,
                s = 2 == r ? 0 : e;
            this.feGaussianBlur.setAttribute("stdDeviation", i + " " + s);
            var a = 1 == this.filterManager.effectElements[2].p.v ? "wrap" : "duplicate";
            this.feGaussianBlur.setAttribute("edgeMode",
                a)
        }
    }, SVGStrokeEffect.prototype.initialize = function() {
        var t, e, r, i, s = this.elem.layerElement.children || this.elem.layerElement.childNodes;
        for (1 === this.filterManager.effectElements[1].p.v ? (i = this.elem.maskManager.masksProperties.length, r = 0) : i = (r = this.filterManager.effectElements[0].p.v - 1) + 1, (e = createNS("g"))
            .setAttribute("fill", "none"), e.setAttribute("stroke-linecap", "round"), e.setAttribute("stroke-dashoffset", 1); r < i; r += 1) t = createNS("path"), e.appendChild(t), this.paths.push({
            p: t,
            m: r
        });
        if (3 === this.filterManager.effectElements[10].p.v) {
            var a =
                    createNS("mask"),
                n = createElementID();
            a.setAttribute("id", n), a.setAttribute("mask-type", "alpha"), a.appendChild(e), this.elem.globalData.defs.appendChild(a);
            var o = createNS("g");
            for (o.setAttribute("mask", "url(" + locationHref + "#" + n + ")"); s[0];) o.appendChild(s[0]);
            this.elem.layerElement.appendChild(o), this.masker = a, e.setAttribute("stroke", "#fff")
        } else if (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) {
            if (2 === this.filterManager.effectElements[10].p.v)
                for (s = this.elem.layerElement.children ||
                    this.elem.layerElement.childNodes; s.length;) this.elem.layerElement.removeChild(s[0]);
            this.elem.layerElement.appendChild(e), this.elem.layerElement.removeAttribute("mask"), e.setAttribute("stroke", "#fff")
        }
        this.initialized = !0, this.pathMasker = e
    }, SVGStrokeEffect.prototype.renderFrame = function(t) {
        this.initialized || this.initialize();
        var e, r, i, s = this.paths.length;
        for (e = 0; e < s; e += 1)
            if (-1 !== this.paths[e].m && (r = this.elem.maskManager.viewData[this.paths[e].m], i = this.paths[e].p, (t || this.filterManager._mdf || r.prop._mdf) &&
            i.setAttribute("d", r.lastPath), t || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || r.prop._mdf)) {
                var a;
                if (0 !== this.filterManager.effectElements[7].p.v || 100 !== this.filterManager.effectElements[8].p.v) {
                    var n = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) / 100,
                        o = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) /
                            100,
                        h = i.getTotalLength();
                    a = "0 0 0 " + h * n + " ";
                    var l, p = h * (o - n),
                        m = 1 + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100,
                        f = Math.floor(p / m);
                    for (l = 0; l < f; l += 1) a += "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100 + " ";
                    a += "0 " + 10 * h + " 0 0"
                } else a = "1 " + 2 * this.filterManager.effectElements[4].p.v * this.filterManager.effectElements[9].p.v / 100;
                i.setAttribute("stroke-dasharray", a)
            } if ((t || this.filterManager.effectElements[4].p._mdf) && this.pathMasker.setAttribute("stroke-width",
            2 * this.filterManager.effectElements[4].p.v), (t || this.filterManager.effectElements[6].p._mdf) && this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v), (1 === this.filterManager.effectElements[10].p.v || 2 === this.filterManager.effectElements[10].p.v) && (t || this.filterManager.effectElements[3].p._mdf)) {
            var c = this.filterManager.effectElements[3].p.v;
            this.pathMasker.setAttribute("stroke", "rgb(" + bm_floor(255 * c[0]) + "," + bm_floor(255 * c[1]) + "," + bm_floor(255 * c[2]) + ")")
        }
    }, SVGTritoneFilter.prototype.renderFrame =
        function(t) {
            if (t || this.filterManager._mdf) {
                var e = this.filterManager.effectElements[0].p.v,
                    r = this.filterManager.effectElements[1].p.v,
                    i = this.filterManager.effectElements[2].p.v,
                    s = i[0] + " " + r[0] + " " + e[0],
                    a = i[1] + " " + r[1] + " " + e[1],
                    n = i[2] + " " + r[2] + " " + e[2];
                this.feFuncR.setAttribute("tableValues", s), this.feFuncG.setAttribute("tableValues", a), this.feFuncB.setAttribute("tableValues", n)
            }
        }, SVGProLevelsFilter.prototype.createFeFunc = function(t, e) {
        var r = createNS(t);
        return r.setAttribute("type", "table"), e.appendChild(r),
            r
    }, SVGProLevelsFilter.prototype.getTableValue = function(t, e, r, i, s) {
        for (var a, n, o = 0, h = Math.min(t, e), l = Math.max(t, e), p = Array.call(null, {
            length: 256
        }), m = 0, f = s - i, c = e - t; o <= 256;) n = (a = o / 256) <= h ? c < 0 ? s : i : l <= a ? c < 0 ? i : s : i + f * Math.pow((a - t) / c, 1 / r), p[m++] = n, o += 256 / 255;
        return p.join(" ")
    }, SVGProLevelsFilter.prototype.renderFrame = function(t) {
        if (t || this.filterManager._mdf) {
            var e, r = this.filterManager.effectElements;
            this.feFuncRComposed && (t || r[3].p._mdf || r[4].p._mdf || r[5].p._mdf || r[6].p._mdf || r[7].p._mdf) && (e = this.getTableValue(r[3].p.v,
                r[4].p.v, r[5].p.v, r[6].p.v, r[7].p.v), this.feFuncRComposed.setAttribute("tableValues", e), this.feFuncGComposed.setAttribute("tableValues", e), this.feFuncBComposed.setAttribute("tableValues", e)), this.feFuncR && (t || r[10].p._mdf || r[11].p._mdf || r[12].p._mdf || r[13].p._mdf || r[14].p._mdf) && (e = this.getTableValue(r[10].p.v, r[11].p.v, r[12].p.v, r[13].p.v, r[14].p.v), this.feFuncR.setAttribute("tableValues", e)), this.feFuncG && (t || r[17].p._mdf || r[18].p._mdf || r[19].p._mdf || r[20].p._mdf || r[21].p._mdf) && (e = this.getTableValue(r[17].p.v,
                r[18].p.v, r[19].p.v, r[20].p.v, r[21].p.v), this.feFuncG.setAttribute("tableValues", e)), this.feFuncB && (t || r[24].p._mdf || r[25].p._mdf || r[26].p._mdf || r[27].p._mdf || r[28].p._mdf) && (e = this.getTableValue(r[24].p.v, r[25].p.v, r[26].p.v, r[27].p.v, r[28].p.v), this.feFuncB.setAttribute("tableValues", e)), this.feFuncA && (t || r[31].p._mdf || r[32].p._mdf || r[33].p._mdf || r[34].p._mdf || r[35].p._mdf) && (e = this.getTableValue(r[31].p.v, r[32].p.v, r[33].p.v, r[34].p.v, r[35].p.v), this.feFuncA.setAttribute("tableValues", e))
        }
    }, SVGDropShadowEffect.prototype.renderFrame =
        function(t) {
            if (t || this.filterManager._mdf) {
                if ((t || this.filterManager.effectElements[4].p._mdf) && this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4), t || this.filterManager.effectElements[0].p._mdf) {
                    var e = this.filterManager.effectElements[0].p.v;
                    this.feFlood.setAttribute("flood-color", rgbToHex(Math.round(255 * e[0]), Math.round(255 * e[1]), Math.round(255 * e[2])))
                }
                if ((t || this.filterManager.effectElements[1].p._mdf) && this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v /
                    255), t || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {
                    var r = this.filterManager.effectElements[3].p.v,
                        i = (this.filterManager.effectElements[2].p.v - 90) * degToRads,
                        s = r * Math.cos(i),
                        a = r * Math.sin(i);
                    this.feOffset.setAttribute("dx", s), this.feOffset.setAttribute("dy", a)
                }
            }
        };
    var _svgMatteSymbols = [];

    function SVGMatte3Effect(t, e, r) {
        this.initialized = !1, this.filterManager = e, this.filterElem = t, (this.elem = r)
            .matteElement = createNS("g"), r.matteElement.appendChild(r.layerElement),
            r.matteElement.appendChild(r.transformedElement), r.baseElement = r.matteElement
    }

    function SVGEffects(t) {
        var e, r, i = t.data.ef ? t.data.ef.length : 0,
            s = createElementID(),
            a = filtersFactory.createFilter(s),
            n = 0;
        for (this.filters = [], e = 0; e < i; e += 1) r = null, 20 === t.data.ef[e].ty ? (n += 1, r = new SVGTintFilter(a, t.effectsManager.effectElements[e])) : 21 === t.data.ef[e].ty ? (n += 1, r = new SVGFillFilter(a, t.effectsManager.effectElements[e])) : 22 === t.data.ef[e].ty ? r = new SVGStrokeEffect(t, t.effectsManager.effectElements[e]) : 23 === t.data.ef[e].ty ?
            (n += 1, r = new SVGTritoneFilter(a, t.effectsManager.effectElements[e])) : 24 === t.data.ef[e].ty ? (n += 1, r = new SVGProLevelsFilter(a, t.effectsManager.effectElements[e])) : 25 === t.data.ef[e].ty ? (n += 1, r = new SVGDropShadowEffect(a, t.effectsManager.effectElements[e])) : 28 === t.data.ef[e].ty ? r = new SVGMatte3Effect(a, t.effectsManager.effectElements[e], t) : 29 === t.data.ef[e].ty && (n += 1, r = new SVGGaussianBlurEffect(a, t.effectsManager.effectElements[e])), r && this.filters.push(r);
        n && (t.globalData.defs.appendChild(a), t.layerElement.setAttribute("filter",
            "url(" + locationHref + "#" + s + ")")), this.filters.length && t.addRenderableComponent(this)
    }

    function CVContextData() {
        this.saved = [], this.cArrPos = 0, this.cTr = new Matrix, this.cO = 1;
        var t;
        for (this.savedOp = createTypedArray("float32", 15), t = 0; t < 15; t += 1) this.saved[t] = createTypedArray("float32", 16);
        this._length = 15
    }

    function CVBaseElement() {}

    function CVImageElement(t, e, r) {
        this.assetData = e.getAssetData(t.refId), this.img = e.imageLoader.getImage(this.assetData), this.initElement(t, e, r)
    }

    function CVCompElement(t, e, r) {
        this.completeLayers = !1, this.layers = t.layers, this.pendingElements = [], this.elements = createSizedArray(this.layers.length), this.initElement(t, e, r), this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : {
            _placeholder: !0
        }
    }

    function CVMaskElement(t, e) {
        this.data = t, this.element = e, this.masksProperties = this.data.masksProperties || [], this.viewData = createSizedArray(this.masksProperties.length);
        var r, i = this.masksProperties.length,
            s = !1;
        for (r = 0; r < i; r++) "n" !== this.masksProperties[r].mode && (s = !0), this.viewData[r] = ShapePropertyFactory.getShapeProp(this.element,
            this.masksProperties[r], 3);
        (this.hasMasks = s) && this.element.addRenderableComponent(this)
    }

    function CVShapeElement(t, e, r) {
        this.shapes = [], this.shapesData = t.shapes, this.stylesList = [], this.itemsData = [], this.prevViewData = [], this.shapeModifiers = [], this.processedElements = [], this.transformsManager = new ShapeTransformManager, this.initElement(t, e, r)
    }

    function CVSolidElement(t, e, r) {
        this.initElement(t, e, r)
    }

    function CVTextElement(t, e, r) {
        this.textSpans = [], this.yOffset = 0, this.fillColorAnim = !1, this.strokeColorAnim = !1,
            this.strokeWidthAnim = !1, this.stroke = !1, this.fill = !1, this.justifyOffset = 0, this.currentRender = null, this.renderType = "canvas", this.values = {
            fill: "rgba(0,0,0,0)",
            stroke: "rgba(0,0,0,0)",
            sWidth: 0,
            fValue: ""
        }, this.initElement(t, e, r)
    }

    function CVEffects() {}

    function HBaseElement(t, e, r) {}

    function HSolidElement(t, e, r) {
        this.initElement(t, e, r)
    }

    function HCompElement(t, e, r) {
        this.layers = t.layers, this.supports3d = !t.hasMask, this.completeLayers = !1, this.pendingElements = [], this.elements = this.layers ? createSizedArray(this.layers.length) : [], this.initElement(t, e, r), this.tm = t.tm ? PropertyFactory.getProp(this, t.tm, 0, e.frameRate, this) : {
            _placeholder: !0
        }
    }

    function HShapeElement(t, e, r) {
        this.shapes = [], this.shapesData = t.shapes, this.stylesList = [], this.shapeModifiers = [], this.itemsData = [], this.processedElements = [], this.animatedContents = [], this.shapesContainer = createNS("g"), this.initElement(t, e, r), this.prevViewData = [], this.currentBBox = {
            x: 999999,
            y: -999999,
            h: 0,
            w: 0
        }
    }

    function HTextElement(t, e, r) {
        this.textSpans = [], this.textPaths = [], this.currentBBox = {
            x: 999999,
            y: -999999,
            h: 0,
            w: 0
        }, this.renderType = "svg", this.isMasked = !1, this.initElement(t, e, r)
    }

    function HImageElement(t, e, r) {
        this.assetData = e.getAssetData(t.refId), this.initElement(t, e, r)
    }

    function HCameraElement(t, e, r) {
        this.initFrame(), this.initBaseData(t, e, r), this.initHierarchy();
        var i = PropertyFactory.getProp;
        if (this.pe = i(this, t.pe, 0, 0, this), t.ks.p.s ? (this.px = i(this, t.ks.p.x, 1, 0, this), this.py = i(this, t.ks.p.y, 1, 0, this), this.pz = i(this, t.ks.p.z, 1, 0, this)) : this.p = i(this, t.ks.p, 1, 0, this), t.ks.a && (this.a =
            i(this, t.ks.a, 1, 0, this)), t.ks.or.k.length && t.ks.or.k[0].to) {
            var s, a = t.ks.or.k.length;
            for (s = 0; s < a; s += 1) t.ks.or.k[s].to = null, t.ks.or.k[s].ti = null
        }
        this.or = i(this, t.ks.or, 1, degToRads, this), this.or.sh = !0, this.rx = i(this, t.ks.rx, 0, degToRads, this), this.ry = i(this, t.ks.ry, 0, degToRads, this), this.rz = i(this, t.ks.rz, 0, degToRads, this), this.mat = new Matrix, this._prevMat = new Matrix, this._isFirstFrame = !0, this.finalTransform = {
            mProp: this
        }
    }

    function HEffects() {}
    SVGMatte3Effect.prototype.findSymbol = function(t) {
        for (var e =
            0, r = _svgMatteSymbols.length; e < r;) {
            if (_svgMatteSymbols[e] === t) return _svgMatteSymbols[e];
            e += 1
        }
        return null
    }, SVGMatte3Effect.prototype.replaceInParent = function(t, e) {
        var r = t.layerElement.parentNode;
        if (r) {
            for (var i, s = r.children, a = 0, n = s.length; a < n && s[a] !== t.layerElement;) a += 1;
            a <= n - 2 && (i = s[a + 1]);
            var o = createNS("use");
            o.setAttribute("href", "#" + e), i ? r.insertBefore(o, i) : r.appendChild(o)
        }
    }, SVGMatte3Effect.prototype.setElementAsMask = function(t, e) {
        if (!this.findSymbol(e)) {
            var r = createElementID(),
                i = createNS("mask");
            i.setAttribute("id", e.layerId), i.setAttribute("mask-type", "alpha"), _svgMatteSymbols.push(e);
            var s = t.globalData.defs;
            s.appendChild(i);
            var a = createNS("symbol");
            a.setAttribute("id", r), this.replaceInParent(e, r), a.appendChild(e.layerElement), s.appendChild(a);
            var n = createNS("use");
            n.setAttribute("href", "#" + r), i.appendChild(n), e.data.hd = !1, e.show()
        }
        t.setMatte(e.layerId)
    }, SVGMatte3Effect.prototype.initialize = function() {
        for (var t = this.filterManager.effectElements[0].p.v, e = this.elem.comp.elements, r = 0, i = e.length; r <
        i;) e[r] && e[r].data.ind === t && this.setElementAsMask(this.elem, e[r]), r += 1;
        this.initialized = !0
    }, SVGMatte3Effect.prototype.renderFrame = function() {
        this.initialized || this.initialize()
    }, SVGEffects.prototype.renderFrame = function(t) {
        var e, r = this.filters.length;
        for (e = 0; e < r; e += 1) this.filters[e].renderFrame(t)
    }, CVContextData.prototype.duplicate = function() {
        var t = 2 * this._length,
            e = this.savedOp;
        this.savedOp = createTypedArray("float32", t), this.savedOp.set(e);
        var r = 0;
        for (r = this._length; r < t; r += 1) this.saved[r] = createTypedArray("float32",
            16);
        this._length = t
    }, CVContextData.prototype.reset = function() {
        this.cArrPos = 0, this.cTr.reset(), this.cO = 1
    }, CVBaseElement.prototype = {
        createElements: function() {},
        initRendererElement: function() {},
        createContainerElements: function() {
            this.canvasContext = this.globalData.canvasContext, this.renderableEffectsManager = new CVEffects(this)
        },
        createContent: function() {},
        setBlendMode: function() {
            var t = this.globalData;
            if (t.blendMode !== this.data.bm) {
                t.blendMode = this.data.bm;
                var e = getBlendMode(this.data.bm);
                t.canvasContext.globalCompositeOperation =
                    e
            }
        },
        createRenderableComponents: function() {
            this.maskManager = new CVMaskElement(this.data, this)
        },
        hideElement: function() {
            this.hidden || this.isInRange && !this.isTransparent || (this.hidden = !0)
        },
        showElement: function() {
            this.isInRange && !this.isTransparent && (this.hidden = !1, this._isFirstFrame = !0, this.maskManager._isFirstFrame = !0)
        },
        renderFrame: function() {
            this.hidden || this.data.hd || (this.renderTransform(), this.renderRenderable(), this.setBlendMode(), this.globalData.renderer.save(), this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),
                this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v), this.renderInnerContent(), this.globalData.renderer.restore(), this.maskManager.hasMasks && this.globalData.renderer.restore(!0), this._isFirstFrame && (this._isFirstFrame = !1))
        },
        destroy: function() {
            this.canvasContext = null, this.data = null, this.globalData = null, this.maskManager.destroy()
        },
        mHelper: new Matrix
    }, CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement, CVBaseElement.prototype.show = CVBaseElement.prototype.showElement, extendPrototype([BaseElement,
        TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement
    ], CVImageElement), CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement, CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame, CVImageElement.prototype.createContent = function() {
        if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {
            var t = createTag("canvas");
            t.width = this.assetData.w, t.height = this.assetData.h;
            var e, r, i = t.getContext("2d"),
                s = this.img.width,
                a = this.img.height,
                n = s / a,
                o = this.assetData.w / this.assetData.h,
                h = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;
            o < n && "xMidYMid slice" === h || n < o && "xMidYMid slice" !== h ? e = (r = a) * o : r = (e = s) / o, i.drawImage(this.img, (s - e) / 2, (a - r) / 2, e, r, 0, 0, this.assetData.w, this.assetData.h), this.img = t
        }
    }, CVImageElement.prototype.renderInnerContent = function(t) {
        this.canvasContext.drawImage(this.img, 0, 0)
    }, CVImageElement.prototype.destroy = function() {
        this.img = null
    }, extendPrototype([CanvasRenderer, ICompElement,
        CVBaseElement
    ], CVCompElement), CVCompElement.prototype.renderInnerContent = function() {
        var t;
        for (t = this.layers.length - 1; 0 <= t; t -= 1)(this.completeLayers || this.elements[t]) && this.elements[t].renderFrame()
    }, CVCompElement.prototype.destroy = function() {
        var t;
        for (t = this.layers.length - 1; 0 <= t; t -= 1) this.elements[t] && this.elements[t].destroy();
        this.layers = null, this.elements = null
    }, CVMaskElement.prototype.renderFrame = function() {
        if (this.hasMasks) {
            var t, e, r, i, s = this.element.finalTransform.mat,
                a = this.element.canvasContext,
                n = this.masksProperties.length;
            for (a.beginPath(), t = 0; t < n; t++)
                if ("n" !== this.masksProperties[t].mode) {
                    this.masksProperties[t].inv && (a.moveTo(0, 0), a.lineTo(this.element.globalData.compSize.w, 0), a.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h), a.lineTo(0, this.element.globalData.compSize.h), a.lineTo(0, 0)), i = this.viewData[t].v, e = s.applyToPointArray(i.v[0][0], i.v[0][1], 0), a.moveTo(e[0], e[1]);
                    var o, h = i._length;
                    for (o = 1; o < h; o++) r = s.applyToTriplePoints(i.o[o - 1], i.i[o], i.v[o]), a.bezierCurveTo(r[0],
                        r[1], r[2], r[3], r[4], r[5]);
                    r = s.applyToTriplePoints(i.o[o - 1], i.i[0], i.v[0]), a.bezierCurveTo(r[0], r[1], r[2], r[3], r[4], r[5])
                } this.element.globalData.renderer.save(!0), a.clip()
        }
    }, CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty, CVMaskElement.prototype.destroy = function() {
        this.element = null
    }, extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement), CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement,
        CVShapeElement.prototype.transformHelper = {
            opacity: 1,
            _opMdf: !1
        }, CVShapeElement.prototype.dashResetter = [], CVShapeElement.prototype.createContent = function() {
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, !0, [])
    }, CVShapeElement.prototype.createStyleElement = function(t, e) {
        var r = {
                data: t,
                type: t.ty,
                preTransforms: this.transformsManager.addTransformSequence(e),
                transforms: [],
                elements: [],
                closed: !0 === t.hd
            },
            i = {};
        if ("fl" == t.ty || "st" == t.ty ? (i.c = PropertyFactory.getProp(this, t.c, 1, 255, this), i.c.k ||
        (r.co = "rgb(" + bm_floor(i.c.v[0]) + "," + bm_floor(i.c.v[1]) + "," + bm_floor(i.c.v[2]) + ")")) : "gf" !== t.ty && "gs" !== t.ty || (i.s = PropertyFactory.getProp(this, t.s, 1, null, this), i.e = PropertyFactory.getProp(this, t.e, 1, null, this), i.h = PropertyFactory.getProp(this, t.h || {
            k: 0
        }, 0, .01, this), i.a = PropertyFactory.getProp(this, t.a || {
            k: 0
        }, 0, degToRads, this), i.g = new GradientProperty(this, t.g, this)), i.o = PropertyFactory.getProp(this, t.o, 0, .01, this), "st" == t.ty || "gs" == t.ty) {
            if (r.lc = this.lcEnum[t.lc] || "round", r.lj = this.ljEnum[t.lj] ||
                "round", 1 == t.lj && (r.ml = t.ml), i.w = PropertyFactory.getProp(this, t.w, 0, null, this), i.w.k || (r.wi = i.w.v), t.d) {
                var s = new DashProperty(this, t.d, "canvas", this);
                i.d = s, i.d.k || (r.da = i.d.dashArray, r.do = i.d.dashoffset[0])
            }
        } else r.r = 2 === t.r ? "evenodd" : "nonzero";
        return this.stylesList.push(r), i.style = r, i
    }, CVShapeElement.prototype.createGroupElement = function(t) {
        return {
            it: [],
            prevViewData: []
        }
    }, CVShapeElement.prototype.createTransformElement = function(t) {
        return {
            transform: {
                opacity: 1,
                _opMdf: !1,
                key: this.transformsManager.getNewKey(),
                op: PropertyFactory.getProp(this, t.o, 0, .01, this),
                mProps: TransformPropertyFactory.getTransformProperty(this, t, this)
            }
        }
    }, CVShapeElement.prototype.createShapeElement = function(t) {
        var e = new CVShapeData(this, t, this.stylesList, this.transformsManager);
        return this.shapes.push(e), this.addShapeToModifiers(e), e
    }, CVShapeElement.prototype.reloadShapes = function() {
        this._isFirstFrame = !0;
        var t, e = this.itemsData.length;
        for (t = 0; t < e; t += 1) this.prevViewData[t] = this.itemsData[t];
        for (this.searchShapes(this.shapesData, this.itemsData,
            this.prevViewData, !0, []), e = this.dynamicProperties.length, t = 0; t < e; t += 1) this.dynamicProperties[t].getValue();
        this.renderModifiers(), this.transformsManager.processSequences(this._isFirstFrame)
    }, CVShapeElement.prototype.addTransformToStyleList = function(t) {
        var e, r = this.stylesList.length;
        for (e = 0; e < r; e += 1) this.stylesList[e].closed || this.stylesList[e].transforms.push(t)
    }, CVShapeElement.prototype.removeTransformFromStyleList = function() {
        var t, e = this.stylesList.length;
        for (t = 0; t < e; t += 1) this.stylesList[t].closed ||
        this.stylesList[t].transforms.pop()
    }, CVShapeElement.prototype.closeStyles = function(t) {
        var e, r = t.length;
        for (e = 0; e < r; e += 1) t[e].closed = !0
    }, CVShapeElement.prototype.searchShapes = function(t, e, r, i, s) {
        var a, n, o, h, l, p, m = t.length - 1,
            f = [],
            c = [],
            d = [].concat(s);
        for (a = m; 0 <= a; a -= 1) {
            if ((h = this.searchProcessedElement(t[a])) ? e[a] = r[h - 1] : t[a]._shouldRender = i, "fl" == t[a].ty || "st" == t[a].ty || "gf" == t[a].ty || "gs" == t[a].ty) h ? e[a].style.closed = !1 : e[a] = this.createStyleElement(t[a], d), f.push(e[a].style);
            else if ("gr" == t[a].ty) {
                if (h)
                    for (o =
                             e[a].it.length, n = 0; n < o; n += 1) e[a].prevViewData[n] = e[a].it[n];
                else e[a] = this.createGroupElement(t[a]);
                this.searchShapes(t[a].it, e[a].it, e[a].prevViewData, i, d)
            } else "tr" == t[a].ty ? (h || (p = this.createTransformElement(t[a]), e[a] = p), d.push(e[a]), this.addTransformToStyleList(e[a])) : "sh" == t[a].ty || "rc" == t[a].ty || "el" == t[a].ty || "sr" == t[a].ty ? h || (e[a] = this.createShapeElement(t[a])) : "tm" == t[a].ty || "rd" == t[a].ty ? (h ? (l = e[a])
                .closed = !1 : ((l = ShapeModifiers.getModifier(t[a].ty))
                .init(this, t[a]), e[a] = l, this.shapeModifiers.push(l)),
                c.push(l)) : "rp" == t[a].ty && (h ? (l = e[a])
                .closed = !0 : (l = ShapeModifiers.getModifier(t[a].ty), (e[a] = l)
                .init(this, t, a, e), this.shapeModifiers.push(l), i = !1), c.push(l));
            this.addProcessedElement(t[a], a + 1)
        }
        for (this.removeTransformFromStyleList(), this.closeStyles(f), m = c.length, a = 0; a < m; a += 1) c[a].closed = !0
    }, CVShapeElement.prototype.renderInnerContent = function() {
        this.transformHelper.opacity = 1, this.transformHelper._opMdf = !1, this.renderModifiers(), this.transformsManager.processSequences(this._isFirstFrame), this.renderShape(this.transformHelper,
            this.shapesData, this.itemsData, !0)
    }, CVShapeElement.prototype.renderShapeTransform = function(t, e) {
        (t._opMdf || e.op._mdf || this._isFirstFrame) && (e.opacity = t.opacity, e.opacity *= e.op.v, e._opMdf = !0)
    }, CVShapeElement.prototype.drawLayer = function() {
        var t, e, r, i, s, a, n, o, h, l = this.stylesList.length,
            p = this.globalData.renderer,
            m = this.globalData.canvasContext;
        for (t = 0; t < l; t += 1)
            if (("st" !== (o = (h = this.stylesList[t])
                .type) && "gs" !== o || 0 !== h.wi) && h.data._shouldRender && 0 !== h.coOp && 0 !== this.globalData.currentGlobalAlpha) {
                for (p.save(),
                         a = h.elements, "st" === o || "gs" === o ? (m.strokeStyle = "st" === o ? h.co : h.grd, m.lineWidth = h.wi, m.lineCap = h.lc, m.lineJoin = h.lj, m.miterLimit = h.ml || 0) : m.fillStyle = "fl" === o ? h.co : h.grd, p.ctxOpacity(h.coOp), "st" !== o && "gs" !== o && m.beginPath(), p.ctxTransform(h.preTransforms.finalTransform.props), r = a.length, e = 0; e < r; e += 1) {
                    for ("st" !== o && "gs" !== o || (m.beginPath(), h.da && (m.setLineDash(h.da), m.lineDashOffset = h.do)), s = (n = a[e].trNodes)
                        .length, i = 0; i < s; i += 1) "m" == n[i].t ? m.moveTo(n[i].p[0], n[i].p[1]) : "c" == n[i].t ? m.bezierCurveTo(n[i].pts[0],
                        n[i].pts[1], n[i].pts[2], n[i].pts[3], n[i].pts[4], n[i].pts[5]) : m.closePath();
                    "st" !== o && "gs" !== o || (m.stroke(), h.da && m.setLineDash(this.dashResetter))
                }
                "st" !== o && "gs" !== o && m.fill(h.r), p.restore()
            }
    }, CVShapeElement.prototype.renderShape = function(t, e, r, i) {
        var s, a;
        for (a = t, s = e.length - 1; 0 <= s; s -= 1) "tr" == e[s].ty ? (a = r[s].transform, this.renderShapeTransform(t, a)) : "sh" == e[s].ty || "el" == e[s].ty || "rc" == e[s].ty || "sr" == e[s].ty ? this.renderPath(e[s], r[s]) : "fl" == e[s].ty ? this.renderFill(e[s], r[s], a) : "st" == e[s].ty ? this.renderStroke(e[s],
            r[s], a) : "gf" == e[s].ty || "gs" == e[s].ty ? this.renderGradientFill(e[s], r[s], a) : "gr" == e[s].ty ? this.renderShape(a, e[s].it, r[s].it) : e[s].ty;
        i && this.drawLayer()
    }, CVShapeElement.prototype.renderStyledShape = function(t, e) {
        if (this._isFirstFrame || e._mdf || t.transforms._mdf) {
            var r, i, s, a = t.trNodes,
                n = e.paths,
                o = n._length;
            a.length = 0;
            var h = t.transforms.finalTransform;
            for (s = 0; s < o; s += 1) {
                var l = n.shapes[s];
                if (l && l.v) {
                    for (i = l._length, r = 1; r < i; r += 1) 1 === r && a.push({
                        t: "m",
                        p: h.applyToPointArray(l.v[0][0], l.v[0][1], 0)
                    }), a.push({
                        t: "c",
                        pts: h.applyToTriplePoints(l.o[r - 1], l.i[r], l.v[r])
                    });
                    1 === i && a.push({
                        t: "m",
                        p: h.applyToPointArray(l.v[0][0], l.v[0][1], 0)
                    }), l.c && i && (a.push({
                        t: "c",
                        pts: h.applyToTriplePoints(l.o[r - 1], l.i[0], l.v[0])
                    }), a.push({
                        t: "z"
                    }))
                }
            }
            t.trNodes = a
        }
    }, CVShapeElement.prototype.renderPath = function(t, e) {
        if (!0 !== t.hd && t._shouldRender) {
            var r, i = e.styledShapes.length;
            for (r = 0; r < i; r += 1) this.renderStyledShape(e.styledShapes[r], e.sh)
        }
    }, CVShapeElement.prototype.renderFill = function(t, e, r) {
        var i = e.style;
        (e.c._mdf || this._isFirstFrame) &&
        (i.co = "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"), (e.o._mdf || r._opMdf || this._isFirstFrame) && (i.coOp = e.o.v * r.opacity)
    }, CVShapeElement.prototype.renderGradientFill = function(t, e, r) {
        var i = e.style;
        if (!i.grd || e.g._mdf || e.s._mdf || e.e._mdf || 1 !== t.t && (e.h._mdf || e.a._mdf)) {
            var s = this.globalData.canvasContext,
                a = e.s.v,
                n = e.e.v;
            if (1 === t.t) f = s.createLinearGradient(a[0], a[1], n[0], n[1]);
            else var o = Math.sqrt(Math.pow(a[0] - n[0], 2) + Math.pow(a[1] - n[1], 2)),
                h = Math.atan2(n[1] - a[1], n[0] - a[0]),
                l = o * (1 <= e.h.v ? .99 : e.h.v <= -1 ? -.99 : e.h.v),
                p = Math.cos(h + e.a.v) * l + a[0],
                m = Math.sin(h + e.a.v) * l + a[1],
                f = s.createRadialGradient(p, m, 0, a[0], a[1], o);
            var c, d = t.g.p,
                u = e.g.c,
                y = 1;
            for (c = 0; c < d; c += 1) e.g._hasOpacity && e.g._collapsable && (y = e.g.o[2 * c + 1]), f.addColorStop(u[4 * c] / 100, "rgba(" + u[4 * c + 1] + "," + u[4 * c + 2] + "," + u[4 * c + 3] + "," + y + ")");
            i.grd = f
        }
        i.coOp = e.o.v * r.opacity
    }, CVShapeElement.prototype.renderStroke = function(t, e, r) {
        var i = e.style,
            s = e.d;
        s && (s._mdf || this._isFirstFrame) && (i.da = s.dashArray, i.do = s.dashoffset[0]), (e.c._mdf ||
            this._isFirstFrame) && (i.co = "rgb(" + bm_floor(e.c.v[0]) + "," + bm_floor(e.c.v[1]) + "," + bm_floor(e.c.v[2]) + ")"), (e.o._mdf || r._opMdf || this._isFirstFrame) && (i.coOp = e.o.v * r.opacity), (e.w._mdf || this._isFirstFrame) && (i.wi = e.w.v)
    }, CVShapeElement.prototype.destroy = function() {
        this.shapesData = null, this.globalData = null, this.canvasContext = null, this.stylesList.length = 0, this.itemsData.length = 0
    }, extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement),
        CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement, CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame, CVSolidElement.prototype.renderInnerContent = function() {
        var t = this.canvasContext;
        t.fillStyle = this.data.sc, t.fillRect(0, 0, this.data.sw, this.data.sh)
    }, extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement), CVTextElement.prototype.tHelper = createTag("canvas")
        .getContext("2d"),
        CVTextElement.prototype.buildNewText = function() {
            var t = this.textProperty.currentData;
            this.renderedLetters = createSizedArray(t.l ? t.l.length : 0);
            var e = !1;
            t.fc ? (e = !0, this.values.fill = this.buildColor(t.fc)) : this.values.fill = "rgba(0,0,0,0)", this.fill = e;
            var r = !1;
            t.sc && (r = !0, this.values.stroke = this.buildColor(t.sc), this.values.sWidth = t.sw);
            var i, s, a = this.globalData.fontManager.getFontByName(t.f),
                n = t.l,
                o = this.mHelper;
            this.stroke = r, this.values.fValue = t.finalSize + "px " + this.globalData.fontManager.getFontByName(t.f)
                .fFamily,
                s = t.finalText.length;
            var h, l, p, m, f, c, d, u, y, g, v = this.data.singleShape,
                b = t.tr / 1E3 * t.finalSize,
                E = 0,
                x = 0,
                P = !0,
                S = 0;
            for (i = 0; i < s; i += 1) {
                for (l = (h = this.globalData.fontManager.getCharData(t.finalText[i], a.fStyle, this.globalData.fontManager.getFontByName(t.f)
                    .fFamily)) && h.data || {}, o.reset(), v && n[i].n && (E = -b, x += t.yOffset, x += P ? 1 : 0, P = !1), d = (f = l.shapes ? l.shapes[0].it : [])
                    .length, o.scale(t.finalSize / 100, t.finalSize / 100), v && this.applyTextPropertiesToMatrix(t, o, n[i].line, E, x), y = createSizedArray(d), c = 0; c < d; c += 1) {
                    for (m =
                             f[c].ks.k.i.length, u = f[c].ks.k, g = [], p = 1; p < m; p += 1) 1 == p && g.push(o.applyToX(u.v[0][0], u.v[0][1], 0), o.applyToY(u.v[0][0], u.v[0][1], 0)), g.push(o.applyToX(u.o[p - 1][0], u.o[p - 1][1], 0), o.applyToY(u.o[p - 1][0], u.o[p - 1][1], 0), o.applyToX(u.i[p][0], u.i[p][1], 0), o.applyToY(u.i[p][0], u.i[p][1], 0), o.applyToX(u.v[p][0], u.v[p][1], 0), o.applyToY(u.v[p][0], u.v[p][1], 0));
                    g.push(o.applyToX(u.o[p - 1][0], u.o[p - 1][1], 0), o.applyToY(u.o[p - 1][0], u.o[p - 1][1], 0), o.applyToX(u.i[0][0], u.i[0][1], 0), o.applyToY(u.i[0][0], u.i[0][1], 0),
                        o.applyToX(u.v[0][0], u.v[0][1], 0), o.applyToY(u.v[0][0], u.v[0][1], 0)), y[c] = g
                }
                v && (E += n[i].l, E += b), this.textSpans[S] ? this.textSpans[S].elem = y : this.textSpans[S] = {
                    elem: y
                }, S += 1
            }
        }, CVTextElement.prototype.renderInnerContent = function() {
        var t, e, r, i, s, a, n = this.canvasContext;
        this.finalTransform.mat.props;
        n.font = this.values.fValue, n.lineCap = "butt", n.lineJoin = "miter", n.miterLimit = 4, this.data.singleShape || this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
        var o, h = this.textAnimator.renderedLetters,
            l = this.textProperty.currentData.l;
        e = l.length;
        var p, m, f = null,
            c = null,
            d = null;
        for (t = 0; t < e; t += 1)
            if (!l[t].n) {
                if ((o = h[t]) && (this.globalData.renderer.save(), this.globalData.renderer.ctxTransform(o.p), this.globalData.renderer.ctxOpacity(o.o)), this.fill) {
                    for (o && o.fc ? f !== o.fc && (f = o.fc, n.fillStyle = o.fc) : f !== this.values.fill && (f = this.values.fill, n.fillStyle = this.values.fill), i = (p = this.textSpans[t].elem)
                        .length, this.globalData.canvasContext.beginPath(), r = 0; r < i; r += 1)
                        for (a = (m = p[r])
                            .length, this.globalData.canvasContext.moveTo(m[0],
                            m[1]), s = 2; s < a; s += 6) this.globalData.canvasContext.bezierCurveTo(m[s], m[s + 1], m[s + 2], m[s + 3], m[s + 4], m[s + 5]);
                    this.globalData.canvasContext.closePath(), this.globalData.canvasContext.fill()
                }
                if (this.stroke) {
                    for (o && o.sw ? d !== o.sw && (d = o.sw, n.lineWidth = o.sw) : d !== this.values.sWidth && (d = this.values.sWidth, n.lineWidth = this.values.sWidth), o && o.sc ? c !== o.sc && (c = o.sc, n.strokeStyle = o.sc) : c !== this.values.stroke && (c = this.values.stroke, n.strokeStyle = this.values.stroke), i = (p = this.textSpans[t].elem)
                        .length, this.globalData.canvasContext.beginPath(),
                             r = 0; r < i; r += 1)
                        for (a = (m = p[r])
                            .length, this.globalData.canvasContext.moveTo(m[0], m[1]), s = 2; s < a; s += 6) this.globalData.canvasContext.bezierCurveTo(m[s], m[s + 1], m[s + 2], m[s + 3], m[s + 4], m[s + 5]);
                    this.globalData.canvasContext.closePath(), this.globalData.canvasContext.stroke()
                }
                o && this.globalData.renderer.restore()
            }
    }, CVEffects.prototype.renderFrame = function() {}, HBaseElement.prototype = {
        checkBlendMode: function() {},
        initRendererElement: function() {
            this.baseElement = createTag(this.data.tg || "div"), this.data.hasMask ? (this.svgElement =
                createNS("svg"), this.layerElement = createNS("g"), this.maskedElement = this.layerElement, this.svgElement.appendChild(this.layerElement), this.baseElement.appendChild(this.svgElement)) : this.layerElement = this.baseElement, styleDiv(this.baseElement)
        },
        createContainerElements: function() {
            this.renderableEffectsManager = new CVEffects(this), this.transformedElement = this.baseElement, this.maskedElement = this.layerElement, this.data.ln && this.layerElement.setAttribute("id", this.data.ln), this.data.cl && this.layerElement.setAttribute("class",
                this.data.cl), 0 !== this.data.bm && this.setBlendMode()
        },
        renderElement: function() {
            this.finalTransform._matMdf && (this.transformedElement.style.transform = this.transformedElement.style.webkitTransform = this.finalTransform.mat.toCSS()), this.finalTransform._opMdf && (this.transformedElement.style.opacity = this.finalTransform.mProp.o.v)
        },
        renderFrame: function() {
            this.data.hd || this.hidden || (this.renderTransform(), this.renderRenderable(), this.renderElement(), this.renderInnerContent(), this._isFirstFrame && (this._isFirstFrame = !1))
        },
        destroy: function() {
            this.layerElement = null, this.transformedElement = null, this.matteElement && (this.matteElement = null), this.maskManager && (this.maskManager.destroy(), this.maskManager = null)
        },
        createRenderableComponents: function() {
            this.maskManager = new MaskElement(this.data, this, this.globalData)
        },
        addEffects: function() {},
        setMatte: function() {}
    }, HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement, HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy, HBaseElement.prototype.buildElementParenting =
        HybridRenderer.prototype.buildElementParenting, extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement), HSolidElement.prototype.createContent = function() {
        var t;
        this.data.hasMask ? ((t = createNS("rect"))
            .setAttribute("width", this.data.sw), t.setAttribute("height", this.data.sh), t.setAttribute("fill", this.data.sc), this.svgElement.setAttribute("width", this.data.sw), this.svgElement.setAttribute("height", this.data.sh)) : ((t = createTag("div"))
            .style.width =
            this.data.sw + "px", t.style.height = this.data.sh + "px", t.style.backgroundColor = this.data.sc), this.layerElement.appendChild(t)
    }, extendPrototype([HybridRenderer, ICompElement, HBaseElement], HCompElement), HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements, HCompElement.prototype.createContainerElements = function() {
        this._createBaseContainerElements(), this.data.hasMask ? (this.svgElement.setAttribute("width", this.data.w), this.svgElement.setAttribute("height", this.data.h),
            this.transformedElement = this.baseElement) : this.transformedElement = this.layerElement
    }, HCompElement.prototype.addTo3dContainer = function(t, e) {
        for (var r, i = 0; i < e;) this.elements[i] && this.elements[i].getBaseElement && (r = this.elements[i].getBaseElement()), i += 1;
        r ? this.layerElement.insertBefore(t, r) : this.layerElement.appendChild(t)
    }, extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement), HShapeElement.prototype._renderShapeFrame =
        HShapeElement.prototype.renderInnerContent, HShapeElement.prototype.createContent = function() {
        var t;
        if (this.baseElement.style.fontSize = 0, this.data.hasMask) this.layerElement.appendChild(this.shapesContainer), t = this.svgElement;
        else {
            t = createNS("svg");
            var e = this.comp.data ? this.comp.data : this.globalData.compSize;
            t.setAttribute("width", e.w), t.setAttribute("height", e.h), t.appendChild(this.shapesContainer), this.layerElement.appendChild(t)
        }
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer,
            0, [], !0), this.filterUniqueShapes(), this.shapeCont = t
    }, HShapeElement.prototype.getTransformedPoint = function(t, e) {
        var r, i = t.length;
        for (r = 0; r < i; r += 1) e = t[r].mProps.v.applyToPointArray(e[0], e[1], 0);
        return e
    }, HShapeElement.prototype.calculateShapeBoundingBox = function(t, e) {
        var r, i, s, a, n, o = t.sh.v,
            h = t.transformers,
            l = o._length;
        if (!(l <= 1)) {
            for (r = 0; r < l - 1; r += 1) i = this.getTransformedPoint(h, o.v[r]), s = this.getTransformedPoint(h, o.o[r]), a = this.getTransformedPoint(h, o.i[r + 1]), n = this.getTransformedPoint(h, o.v[r + 1]),
                this.checkBounds(i, s, a, n, e);
            o.c && (i = this.getTransformedPoint(h, o.v[r]), s = this.getTransformedPoint(h, o.o[r]), a = this.getTransformedPoint(h, o.i[0]), n = this.getTransformedPoint(h, o.v[0]), this.checkBounds(i, s, a, n, e))
        }
    }, HShapeElement.prototype.checkBounds = function(t, e, r, i, s) {
        this.getBoundsOfCurve(t, e, r, i);
        var a = this.shapeBoundingBox;
        s.x = bm_min(a.left, s.x), s.xMax = bm_max(a.right, s.xMax), s.y = bm_min(a.top, s.y), s.yMax = bm_max(a.bottom, s.yMax)
    }, HShapeElement.prototype.shapeBoundingBox = {
        left: 0,
        right: 0,
        top: 0,
        bottom: 0
    },
        HShapeElement.prototype.tempBoundingBox = {
            x: 0,
            xMax: 0,
            y: 0,
            yMax: 0,
            width: 0,
            height: 0
        }, HShapeElement.prototype.getBoundsOfCurve = function(t, e, r, i) {
        for (var s, a, n, o, h, l, p, m = [
            [t[0], i[0]],
            [t[1], i[1]]
        ], f = 0; f < 2; ++f)
            if (a = 6 * t[f] - 12 * e[f] + 6 * r[f], s = -3 * t[f] + 9 * e[f] - 9 * r[f] + 3 * i[f], n = 3 * e[f] - 3 * t[f], a |= 0, n |= 0, 0 !== (s |= 0))(h = a * a - 4 * n * s) < 0 || (0 < (l = (-a + bm_sqrt(h)) / (2 * s)) && l < 1 && m[f].push(this.calculateF(l, t, e, r, i, f)), 0 < (p = (-a - bm_sqrt(h)) / (2 * s)) && p < 1 && m[f].push(this.calculateF(p, t, e, r, i, f)));
            else {
                if (0 === a) continue;
                0 < (o = -n / a) && o <
                1 && m[f].push(this.calculateF(o, t, e, r, i, f))
            } this.shapeBoundingBox.left = bm_min.apply(null, m[0]), this.shapeBoundingBox.top = bm_min.apply(null, m[1]), this.shapeBoundingBox.right = bm_max.apply(null, m[0]), this.shapeBoundingBox.bottom = bm_max.apply(null, m[1])
    }, HShapeElement.prototype.calculateF = function(t, e, r, i, s, a) {
        return bm_pow(1 - t, 3) * e[a] + 3 * bm_pow(1 - t, 2) * t * r[a] + 3 * (1 - t) * bm_pow(t, 2) * i[a] + bm_pow(t, 3) * s[a]
    }, HShapeElement.prototype.calculateBoundingBox = function(t, e) {
        var r, i = t.length;
        for (r = 0; r < i; r += 1) t[r] && t[r].sh ?
            this.calculateShapeBoundingBox(t[r], e) : t[r] && t[r].it && this.calculateBoundingBox(t[r].it, e)
    }, HShapeElement.prototype.currentBoxContains = function(t) {
        return this.currentBBox.x <= t.x && this.currentBBox.y <= t.y && this.currentBBox.width + this.currentBBox.x >= t.x + t.width && this.currentBBox.height + this.currentBBox.y >= t.y + t.height
    }, HShapeElement.prototype.renderInnerContent = function() {
        if (this._renderShapeFrame(), !this.hidden && (this._isFirstFrame || this._mdf)) {
            var t = this.tempBoundingBox,
                e = 999999;
            if (t.x = e, t.xMax = -e,
                t.y = e, t.yMax = -e, this.calculateBoundingBox(this.itemsData, t), t.width = t.xMax < t.x ? 0 : t.xMax - t.x, t.height = t.yMax < t.y ? 0 : t.yMax - t.y, this.currentBoxContains(t)) return;
            var r = !1;
            this.currentBBox.w !== t.width && (this.currentBBox.w = t.width, this.shapeCont.setAttribute("width", t.width), r = !0), this.currentBBox.h !== t.height && (this.currentBBox.h = t.height, this.shapeCont.setAttribute("height", t.height), r = !0), (r || this.currentBBox.x !== t.x || this.currentBBox.y !== t.y) && (this.currentBBox.w = t.width, this.currentBBox.h = t.height,
                this.currentBBox.x = t.x, this.currentBBox.y = t.y, this.shapeCont.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h), this.shapeCont.style.transform = this.shapeCont.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
        }
    }, extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement), HTextElement.prototype.createContent = function() {
        if (this.isMasked =
            this.checkMasks(), this.isMasked) {
            this.renderType = "svg", this.compW = this.comp.data.w, this.compH = this.comp.data.h, this.svgElement.setAttribute("width", this.compW), this.svgElement.setAttribute("height", this.compH);
            var t = createNS("g");
            this.maskedElement.appendChild(t), this.innerElem = t
        } else this.renderType = "html", this.innerElem = this.layerElement;
        this.checkParenting()
    }, HTextElement.prototype.buildNewText = function() {
        var t = this.textProperty.currentData;
        this.renderedLetters = createSizedArray(t.l ? t.l.length :
            0);
        var e = this.innerElem.style;
        e.color = e.fill = t.fc ? this.buildColor(t.fc) : "rgba(0,0,0,0)", t.sc && (e.stroke = this.buildColor(t.sc), e.strokeWidth = t.sw + "px");
        var r, i, s = this.globalData.fontManager.getFontByName(t.f);
        if (!this.globalData.fontManager.chars)
            if (e.fontSize = t.finalSize + "px", e.lineHeight = t.finalSize + "px", s.fClass) this.innerElem.className = s.fClass;
            else {
                e.fontFamily = s.fFamily;
                var a = t.fWeight,
                    n = t.fStyle;
                e.fontStyle = n, e.fontWeight = a
            } var o, h, l, p = t.l;
        i = p.length;
        var m, f = this.mHelper,
            c = "",
            d = 0;
        for (r = 0; r <
        i; r += 1) {
            if (this.globalData.fontManager.chars ? (this.textPaths[d] ? o = this.textPaths[d] : ((o = createNS("path"))
                .setAttribute("stroke-linecap", "butt"), o.setAttribute("stroke-linejoin", "round"), o.setAttribute("stroke-miterlimit", "4")), this.isMasked || (this.textSpans[d] ? l = (h = this.textSpans[d])
                .children[0] : ((h = createTag("div"))
                .style.lineHeight = 0, (l = createNS("svg"))
                .appendChild(o), styleDiv(h)))) : this.isMasked ? o = this.textPaths[d] ? this.textPaths[d] : createNS("text") : this.textSpans[d] ? (h = this.textSpans[d], o = this.textPaths[d]) :
                (styleDiv(h = createTag("span")), styleDiv(o = createTag("span")), h.appendChild(o)), this.globalData.fontManager.chars) {
                var u, y = this.globalData.fontManager.getCharData(t.finalText[r], s.fStyle, this.globalData.fontManager.getFontByName(t.f)
                    .fFamily);
                if (u = y ? y.data : null, f.reset(), u && u.shapes && (m = u.shapes[0].it, f.scale(t.finalSize / 100, t.finalSize / 100), c = this.createPathShape(f, m), o.setAttribute("d", c)), this.isMasked) this.innerElem.appendChild(o);
                else {
                    if (this.innerElem.appendChild(h), u && u.shapes) {
                        document.body.appendChild(l);
                        var g = l.getBBox();
                        l.setAttribute("width", g.width + 2), l.setAttribute("height", g.height + 2), l.setAttribute("viewBox", g.x - 1 + " " + (g.y - 1) + " " + (g.width + 2) + " " + (g.height + 2)), l.style.transform = l.style.webkitTransform = "translate(" + (g.x - 1) + "px," + (g.y - 1) + "px)", p[r].yOffset = g.y - 1
                    } else l.setAttribute("width", 1), l.setAttribute("height", 1);
                    h.appendChild(l)
                }
            } else o.textContent = p[r].val, o.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve"), this.isMasked ? this.innerElem.appendChild(o) : (this.innerElem.appendChild(h),
                o.style.transform = o.style.webkitTransform = "translate3d(0," + -t.finalSize / 1.2 + "px,0)");
            this.isMasked ? this.textSpans[d] = o : this.textSpans[d] = h, this.textSpans[d].style.display = "block", this.textPaths[d] = o, d += 1
        }
        for (; d < this.textSpans.length;) this.textSpans[d].style.display = "none", d += 1
    }, HTextElement.prototype.renderInnerContent = function() {
        if (this.data.singleShape) {
            if (!this._isFirstFrame && !this.lettersChangedFlag) return;
            this.isMasked && this.finalTransform._matMdf && (this.svgElement.setAttribute("viewBox", -this.finalTransform.mProp.p.v[0] +
                " " + -this.finalTransform.mProp.p.v[1] + " " + this.compW + " " + this.compH), this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + -this.finalTransform.mProp.p.v[0] + "px," + -this.finalTransform.mProp.p.v[1] + "px)")
        }
        if (this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag), this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {
            var t, e, r, i, s, a = 0,
                n = this.textAnimator.renderedLetters,
                o = this.textProperty.currentData.l;
            for (e = o.length, t = 0; t < e; t += 1) o[t].n ?
                a += 1 : (i = this.textSpans[t], s = this.textPaths[t], r = n[a], a += 1, r._mdf.m && (this.isMasked ? i.setAttribute("transform", r.m) : i.style.transform = i.style.webkitTransform = r.m), i.style.opacity = r.o, r.sw && r._mdf.sw && s.setAttribute("stroke-width", r.sw), r.sc && r._mdf.sc && s.setAttribute("stroke", r.sc), r.fc && r._mdf.fc && (s.setAttribute("fill", r.fc), s.style.color = r.fc));
            if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {
                var h = this.innerElem.getBBox();
                this.currentBBox.w !== h.width && (this.currentBBox.w =
                    h.width, this.svgElement.setAttribute("width", h.width)), this.currentBBox.h !== h.height && (this.currentBBox.h = h.height, this.svgElement.setAttribute("height", h.height));
                this.currentBBox.w === h.width + 2 && this.currentBBox.h === h.height + 2 && this.currentBBox.x === h.x - 1 && this.currentBBox.y === h.y - 1 || (this.currentBBox.w = h.width + 2, this.currentBBox.h = h.height + 2, this.currentBBox.x = h.x - 1, this.currentBBox.y = h.y - 1, this.svgElement.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " +
                    this.currentBBox.h), this.svgElement.style.transform = this.svgElement.style.webkitTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)")
            }
        }
    }, extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement), HImageElement.prototype.createContent = function() {
        var t = this.globalData.getAssetsPath(this.assetData),
            e = new Image;
        this.data.hasMask ? (this.imageElem = createNS("image"), this.imageElem.setAttribute("width", this.assetData.w +
            "px"), this.imageElem.setAttribute("height", this.assetData.h + "px"), this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", t), this.layerElement.appendChild(this.imageElem), this.baseElement.setAttribute("width", this.assetData.w), this.baseElement.setAttribute("height", this.assetData.h)) : this.layerElement.appendChild(e), e.src = t, this.data.ln && this.baseElement.setAttribute("id", this.data.ln)
    }, extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement), HCameraElement.prototype.setup =
        function() {
            var t, e, r = this.comp.threeDElements.length;
            for (t = 0; t < r; t += 1) "3d" === (e = this.comp.threeDElements[t])
                .type && (e.perspectiveElem.style.perspective = e.perspectiveElem.style.webkitPerspective = this.pe.v + "px", e.container.style.transformOrigin = e.container.style.mozTransformOrigin = e.container.style.webkitTransformOrigin = "0px 0px 0px", e.perspectiveElem.style.transform = e.perspectiveElem.style.webkitTransform = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")
        }, HCameraElement.prototype.createElements = function() {},
        HCameraElement.prototype.hide = function() {}, HCameraElement.prototype.renderFrame = function() {
        var t, e, r = this._isFirstFrame;
        if (this.hierarchy)
            for (e = this.hierarchy.length, t = 0; t < e; t += 1) r = this.hierarchy[t].finalTransform.mProp._mdf || r;
        if (r || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {
            if (this.mat.reset(), this.hierarchy)
                for (t = e = this.hierarchy.length - 1; 0 <= t; t -= 1) {
                    var i = this.hierarchy[t].finalTransform.mProp;
                    this.mat.translate(-i.p.v[0], -i.p.v[1], i.p.v[2]), this.mat.rotateX(-i.or.v[0])
                        .rotateY(-i.or.v[1])
                        .rotateZ(i.or.v[2]), this.mat.rotateX(-i.rx.v)
                        .rotateY(-i.ry.v)
                        .rotateZ(i.rz.v), this.mat.scale(1 / i.s.v[0], 1 / i.s.v[1], 1 / i.s.v[2]), this.mat.translate(i.a.v[0], i.a.v[1], i.a.v[2])
                }
            if (this.p ? this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]) : this.mat.translate(-this.px.v, -this.py.v, this.pz.v), this.a) {
                var s;
                s = this.p ? [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]] : [this.px.v - this.a.v[0],
                    this.py.v - this.a.v[1], this.pz.v - this.a.v[2]
                ];
                var a = Math.sqrt(Math.pow(s[0], 2) + Math.pow(s[1], 2) + Math.pow(s[2], 2)),
                    n = [s[0] / a, s[1] / a, s[2] / a],
                    o = Math.sqrt(n[2] * n[2] + n[0] * n[0]),
                    h = Math.atan2(n[1], o),
                    l = Math.atan2(n[0], -n[2]);
                this.mat.rotateY(l)
                    .rotateX(-h)
            }
            this.mat.rotateX(-this.rx.v)
                .rotateY(-this.ry.v)
                .rotateZ(this.rz.v), this.mat.rotateX(-this.or.v[0])
                .rotateY(-this.or.v[1])
                .rotateZ(this.or.v[2]), this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0), this.mat.translate(0, 0, this.pe.v);
            var p = !this._prevMat.equals(this.mat);
            if ((p || this.pe._mdf) && this.comp.threeDElements) {
                var m;
                for (e = this.comp.threeDElements.length, t = 0; t < e; t += 1) "3d" === (m = this.comp.threeDElements[t])
                    .type && (p && (m.container.style.transform = m.container.style.webkitTransform = this.mat.toCSS()), this.pe._mdf && (m.perspectiveElem.style.perspective = m.perspectiveElem.style.webkitPerspective = this.pe.v + "px"));
                this.mat.clone(this._prevMat)
            }
        }
        this._isFirstFrame = !1
    }, HCameraElement.prototype.prepareFrame = function(t) {
        this.prepareProperties(t,
            !0)
    }, HCameraElement.prototype.destroy = function() {}, HCameraElement.prototype.getBaseElement = function() {
        return null
    }, HEffects.prototype.renderFrame = function() {};
    var animationManager = function() {
            var t = {},
                s = [],
                i = 0,
                a = 0,
                n = 0,
                o = !0,
                h = !1;

            function r(t) {
                for (var e = 0, r = t.target; e < a;) s[e].animation === r && (s.splice(e, 1), e -= 1, a -= 1, r.isPaused || m()), e += 1
            }

            function l(t, e) {
                if (!t) return null;
                for (var r = 0; r < a;) {
                    if (s[r].elem == t && null !== s[r].elem) return s[r].animation;
                    r += 1
                }
                var i = new AnimationItem;
                return f(i, t), i.setData(t, e),
                    i
            }

            function p() {
                n += 1, d()
            }

            function m() {
                n -= 1
            }

            function f(t, e) {
                t.addEventListener("destroy", r), t.addEventListener("_active", p), t.addEventListener("_idle", m), s.push({
                    elem: e,
                    animation: t
                }), a += 1
            }

            function c(t) {
                var e, r = t - i;
                for (e = 0; e < a; e += 1) s[e].animation.advanceTime(r);
                i = t, n && !h ? window.requestAnimationFrame(c) : o = !0
            }

            function e(t) {
                i = t, window.requestAnimationFrame(c)
            }

            function d() {
                !h && n && o && (window.requestAnimationFrame(e), o = !1)
            }
            return t.registerAnimation = l, t.loadAnimation = function(t) {
                var e = new AnimationItem;
                return f(e,
                    null), e.setParams(t), e
            }, t.setSpeed = function(t, e) {
                var r;
                for (r = 0; r < a; r += 1) s[r].animation.setSpeed(t, e)
            }, t.setDirection = function(t, e) {
                var r;
                for (r = 0; r < a; r += 1) s[r].animation.setDirection(t, e)
            }, t.play = function(t) {
                var e;
                for (e = 0; e < a; e += 1) s[e].animation.play(t)
            }, t.pause = function(t) {
                var e;
                for (e = 0; e < a; e += 1) s[e].animation.pause(t)
            }, t.stop = function(t) {
                var e;
                for (e = 0; e < a; e += 1) s[e].animation.stop(t)
            }, t.togglePause = function(t) {
                var e;
                for (e = 0; e < a; e += 1) s[e].animation.togglePause(t)
            }, t.searchAnimations = function(t, e, r) {
                var i,
                    s = [].concat([].slice.call(document.getElementsByClassName("lottie")), [].slice.call(document.getElementsByClassName("bodymovin"))),
                    a = s.length;
                for (i = 0; i < a; i += 1) r && s[i].setAttribute("data-bm-type", r), l(s[i], t);
                if (e && 0 === a) {
                    r || (r = "svg");
                    var n = document.getElementsByTagName("body")[0];
                    n.innerHTML = "";
                    var o = createTag("div");
                    o.style.width = "100%", o.style.height = "100%", o.setAttribute("data-bm-type", r), n.appendChild(o), l(o, t)
                }
            }, t.resize = function() {
                var t;
                for (t = 0; t < a; t += 1) s[t].animation.resize()
            }, t.goToAndStop =
                function(t, e, r) {
                    var i;
                    for (i = 0; i < a; i += 1) s[i].animation.goToAndStop(t, e, r)
                }, t.destroy = function(t) {
                var e;
                for (e = a - 1; 0 <= e; e -= 1) s[e].animation.destroy(t)
            }, t.freeze = function() {
                h = !0
            }, t.unfreeze = function() {
                h = !1, d()
            }, t.getRegisteredAnimations = function() {
                var t, e = s.length,
                    r = [];
                for (t = 0; t < e; t += 1) r.push(s[t].animation);
                return r
            }, t
        }(),
        AnimationItem = function() {
            this._cbs = [], this.name = "", this.path = "", this.isLoaded = !1, this.currentFrame = 0, this.currentRawFrame = 0, this.totalFrames = 0, this.frameRate = 0, this.frameMult = 0, this.playSpeed =
                1, this.playDirection = 1, this.playCount = 0, this.animationData = {}, this.assets = [], this.isPaused = !0, this.autoplay = !1, this.loop = !0, this.renderer = null, this.animationID = createElementID(), this.assetsPath = "", this.timeCompleted = 0, this.segmentPos = 0, this.subframeEnabled = subframeEnabled, this.segments = [], this._idle = !0, this._completedLoop = !1, this.projectInterface = ProjectInterface(), this.imagePreloader = new ImagePreloader
        };
    extendPrototype([BaseEvent], AnimationItem), AnimationItem.prototype.setParams = function(t) {
        t.context &&
        (this.context = t.context), (t.wrapper || t.container) && (this.wrapper = t.wrapper || t.container);
        var e = t.animType ? t.animType : t.renderer ? t.renderer : "svg";
        switch (e) {
            case "canvas":
                this.renderer = new CanvasRenderer(this, t.rendererSettings);
                break;
            case "svg":
                this.renderer = new SVGRenderer(this, t.rendererSettings);
                break;
            default:
                this.renderer = new HybridRenderer(this, t.rendererSettings)
        }
        this.renderer.setProjectInterface(this.projectInterface), this.animType = e, "" === t.loop || null === t.loop || (!1 === t.loop ? this.loop = !1 : !0 ===
        t.loop ? this.loop = !0 : this.loop = parseInt(t.loop)), this.autoplay = !("autoplay" in t) || t.autoplay, this.name = t.name ? t.name : "", this.autoloadSegments = !t.hasOwnProperty("autoloadSegments") || t.autoloadSegments, this.assetsPath = t.assetsPath, t.animationData ? this.configAnimation(t.animationData) : t.path && (-1 !== t.path.lastIndexOf("\\") ? this.path = t.path.substr(0, t.path.lastIndexOf("\\") + 1) : this.path = t.path.substr(0, t.path.lastIndexOf("/") + 1), this.fileName = t.path.substr(t.path.lastIndexOf("/") + 1), this.fileName = this.fileName.substr(0,
            this.fileName.lastIndexOf(".json")), assetLoader.load(t.path, this.configAnimation.bind(this), function() {
            this.trigger("data_failed")
        }.bind(this)))
    }, AnimationItem.prototype.setData = function(t, e) {
        var r = {
                wrapper: t,
                animationData: e ? "object" == typeof e ? e : JSON.parse(e) : null
            },
            i = t.attributes;
        r.path = i.getNamedItem("data-animation-path") ? i.getNamedItem("data-animation-path")
            .value : i.getNamedItem("data-bm-path") ? i.getNamedItem("data-bm-path")
            .value : i.getNamedItem("bm-path") ? i.getNamedItem("bm-path")
            .value : "", r.animType =
            i.getNamedItem("data-anim-type") ? i.getNamedItem("data-anim-type")
                .value : i.getNamedItem("data-bm-type") ? i.getNamedItem("data-bm-type")
                .value : i.getNamedItem("bm-type") ? i.getNamedItem("bm-type")
                .value : i.getNamedItem("data-bm-renderer") ? i.getNamedItem("data-bm-renderer")
                .value : i.getNamedItem("bm-renderer") ? i.getNamedItem("bm-renderer")
                .value : "canvas";
        var s = i.getNamedItem("data-anim-loop") ? i.getNamedItem("data-anim-loop")
            .value : i.getNamedItem("data-bm-loop") ? i.getNamedItem("data-bm-loop")
            .value : i.getNamedItem("bm-loop") ?
            i.getNamedItem("bm-loop")
                .value : "";
        "" === s || (r.loop = "false" !== s && ("true" === s || parseInt(s)));
        var a = i.getNamedItem("data-anim-autoplay") ? i.getNamedItem("data-anim-autoplay")
            .value : i.getNamedItem("data-bm-autoplay") ? i.getNamedItem("data-bm-autoplay")
            .value : !i.getNamedItem("bm-autoplay") || i.getNamedItem("bm-autoplay")
            .value;
        r.autoplay = "false" !== a, r.name = i.getNamedItem("data-name") ? i.getNamedItem("data-name")
            .value : i.getNamedItem("data-bm-name") ? i.getNamedItem("data-bm-name")
            .value : i.getNamedItem("bm-name") ?
            i.getNamedItem("bm-name")
                .value : "", "false" === (i.getNamedItem("data-anim-prerender") ? i.getNamedItem("data-anim-prerender")
            .value : i.getNamedItem("data-bm-prerender") ? i.getNamedItem("data-bm-prerender")
            .value : i.getNamedItem("bm-prerender") ? i.getNamedItem("bm-prerender")
            .value : "") && (r.prerender = !1), this.setParams(r)
    }, AnimationItem.prototype.includeLayers = function(t) {
        t.op > this.animationData.op && (this.animationData.op = t.op, this.totalFrames = Math.floor(t.op - this.animationData.ip));
        var e, r, i = this.animationData.layers,
            s = i.length,
            a = t.layers,
            n = a.length;
        for (r = 0; r < n; r += 1)
            for (e = 0; e < s;) {
                if (i[e].id == a[r].id) {
                    i[e] = a[r];
                    break
                }
                e += 1
            }
        if ((t.chars || t.fonts) && (this.renderer.globalData.fontManager.addChars(t.chars), this.renderer.globalData.fontManager.addFonts(t.fonts, this.renderer.globalData.defs)), t.assets)
            for (s = t.assets.length, e = 0; e < s; e += 1) this.animationData.assets.push(t.assets[e]);
        this.animationData.__complete = !1, dataManager.completeData(this.animationData, this.renderer.globalData.fontManager), this.renderer.includeLayers(t.layers),
        expressionsPlugin && expressionsPlugin.initExpressions(this), this.loadNextSegment()
    }, AnimationItem.prototype.loadNextSegment = function() {
        var t = this.animationData.segments;
        if (!t || 0 === t.length || !this.autoloadSegments) return this.trigger("data_ready"), void(this.timeCompleted = this.totalFrames);
        var e = t.shift();
        this.timeCompleted = e.time * this.frameRate;
        var r = this.path + this.fileName + "_" + this.segmentPos + ".json";
        this.segmentPos += 1, assetLoader.load(r, this.includeLayers.bind(this), function() {
            this.trigger("data_failed")
        }.bind(this))
    },
        AnimationItem.prototype.loadSegments = function() {
            this.animationData.segments || (this.timeCompleted = this.totalFrames), this.loadNextSegment()
        }, AnimationItem.prototype.imagesLoaded = function() {
        this.trigger("loaded_images"), this.checkLoaded()
    }, AnimationItem.prototype.preloadImages = function() {
        this.imagePreloader.setAssetsPath(this.assetsPath), this.imagePreloader.setPath(this.path), this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this))
    }, AnimationItem.prototype.configAnimation =
        function(t) {
            if (this.renderer) try {
                this.animationData = t, this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip), this.renderer.configAnimation(t), t.assets || (t.assets = []), this.assets = this.animationData.assets, this.frameRate = this.animationData.fr, this.firstFrame = Math.round(this.animationData.ip), this.frameMult = this.animationData.fr / 1E3, this.renderer.searchExtraCompositions(t.assets), this.trigger("config_ready"), this.preloadImages(), this.loadSegments(), this.updaFrameModifier(), this.waitForFontsLoaded()
            } catch (t$10) {
                this.triggerConfigError(t$10)
            }
        },
        AnimationItem.prototype.waitForFontsLoaded = function() {
            this.renderer && (this.renderer.globalData.fontManager.loaded() ? this.checkLoaded() : setTimeout(this.waitForFontsLoaded.bind(this), 20))
        }, AnimationItem.prototype.checkLoaded = function() {
        this.isLoaded || !this.renderer.globalData.fontManager.loaded() || !this.imagePreloader.loaded() && "canvas" === this.renderer.rendererType || (this.isLoaded = !0, dataManager.completeData(this.animationData, this.renderer.globalData.fontManager), expressionsPlugin && expressionsPlugin.initExpressions(this),
            this.renderer.initItems(), setTimeout(function() {
            this.trigger("DOMLoaded")
        }.bind(this), 0), this.gotoFrame(), this.autoplay && this.play())
    }, AnimationItem.prototype.resize = function() {
        this.renderer.updateContainerSize()
    }, AnimationItem.prototype.setSubframe = function(t) {
        this.subframeEnabled = !!t
    }, AnimationItem.prototype.gotoFrame = function() {
        this.currentFrame = this.subframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame, this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted && (this.currentFrame =
            this.timeCompleted), this.trigger("enterFrame"), this.renderFrame()
    }, AnimationItem.prototype.renderFrame = function() {
        if (!1 !== this.isLoaded) try {
            this.renderer.renderFrame(this.currentFrame + this.firstFrame)
        } catch (t) {
            this.triggerRenderFrameError(t)
        }
    }, AnimationItem.prototype.play = function(t) {
        t && this.name != t || !0 === this.isPaused && (this.isPaused = !1, this._idle && (this._idle = !1, this.trigger("_active")))
    }, AnimationItem.prototype.pause = function(t) {
        t && this.name != t || !1 === this.isPaused && (this.isPaused = !0, this._idle = !0, this.trigger("_idle"))
    }, AnimationItem.prototype.togglePause = function(t) {
        t && this.name != t || (!0 === this.isPaused ? this.play() : this.pause())
    }, AnimationItem.prototype.stop = function(t) {
        t && this.name != t || (this.pause(), this.playCount = 0, this._completedLoop = !1, this.setCurrentRawFrameValue(0))
    }, AnimationItem.prototype.goToAndStop = function(t, e, r) {
        r && this.name != r || (e ? this.setCurrentRawFrameValue(t) : this.setCurrentRawFrameValue(t * this.frameModifier), this.pause())
    }, AnimationItem.prototype.goToAndPlay = function(t,
                                                      e, r) {
        this.goToAndStop(t, e, r), this.play()
    }, AnimationItem.prototype.advanceTime = function(t) {
        if (!0 !== this.isPaused && !1 !== this.isLoaded) {
            var e = this.currentRawFrame + t * this.frameModifier,
                r = !1;
            e >= this.totalFrames - 1 && 0 < this.frameModifier ? this.loop && this.playCount !== this.loop ? e >= this.totalFrames ? (this.playCount += 1, this.checkSegments(e % this.totalFrames) || (this.setCurrentRawFrameValue(e % this.totalFrames), this._completedLoop = !0, this.trigger("loopComplete"))) : this.setCurrentRawFrameValue(e) : this.checkSegments(e >
            this.totalFrames ? e % this.totalFrames : 0) || (r = !0, e = this.totalFrames - 1) : e < 0 ? this.checkSegments(e % this.totalFrames) || (!this.loop || this.playCount-- <= 0 && !0 !== this.loop ? (r = !0, e = 0) : (this.setCurrentRawFrameValue(this.totalFrames + e % this.totalFrames), this._completedLoop ? this.trigger("loopComplete") : this._completedLoop = !0)) : this.setCurrentRawFrameValue(e), r && (this.setCurrentRawFrameValue(e), this.pause(), this.trigger("complete"))
        }
    }, AnimationItem.prototype.adjustSegment = function(t, e) {
        this.playCount = 0, t[1] < t[0] ?
            (0 < this.frameModifier && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(-1)), this.timeCompleted = this.totalFrames = t[0] - t[1], this.firstFrame = t[1], this.setCurrentRawFrameValue(this.totalFrames - .001 - e)) : t[1] > t[0] && (this.frameModifier < 0 && (this.playSpeed < 0 ? this.setSpeed(-this.playSpeed) : this.setDirection(1)), this.timeCompleted = this.totalFrames = t[1] - t[0], this.firstFrame = t[0], this.setCurrentRawFrameValue(.001 + e)), this.trigger("segmentStart")
    }, AnimationItem.prototype.setSegment = function(t,
                                                     e) {
        var r = -1;
        this.isPaused && (this.currentRawFrame + this.firstFrame < t ? r = t : this.currentRawFrame + this.firstFrame > e && (r = e - t)), this.firstFrame = t, this.timeCompleted = this.totalFrames = e - t, -1 !== r && this.goToAndStop(r, !0)
    }, AnimationItem.prototype.playSegments = function(t, e) {
        if (e && (this.segments.length = 0), "object" == typeof t[0]) {
            var r, i = t.length;
            for (r = 0; r < i; r += 1) this.segments.push(t[r])
        } else this.segments.push(t);
        this.segments.length && e && this.adjustSegment(this.segments.shift(), 0), this.isPaused && this.play()
    }, AnimationItem.prototype.resetSegments =
        function(t) {
            this.segments.length = 0, this.segments.push([this.animationData.ip, this.animationData.op]), t && this.checkSegments(0)
        }, AnimationItem.prototype.checkSegments = function(t) {
        return !!this.segments.length && (this.adjustSegment(this.segments.shift(), t), !0)
    }, AnimationItem.prototype.destroy = function(t) {
        t && this.name != t || !this.renderer || (this.renderer.destroy(), this.imagePreloader.destroy(), this.trigger("destroy"), this._cbs = null, this.onEnterFrame = this.onLoopComplete = this.onComplete = this.onSegmentStart =
            this.onDestroy = null, this.renderer = null)
    }, AnimationItem.prototype.setCurrentRawFrameValue = function(t) {
        this.currentRawFrame = t, this.gotoFrame()
    }, AnimationItem.prototype.setSpeed = function(t) {
        this.playSpeed = t, this.updaFrameModifier()
    }, AnimationItem.prototype.setDirection = function(t) {
        this.playDirection = t < 0 ? -1 : 1, this.updaFrameModifier()
    }, AnimationItem.prototype.updaFrameModifier = function() {
        this.frameModifier = this.frameMult * this.playSpeed * this.playDirection
    }, AnimationItem.prototype.getPath = function() {
        return this.path
    },
        AnimationItem.prototype.getAssetsPath = function(t) {
            var e = "";
            if (t.e) e = t.p;
            else if (this.assetsPath) {
                var r = t.p; - 1 !== r.indexOf("images/") && (r = r.split("/")[1]), e = this.assetsPath + r
            } else e = this.path, e += t.u ? t.u : "", e += t.p;
            return e
        }, AnimationItem.prototype.getAssetData = function(t) {
        for (var e = 0, r = this.assets.length; e < r;) {
            if (t == this.assets[e].id) return this.assets[e];
            e += 1
        }
    }, AnimationItem.prototype.hide = function() {
        this.renderer.hide()
    }, AnimationItem.prototype.show = function() {
        this.renderer.show()
    }, AnimationItem.prototype.getDuration =
        function(t) {
            return t ? this.totalFrames : this.totalFrames / this.frameRate
        }, AnimationItem.prototype.trigger = function(t) {
        if (this._cbs && this._cbs[t]) switch (t) {
            case "enterFrame":
                this.triggerEvent(t, new BMEnterFrameEvent(t, this.currentFrame, this.totalFrames, this.frameModifier));
                break;
            case "loopComplete":
                this.triggerEvent(t, new BMCompleteLoopEvent(t, this.loop, this.playCount, this.frameMult));
                break;
            case "complete":
                this.triggerEvent(t, new BMCompleteEvent(t, this.frameMult));
                break;
            case "segmentStart":
                this.triggerEvent(t,
                    new BMSegmentStartEvent(t, this.firstFrame, this.totalFrames));
                break;
            case "destroy":
                this.triggerEvent(t, new BMDestroyEvent(t, this));
                break;
            default:
                this.triggerEvent(t)
        }
        "enterFrame" === t && this.onEnterFrame && this.onEnterFrame.call(this, new BMEnterFrameEvent(t, this.currentFrame, this.totalFrames, this.frameMult)), "loopComplete" === t && this.onLoopComplete && this.onLoopComplete.call(this, new BMCompleteLoopEvent(t, this.loop, this.playCount, this.frameMult)), "complete" === t && this.onComplete && this.onComplete.call(this,
            new BMCompleteEvent(t, this.frameMult)), "segmentStart" === t && this.onSegmentStart && this.onSegmentStart.call(this, new BMSegmentStartEvent(t, this.firstFrame, this.totalFrames)), "destroy" === t && this.onDestroy && this.onDestroy.call(this, new BMDestroyEvent(t, this))
    }, AnimationItem.prototype.triggerRenderFrameError = function(t) {
        var e = new BMRenderFrameErrorEvent(t, this.currentFrame);
        this.triggerEvent("error", e), this.onError && this.onError.call(this, e)
    }, AnimationItem.prototype.triggerConfigError = function(t) {
        var e =
            new BMConfigErrorEvent(t, this.currentFrame);
        this.triggerEvent("error", e), this.onError && this.onError.call(this, e)
    };
    var Expressions = (zW = {}, zW.initExpressions = function(t) {
            var e = 0,
                r = [];

            function i() {
                var t, e = r.length;
                for (t = 0; t < e; t += 1) r[t].release();
                r.length = 0
            }
            t.renderer.compInterface = CompExpressionInterface(t.renderer), t.renderer.globalData.projectInterface.registerComposition(t.renderer), t.renderer.globalData.pushExpression = function() {
                e += 1
            }, t.renderer.globalData.popExpression = function() {
                0 == (e -= 1) && i()
            },
                t.renderer.globalData.registerExpressionProperty = function(t) {
                    -1 === r.indexOf(t) && r.push(t)
                }
        }, zW),
        zW;
    expressionsPlugin = Expressions;
    var ExpressionManager = function() {
            var ob = {},
                Math = BMMath,
                window = null,
                document = null;

            function $bm_isInstanceOfArray(t) {
                return t.constructor === Array || t.constructor === Float32Array
            }

            function isNumerable(t, e) {
                return "number" === t || "boolean" === t || "string" === t || e instanceof Number
            }

            function $bm_neg(t) {
                var e = typeof t;
                if ("number" === e || "boolean" === e || t instanceof Number) return -t;
                if ($bm_isInstanceOfArray(t)) {
                    var r,
                        i = t.length,
                        s = [];
                    for (r = 0; r < i; r += 1) s[r] = -t[r];
                    return s
                }
                return t.propType ? t.v : void 0
            }
            var easeInBez = BezierFactory.getBezierEasing(.333, 0, .833, .833, "easeIn")
                    .get,
                easeOutBez = BezierFactory.getBezierEasing(.167, .167, .667, 1, "easeOut")
                    .get,
                easeInOutBez = BezierFactory.getBezierEasing(.33, 0, .667, 1, "easeInOut")
                    .get;

            function sum(t, e) {
                var r = typeof t,
                    i = typeof e;
                if ("string" === r || "string" === i) return t + e;
                if (isNumerable(r, t) && isNumerable(i, e)) return t + e;
                if ($bm_isInstanceOfArray(t) && isNumerable(i, e)) return (t = t.slice(0))[0] =
                    t[0] + e, t;
                if (isNumerable(r, t) && $bm_isInstanceOfArray(e)) return (e = e.slice(0))[0] = t + e[0], e;
                if ($bm_isInstanceOfArray(t) && $bm_isInstanceOfArray(e)) {
                    for (var s = 0, a = t.length, n = e.length, o = []; s < a || s < n;)("number" == typeof t[s] || t[s] instanceof Number) && ("number" == typeof e[s] || e[s] instanceof Number) ? o[s] = t[s] + e[s] : o[s] = void 0 === e[s] ? t[s] : t[s] || e[s], s += 1;
                    return o
                }
                return 0
            }
            var add = sum;

            function sub(t, e) {
                var r = typeof t,
                    i = typeof e;
                if (isNumerable(r, t) && isNumerable(i, e)) return "string" === r && (t = parseInt(t)), "string" ===
                i && (e = parseInt(e)), t - e;
                if ($bm_isInstanceOfArray(t) && isNumerable(i, e)) return (t = t.slice(0))[0] = t[0] - e, t;
                if (isNumerable(r, t) && $bm_isInstanceOfArray(e)) return (e = e.slice(0))[0] = t - e[0], e;
                if ($bm_isInstanceOfArray(t) && $bm_isInstanceOfArray(e)) {
                    for (var s = 0, a = t.length, n = e.length, o = []; s < a || s < n;)("number" == typeof t[s] || t[s] instanceof Number) && ("number" == typeof e[s] || e[s] instanceof Number) ? o[s] = t[s] - e[s] : o[s] = void 0 === e[s] ? t[s] : t[s] || e[s], s += 1;
                    return o
                }
                return 0
            }

            function mul(t, e) {
                var r, i, s, a = typeof t,
                    n = typeof e;
                if (isNumerable(a, t) && isNumerable(n, e)) return t * e;
                if ($bm_isInstanceOfArray(t) && isNumerable(n, e)) {
                    for (s = t.length, r = createTypedArray("float32", s), i = 0; i < s; i += 1) r[i] = t[i] * e;
                    return r
                }
                if (isNumerable(a, t) && $bm_isInstanceOfArray(e)) {
                    for (s = e.length, r = createTypedArray("float32", s), i = 0; i < s; i += 1) r[i] = t * e[i];
                    return r
                }
                return 0
            }

            function div(t, e) {
                var r, i, s, a = typeof t,
                    n = typeof e;
                if (isNumerable(a, t) && isNumerable(n, e)) return t / e;
                if ($bm_isInstanceOfArray(t) && isNumerable(n, e)) {
                    for (s = t.length, r = createTypedArray("float32",
                        s), i = 0; i < s; i += 1) r[i] = t[i] / e;
                    return r
                }
                if (isNumerable(a, t) && $bm_isInstanceOfArray(e)) {
                    for (s = e.length, r = createTypedArray("float32", s), i = 0; i < s; i += 1) r[i] = t / e[i];
                    return r
                }
                return 0
            }

            function mod(t, e) {
                return "string" == typeof t && (t = parseInt(t)), "string" == typeof e && (e = parseInt(e)), t % e
            }
            var $bm_sum = sum,
                $bm_sub = sub,
                $bm_mul = mul,
                $bm_div = div,
                $bm_mod = mod;

            function clamp(t, e, r) {
                if (r < e) {
                    var i = r;
                    r = e, e = i
                }
                return Math.min(Math.max(t, e), r)
            }

            function radiansToDegrees(t) {
                return t / degToRads
            }
            var radians_to_degrees = radiansToDegrees;

            function degreesToRadians(t) {
                return t * degToRads
            }
            var degrees_to_radians = radiansToDegrees,
                helperLengthArray = [0, 0, 0, 0, 0, 0];

            function length(t, e) {
                if ("number" == typeof t || t instanceof Number) return e = e || 0, Math.abs(t - e);
                e || (e = helperLengthArray);
                var r, i = Math.min(t.length, e.length),
                    s = 0;
                for (r = 0; r < i; r += 1) s += Math.pow(e[r] - t[r], 2);
                return Math.sqrt(s)
            }

            function normalize(t) {
                return div(t, length(t))
            }

            function rgbToHsl(t) {
                var e, r, i = t[0],
                    s = t[1],
                    a = t[2],
                    n = Math.max(i, s, a),
                    o = Math.min(i, s, a),
                    h = (n + o) / 2;
                if (n == o) e = r = 0;
                else {
                    var l =
                        n - o;
                    switch (r = .5 < h ? l / (2 - n - o) : l / (n + o), n) {
                        case i:
                            e = (s - a) / l + (s < a ? 6 : 0);
                            break;
                        case s:
                            e = (a - i) / l + 2;
                            break;
                        case a:
                            e = (i - s) / l + 4
                    }
                    e /= 6
                }
                return [e, r, h, t[3]]
            }

            function hue2rgb(t, e, r) {
                return r < 0 && (r += 1), 1 < r && (r -= 1), r < 1 / 6 ? t + 6 * (e - t) * r : r < .5 ? e : r < 2 / 3 ? t + (e - t) * (2 / 3 - r) * 6 : t
            }

            function hslToRgb(t) {
                var e, r, i, s = t[0],
                    a = t[1],
                    n = t[2];
                if (0 === a) e = r = i = n;
                else {
                    var o = n < .5 ? n * (1 + a) : n + a - n * a,
                        h = 2 * n - o;
                    e = hue2rgb(h, o, s + 1 / 3), r = hue2rgb(h, o, s), i = hue2rgb(h, o, s - 1 / 3)
                }
                return [e, r, i, t[3]]
            }

            function linear(t, e, r, i, s) {
                if (void 0 !== i && void 0 !== s || (i = e, s = r, e = 0, r =
                    1), r < e) {
                    var a = r;
                    r = e, e = a
                }
                if (t <= e) return i;
                if (r <= t) return s;
                var n = r === e ? 0 : (t - e) / (r - e);
                if (!i.length) return i + (s - i) * n;
                var o, h = i.length,
                    l = createTypedArray("float32", h);
                for (o = 0; o < h; o += 1) l[o] = i[o] + (s[o] - i[o]) * n;
                return l
            }

            function random(t, e) {
                if (void 0 === e && (void 0 === t ? (t = 0, e = 1) : (e = t, t = void 0)), e.length) {
                    var r, i = e.length;
                    t || (t = createTypedArray("float32", i));
                    var s = createTypedArray("float32", i),
                        a = BMMath.random();
                    for (r = 0; r < i; r += 1) s[r] = t[r] + a * (e[r] - t[r]);
                    return s
                }
                return void 0 === t && (t = 0), t + BMMath.random() * (e -
                    t)
            }

            function createPath(t, e, r, i) {
                var s, a = t.length,
                    n = shape_pool.newElement();
                n.setPathData(!!i, a);
                var o, h, l = [0, 0];
                for (s = 0; s < a; s += 1) o = e && e[s] ? e[s] : l, h = r && r[s] ? r[s] : l, n.setTripleAt(t[s][0], t[s][1], h[0] + t[s][0], h[1] + t[s][1], o[0] + t[s][0], o[1] + t[s][1], s, !0);
                return n
            }

            function initiateExpression(elem, data, property) {
                var val = data.x,
                    needsVelocity = /velocity(?![\w\d])/.test(val),
                    _needsRandom = -1 !== val.indexOf("random"),
                    elemType = elem.data.ty,
                    transform, $bm_transform, content, effect, thisProperty = property;
                thisProperty.valueAtTime =
                    thisProperty.getValueAtTime, Object.defineProperty(thisProperty, "value", {
                    get: function() {
                        return thisProperty.v
                    }
                }), elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate, elem.comp.displayStartTime = 0;
                var inPoint = elem.data.ip / elem.comp.globalData.frameRate,
                    outPoint = elem.data.op / elem.comp.globalData.frameRate,
                    width = elem.data.sw ? elem.data.sw : 0,
                    height = elem.data.sh ? elem.data.sh : 0,
                    name = elem.data.nm,
                    loopIn, loop_in, loopOut, loop_out, smooth, toWorld, fromWorld, fromComp, toComp, fromCompToSurface, position, rotation,
                    anchorPoint, scale, thisLayer, thisComp, mask, valueAtTime, velocityAtTime, __expression_functions = [],
                    scoped_bm_rt;
                if (data.xf) {
                    var i, len = data.xf.length;
                    for (i = 0; i < len; i += 1) __expression_functions[i] = eval("(function(){ return " + data.xf[i] + "}())")
                }
                var expression_function = eval("[function _expression_function(){" + val + ";scoped_bm_rt=$bm_rt}]")[0],
                    numKeys = property.kf ? data.k.length : 0,
                    active = !this.data || !0 !== this.data.hd,
                    wiggle = function(t, e) {
                        var r, i, s = this.pv.length ? this.pv.length : 1,
                            a = createTypedArray("float32", s);
                        var n = Math.floor(5 * time);
                        for (i = r = 0; r < n;) {
                            for (i = 0; i < s; i += 1) a[i] += -e + 2 * e * BMMath.random();
                            r += 1
                        }
                        var o = 5 * time,
                            h = o - Math.floor(o),
                            l = createTypedArray("float32", s);
                        if (1 < s) {
                            for (i = 0; i < s; i += 1) l[i] = this.pv[i] + a[i] + (-e + 2 * e * BMMath.random()) * h;
                            return l
                        }
                        return this.pv + a[0] + (-e + 2 * e * BMMath.random()) * h
                    }.bind(this);

                function loopInDuration(t, e) {
                    return loopIn(t, e, !0)
                }

                function loopOutDuration(t, e) {
                    return loopOut(t, e, !0)
                }
                thisProperty.loopIn && (loopIn = thisProperty.loopIn.bind(thisProperty), loop_in = loopIn), thisProperty.loopOut &&
                (loopOut = thisProperty.loopOut.bind(thisProperty), loop_out = loopOut), thisProperty.smooth && (smooth = thisProperty.smooth.bind(thisProperty)), this.getValueAtTime && (valueAtTime = this.getValueAtTime.bind(this)), this.getVelocityAtTime && (velocityAtTime = this.getVelocityAtTime.bind(this));
                var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),
                    time, velocity, value, text, textIndex, textTotal, selectorValue;

                function lookAt(t, e) {
                    var r = [e[0] - t[0], e[1] - t[1], e[2] - t[2]],
                        i = Math.atan2(r[0],
                            Math.sqrt(r[1] * r[1] + r[2] * r[2])) / degToRads;
                    return [-Math.atan2(r[1], r[2]) / degToRads, i, 0]
                }

                function easeOut(t, e, r, i, s) {
                    return applyEase(easeOutBez, t, e, r, i, s)
                }

                function easeIn(t, e, r, i, s) {
                    return applyEase(easeInBez, t, e, r, i, s)
                }

                function ease(t, e, r, i, s) {
                    return applyEase(easeInOutBez, t, e, r, i, s)
                }

                function applyEase(t, e, r, i, s, a) {
                    void 0 === s ? (s = r, a = i) : e = (e - r) / (i - r);
                    var n = t(e = 1 < e ? 1 : e < 0 ? 0 : e);
                    if ($bm_isInstanceOfArray(s)) {
                        var o, h = s.length,
                            l = createTypedArray("float32", h);
                        for (o = 0; o < h; o += 1) l[o] = (a[o] - s[o]) * n + s[o];
                        return l
                    }
                    return (a -
                        s) * n + s
                }

                function nearestKey(t) {
                    var e, r, i, s = data.k.length;
                    if (data.k.length && "number" != typeof data.k[0])
                        if (r = -1, (t *= elem.comp.globalData.frameRate) < data.k[0].t) r = 1, i = data.k[0].t;
                        else {
                            for (e = 0; e < s - 1; e += 1) {
                                if (t === data.k[e].t) {
                                    r = e + 1, i = data.k[e].t;
                                    break
                                }
                                if (t > data.k[e].t && t < data.k[e + 1].t) {
                                    i = t - data.k[e].t > data.k[e + 1].t - t ? (r = e + 2, data.k[e + 1].t) : (r = e + 1, data.k[e].t);
                                    break
                                }
                            } - 1 === r && (r = e + 1, i = data.k[e].t)
                        }
                    else i = r = 0;
                    var a = {};
                    return a.index = r, a.time = i / elem.comp.globalData.frameRate, a
                }

                function key(t) {
                    var e, r, i;
                    if (!data.k.length ||
                        "number" == typeof data.k[0]) throw new Error("The property has no keyframe at index " + t);
                    t -= 1, e = {
                        time: data.k[t].t / elem.comp.globalData.frameRate,
                        value: []
                    };
                    var s = data.k[t].hasOwnProperty("s") ? data.k[t].s : data.k[t - 1].e;
                    for (i = s.length, r = 0; r < i; r += 1) e[r] = s[r], e.value[r] = s[r];
                    return e
                }

                function framesToTime(t, e) {
                    return e || (e = elem.comp.globalData.frameRate), t / e
                }

                function timeToFrames(t, e) {
                    return t || 0 === t || (t = time), e || (e = elem.comp.globalData.frameRate), t * e
                }

                function seedRandom(t) {
                    BMMath.seedrandom(randSeed + t)
                }

                function sourceRectAtTime() {
                    return elem.sourceRectAtTime()
                }

                function substring(t, e) {
                    return "string" == typeof value ? void 0 === e ? value.substring(t) : value.substring(t, e) : ""
                }

                function substr(t, e) {
                    return "string" == typeof value ? void 0 === e ? value.substr(t) : value.substr(t, e) : ""
                }
                var index = elem.data.ind,
                    hasParent = !(!elem.hierarchy || !elem.hierarchy.length),
                    parent, randSeed = Math.floor(1E6 * Math.random()),
                    globalData = elem.globalData;

                function executeExpression(t) {
                    return value = t, _needsRandom && seedRandom(randSeed), this.frameExpressionId ===
                    elem.globalData.frameId && "textSelector" !== this.propType ? value : ("textSelector" === this.propType && (textIndex = this.textIndex, textTotal = this.textTotal, selectorValue = this.selectorValue), thisLayer || (text = elem.layerInterface.text, thisLayer = elem.layerInterface, thisComp = elem.comp.compInterface, toWorld = thisLayer.toWorld.bind(thisLayer), fromWorld = thisLayer.fromWorld.bind(thisLayer), fromComp = thisLayer.fromComp.bind(thisLayer), toComp = thisLayer.toComp.bind(thisLayer), mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) :
                        null, fromCompToSurface = fromComp), transform || (transform = elem.layerInterface("ADBE Transform Group"), ($bm_transform = transform) && (anchorPoint = transform.anchorPoint)), 4 !== elemType || content || (content = thisLayer("ADBE Root Vectors Group")), effect || (effect = thisLayer(4)), (hasParent = !(!elem.hierarchy || !elem.hierarchy.length)) && !parent && (parent = elem.hierarchy[0].layerInterface), time = this.comp.renderedFrame / this.comp.globalData.frameRate, needsVelocity && (velocity = velocityAtTime(time)), expression_function(), this.frameExpressionId =
                        elem.globalData.frameId, "shape" === scoped_bm_rt.propType && (scoped_bm_rt = scoped_bm_rt.v), scoped_bm_rt)
                }
                return executeExpression
            }
            return ob.initiateExpression = initiateExpression, ob
        }(),
        expressionHelpers = {
            searchExpressions: function(t, e, r) {
                e.x && (r.k = !0, r.x = !0, r.initiateExpression = ExpressionManager.initiateExpression, r.effectsSequence.push(r.initiateExpression(t, e, r)
                    .bind(r)))
            },
            getSpeedAtTime: function(t) {
                var e = this.getValueAtTime(t),
                    r = this.getValueAtTime(t + -.01),
                    i = 0;
                if (e.length) {
                    var s;
                    for (s = 0; s < e.length; s +=
                        1) i += Math.pow(r[s] - e[s], 2);
                    i = 100 * Math.sqrt(i)
                } else i = 0;
                return i
            },
            getVelocityAtTime: function(t) {
                if (void 0 !== this.vel) return this.vel;
                var e, r, i = this.getValueAtTime(t),
                    s = this.getValueAtTime(t + -.001);
                if (i.length)
                    for (e = createTypedArray("float32", i.length), r = 0; r < i.length; r += 1) e[r] = (s[r] - i[r]) / -.001;
                else e = (s - i) / -.001;
                return e
            },
            getValueAtTime: function(t) {
                return t *= this.elem.globalData.frameRate, (t -= this.offsetTime) !== this._cachingAtTime.lastFrame && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame <
                t ? this._cachingAtTime.lastIndex : 0, this._cachingAtTime.value = this.interpolateValue(t, this._cachingAtTime), this._cachingAtTime.lastFrame = t), this._cachingAtTime.value
            },
            getStaticValueAtTime: function() {
                return this.pv
            },
            setGroupProperty: function(t) {
                this.propertyGroup = t
            }
        };
    ! function() {
        function o(t, e, r) {
            if (!this.k || !this.keyframes) return this.pv;
            t = t ? t.toLowerCase() : "";
            var i, s, a, n, o, h = this.comp.renderedFrame,
                l = this.keyframes,
                p = l[l.length - 1].t;
            if (h <= p) return this.pv;
            if (r ? s = p - (i = e ? Math.abs(p - elem.comp.globalData.frameRate *
                e) : Math.max(0, p - this.elem.data.ip)) : ((!e || e > l.length - 1) && (e = l.length - 1), i = p - (s = l[l.length - 1 - e].t)), "pingpong" === t) {
                if (Math.floor((h - s) / i) % 2 != 0) return this.getValueAtTime((i - (h - s) % i + s) / this.comp.globalData.frameRate, 0)
            } else {
                if ("offset" === t) {
                    var m = this.getValueAtTime(s / this.comp.globalData.frameRate, 0),
                        f = this.getValueAtTime(p / this.comp.globalData.frameRate, 0),
                        c = this.getValueAtTime(((h - s) % i + s) / this.comp.globalData.frameRate, 0),
                        d = Math.floor((h - s) / i);
                    if (this.pv.length) {
                        for (n = (o = new Array(m.length))
                            .length,
                                 a = 0; a < n; a += 1) o[a] = (f[a] - m[a]) * d + c[a];
                        return o
                    }
                    return (f - m) * d + c
                }
                if ("continue" === t) {
                    var u = this.getValueAtTime(p / this.comp.globalData.frameRate, 0),
                        y = this.getValueAtTime((p - .001) / this.comp.globalData.frameRate, 0);
                    if (this.pv.length) {
                        for (n = (o = new Array(u.length))
                            .length, a = 0; a < n; a += 1) o[a] = u[a] + (u[a] - y[a]) * ((h - p) / this.comp.globalData.frameRate) / 5E-4;
                        return o
                    }
                    return u + (h - p) / .001 * (u - y)
                }
            }
            return this.getValueAtTime(((h - s) % i + s) / this.comp.globalData.frameRate, 0)
        }

        function h(t, e, r) {
            if (!this.k) return this.pv;
            t = t ? t.toLowerCase() :
                "";
            var i, s, a, n, o, h = this.comp.renderedFrame,
                l = this.keyframes,
                p = l[0].t;
            if (p <= h) return this.pv;
            if (r ? s = p + (i = e ? Math.abs(elem.comp.globalData.frameRate * e) : Math.max(0, this.elem.data.op - p)) : ((!e || e > l.length - 1) && (e = l.length - 1), i = (s = l[e].t) - p), "pingpong" === t) {
                if (Math.floor((p - h) / i) % 2 == 0) return this.getValueAtTime(((p - h) % i + p) / this.comp.globalData.frameRate, 0)
            } else {
                if ("offset" === t) {
                    var m = this.getValueAtTime(p / this.comp.globalData.frameRate, 0),
                        f = this.getValueAtTime(s / this.comp.globalData.frameRate, 0),
                        c = this.getValueAtTime((i -
                            (p - h) % i + p) / this.comp.globalData.frameRate, 0),
                        d = Math.floor((p - h) / i) + 1;
                    if (this.pv.length) {
                        for (n = (o = new Array(m.length))
                            .length, a = 0; a < n; a += 1) o[a] = c[a] - (f[a] - m[a]) * d;
                        return o
                    }
                    return c - (f - m) * d
                }
                if ("continue" === t) {
                    var u = this.getValueAtTime(p / this.comp.globalData.frameRate, 0),
                        y = this.getValueAtTime((p + .001) / this.comp.globalData.frameRate, 0);
                    if (this.pv.length) {
                        for (n = (o = new Array(u.length))
                            .length, a = 0; a < n; a += 1) o[a] = u[a] + (u[a] - y[a]) * (p - h) / .001;
                        return o
                    }
                    return u + (u - y) * (p - h) / .001
                }
            }
            return this.getValueAtTime((i -
                (p - h) % i + p) / this.comp.globalData.frameRate, 0)
        }

        function l(t, e) {
            if (!this.k) return this.pv;
            if (t = .5 * (t || .4), (e = Math.floor(e || 5)) <= 1) return this.pv;
            var r, i, s = this.comp.renderedFrame / this.comp.globalData.frameRate,
                a = s - t,
                n = 1 < e ? (s + t - a) / (e - 1) : 1,
                o = 0,
                h = 0;
            for (r = this.pv.length ? createTypedArray("float32", this.pv.length) : 0; o < e;) {
                if (i = this.getValueAtTime(a + o * n), this.pv.length)
                    for (h = 0; h < this.pv.length; h += 1) r[h] += i[h];
                else r += i;
                o += 1
            }
            if (this.pv.length)
                for (h = 0; h < this.pv.length; h += 1) r[h] /= e;
            else r /= e;
            return r
        }
        var s = TransformPropertyFactory.getTransformProperty;
        TransformPropertyFactory.getTransformProperty = function(t, e, r) {
            var i = s(t, e, r);
            return i.dynamicProperties.length ? i.getValueAtTime = function(t) {
                console.warn("Transform at time not supported")
            }.bind(i) : i.getValueAtTime = function(t) {}.bind(i), i.setGroupProperty = expressionHelpers.setGroupProperty, i
        };
        var p = PropertyFactory.getProp;
        PropertyFactory.getProp = function(t, e, r, i, s) {
            var a = p(t, e, r, i, s);
            a.kf ? a.getValueAtTime = expressionHelpers.getValueAtTime.bind(a) : a.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(a),
                a.setGroupProperty = expressionHelpers.setGroupProperty, a.loopOut = o, a.loopIn = h, a.smooth = l, a.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(a), a.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(a), a.numKeys = 1 === e.a ? e.k.length : 0, a.propertyIndex = e.ix;
            var n = 0;
            return 0 !== r && (n = createTypedArray("float32", 1 === e.a ? e.k[0].s.length : e.k.length)), a._cachingAtTime = {
                lastFrame: initialDefaultFrame,
                lastIndex: 0,
                value: n
            }, expressionHelpers.searchExpressions(t, e, a), a.k && s.addDynamicProperty(a), a
        };
        var t =
                ShapePropertyFactory.getConstructorFunction(),
            e = ShapePropertyFactory.getKeyframedConstructorFunction();

        function r() {}
        r.prototype = {
            vertices: function(t, e) {
                this.k && this.getValue();
                var r = this.v;
                void 0 !== e && (r = this.getValueAtTime(e, 0));
                var i, s = r._length,
                    a = r[t],
                    n = r.v,
                    o = createSizedArray(s);
                for (i = 0; i < s; i += 1) o[i] = "i" === t || "o" === t ? [a[i][0] - n[i][0], a[i][1] - n[i][1]] : [a[i][0], a[i][1]];
                return o
            },
            points: function(t) {
                return this.vertices("v", t)
            },
            inTangents: function(t) {
                return this.vertices("i", t)
            },
            outTangents: function(t) {
                return this.vertices("o",
                    t)
            },
            isClosed: function() {
                return this.v.c
            },
            pointOnPath: function(t, e) {
                var r = this.v;
                void 0 !== e && (r = this.getValueAtTime(e, 0)), this._segmentsLength || (this._segmentsLength = bez.getSegmentsLength(r));
                for (var i, s = this._segmentsLength, a = s.lengths, n = s.totalLength * t, o = 0, h = a.length, l = 0; o < h;) {
                    if (l + a[o].addedLength > n) {
                        var p = o,
                            m = r.c && o === h - 1 ? 0 : o + 1,
                            f = (n - l) / a[o].addedLength;
                        i = bez.getPointInSegment(r.v[p], r.v[m], r.o[p], r.i[m], f, a[o]);
                        break
                    }
                    l += a[o].addedLength, o += 1
                }
                return i || (i = r.c ? [r.v[0][0], r.v[0][1]] : [r.v[r._length -
                1][0], r.v[r._length - 1][1]]), i
            },
            vectorOnPath: function(t, e, r) {
                t = 1 == t ? this.v.c ? 0 : .999 : t;
                var i = this.pointOnPath(t, e),
                    s = this.pointOnPath(t + .001, e),
                    a = s[0] - i[0],
                    n = s[1] - i[1],
                    o = Math.sqrt(Math.pow(a, 2) + Math.pow(n, 2));
                return 0 === o ? [0, 0] : "tangent" === r ? [a / o, n / o] : [-n / o, a / o]
            },
            tangentOnPath: function(t, e) {
                return this.vectorOnPath(t, e, "tangent")
            },
            normalOnPath: function(t, e) {
                return this.vectorOnPath(t, e, "normal")
            },
            setGroupProperty: expressionHelpers.setGroupProperty,
            getValueAtTime: expressionHelpers.getStaticValueAtTime
        },
            extendPrototype([r], t), extendPrototype([r], e), e.prototype.getValueAtTime = function(t) {
            return this._cachingAtTime || (this._cachingAtTime = {
                shapeValue: shape_pool.clone(this.pv),
                lastIndex: 0,
                lastTime: initialDefaultFrame
            }), t *= this.elem.globalData.frameRate, (t -= this.offsetTime) !== this._cachingAtTime.lastTime && (this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < t ? this._caching.lastIndex : 0, this._cachingAtTime.lastTime = t, this.interpolateShape(t, this._cachingAtTime.shapeValue, this._cachingAtTime)), this._cachingAtTime.shapeValue
        },
            e.prototype.initiateExpression = ExpressionManager.initiateExpression;
        var n = ShapePropertyFactory.getShapeProp;
        ShapePropertyFactory.getShapeProp = function(t, e, r, i, s) {
            var a = n(t, e, r, i, s);
            return a.propertyIndex = e.ix, a.lock = !1, 3 === r ? expressionHelpers.searchExpressions(t, e.pt, a) : 4 === r && expressionHelpers.searchExpressions(t, e.ks, a), a.k && t.addDynamicProperty(a), a
        }
    }(), TextProperty.prototype.getExpressionValue = function(t, e) {
        var r = this.calculateExpression(e);
        if (t.t === r) return t;
        var i = {};
        return this.copyData(i,
            t), i.t = r.toString(), i.__complete = !1, i
    }, TextProperty.prototype.searchProperty = function() {
        var t = this.searchKeyframes(),
            e = this.searchExpressions();
        return this.kf = t || e, this.kf
    }, TextProperty.prototype.searchExpressions = function() {
        if (this.data.d.x) return this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this), this.addEffect(this.getExpressionValue.bind(this)), !0
    };
    var ShapeExpressionInterface = function() {
            function m(t, e, r) {
                var i, s = [],
                    a = t ? t.length : 0;
                for (i = 0; i < a; i +=
                    1) "gr" == t[i].ty ? s.push(n(t[i], e[i], r)) : "fl" == t[i].ty ? s.push(o(t[i], e[i], r)) : "st" == t[i].ty ? s.push(h(t[i], e[i], r)) : "tm" == t[i].ty ? s.push(l(t[i], e[i], r)) : "tr" == t[i].ty || ("el" == t[i].ty ? s.push(p(t[i], e[i], r)) : "sr" == t[i].ty ? s.push(f(t[i], e[i], r)) : "sh" == t[i].ty ? s.push(y(t[i], e[i], r)) : "rc" == t[i].ty ? s.push(c(t[i], e[i], r)) : "rd" == t[i].ty ? s.push(d(t[i], e[i], r)) : "rp" == t[i].ty && s.push(u(t[i], e[i], r)));
                return s
            }

            function n(t, e, r) {
                var i = function(t) {
                    switch (t) {
                        case "ADBE Vectors Group":
                        case "Contents":
                        case 2:
                            return i.content;
                        default:
                            return i.transform
                    }
                };
                i.propertyGroup = function(t) {
                    return 1 === t ? i : r(t - 1)
                };
                var s, a, n, o, h, l = (s = t, a = e, n = i.propertyGroup, (h = function(t) {
                        for (var e = 0, r = o.length; e < r;) {
                            if (o[e]._name === t || o[e].mn === t || o[e].propertyIndex === t || o[e].ix === t || o[e].ind === t) return o[e];
                            e += 1
                        }
                        if ("number" == typeof t) return o[t - 1]
                    })
                        .propertyGroup = function(t) {
                        return 1 === t ? h : n(t - 1)
                    }, o = m(s.it, a.it, h.propertyGroup), h.numProperties = o.length, h.propertyIndex = s.cix, h._name = s.nm, h),
                    p = function(e, t, r) {
                        function i(t) {
                            return 1 == t ? s : r(--t)
                        }
                        t.transform.mProps.o.setGroupProperty(i),
                            t.transform.mProps.p.setGroupProperty(i), t.transform.mProps.a.setGroupProperty(i), t.transform.mProps.s.setGroupProperty(i), t.transform.mProps.r.setGroupProperty(i), t.transform.mProps.sk && (t.transform.mProps.sk.setGroupProperty(i), t.transform.mProps.sa.setGroupProperty(i));

                        function s(t) {
                            return e.a.ix === t || "Anchor Point" === t ? s.anchorPoint : e.o.ix === t || "Opacity" === t ? s.opacity : e.p.ix === t || "Position" === t ? s.position : e.r.ix === t || "Rotation" === t || "ADBE Vector Rotation" === t ? s.rotation : e.s.ix === t || "Scale" ===
                            t ? s.scale : e.sk && e.sk.ix === t || "Skew" === t ? s.skew : e.sa && e.sa.ix === t || "Skew Axis" === t ? s.skewAxis : void 0
                        }
                        return t.transform.op.setGroupProperty(i), Object.defineProperties(s, {
                            opacity: {
                                get: ExpressionPropertyInterface(t.transform.mProps.o)
                            },
                            position: {
                                get: ExpressionPropertyInterface(t.transform.mProps.p)
                            },
                            anchorPoint: {
                                get: ExpressionPropertyInterface(t.transform.mProps.a)
                            },
                            scale: {
                                get: ExpressionPropertyInterface(t.transform.mProps.s)
                            },
                            rotation: {
                                get: ExpressionPropertyInterface(t.transform.mProps.r)
                            },
                            skew: {
                                get: ExpressionPropertyInterface(t.transform.mProps.sk)
                            },
                            skewAxis: {
                                get: ExpressionPropertyInterface(t.transform.mProps.sa)
                            },
                            _name: {
                                value: e.nm
                            }
                        }), s.ty = "tr", s.mn = e.mn, s.propertyGroup = r, s
                    }(t.it[t.it.length - 1], e.it[e.it.length - 1], i.propertyGroup);
                return i.content = l, i.transform = p, Object.defineProperty(i, "_name", {
                    get: function() {
                        return t.nm
                    }
                }), i.numProperties = t.np, i.propertyIndex = t.ix, i.nm = t.nm, i.mn = t.mn, i
            }

            function o(t, e, r) {
                function i(t) {
                    return "Color" === t || "color" === t ? i.color : "Opacity" === t || "opacity" === t ? i.opacity : void 0
                }
                return Object.defineProperties(i, {
                    color: {
                        get: ExpressionPropertyInterface(e.c)
                    },
                    opacity: {
                        get: ExpressionPropertyInterface(e.o)
                    },
                    _name: {
                        value: t.nm
                    },
                    mn: {
                        value: t.mn
                    }
                }), e.c.setGroupProperty(r), e.o.setGroupProperty(r), i
            }

            function h(t, e, r) {
                function i(t) {
                    return 1 === t ? ob : r(t - 1)
                }

                function s(t) {
                    return 1 === t ? h : i(t - 1)
                }
                var a, n, o = t.d ? t.d.length : 0,
                    h = {};
                for (a = 0; a < o; a += 1) n = a, Object.defineProperty(h, t.d[n].nm, {
                    get: ExpressionPropertyInterface(e.d.dataProps[n].p)
                }), e.d.dataProps[a].p.setGroupProperty(s);

                function l(t) {
                    return "Color" === t || "color" === t ? l.color : "Opacity" === t || "opacity" === t ? l.opacity : "Stroke Width" ===
                    t || "stroke width" === t ? l.strokeWidth : void 0
                }
                return Object.defineProperties(l, {
                    color: {
                        get: ExpressionPropertyInterface(e.c)
                    },
                    opacity: {
                        get: ExpressionPropertyInterface(e.o)
                    },
                    strokeWidth: {
                        get: ExpressionPropertyInterface(e.w)
                    },
                    dash: {
                        get: function() {
                            return h
                        }
                    },
                    _name: {
                        value: t.nm
                    },
                    mn: {
                        value: t.mn
                    }
                }), e.c.setGroupProperty(i), e.o.setGroupProperty(i), e.w.setGroupProperty(i), l
            }

            function l(e, t, r) {
                function i(t) {
                    return 1 == t ? s : r(--t)
                }

                function s(t) {
                    return t === e.e.ix || "End" === t || "end" === t ? s.end : t === e.s.ix ? s.start : t === e.o.ix ?
                        s.offset : void 0
                }
                return s.propertyIndex = e.ix, t.s.setGroupProperty(i), t.e.setGroupProperty(i), t.o.setGroupProperty(i), s.propertyIndex = e.ix, s.propertyGroup = r, Object.defineProperties(s, {
                    start: {
                        get: ExpressionPropertyInterface(t.s)
                    },
                    end: {
                        get: ExpressionPropertyInterface(t.e)
                    },
                    offset: {
                        get: ExpressionPropertyInterface(t.o)
                    },
                    _name: {
                        value: e.nm
                    }
                }), s.mn = e.mn, s
            }

            function p(e, t, r) {
                function i(t) {
                    return 1 == t ? a : r(--t)
                }
                a.propertyIndex = e.ix;
                var s = "tm" === t.sh.ty ? t.sh.prop : t.sh;

                function a(t) {
                    return e.p.ix === t ? a.position :
                        e.s.ix === t ? a.size : void 0
                }
                return s.s.setGroupProperty(i), s.p.setGroupProperty(i), Object.defineProperties(a, {
                    size: {
                        get: ExpressionPropertyInterface(s.s)
                    },
                    position: {
                        get: ExpressionPropertyInterface(s.p)
                    },
                    _name: {
                        value: e.nm
                    }
                }), a.mn = e.mn, a
            }

            function f(e, t, r) {
                function i(t) {
                    return 1 == t ? a : r(--t)
                }
                var s = "tm" === t.sh.ty ? t.sh.prop : t.sh;

                function a(t) {
                    return e.p.ix === t ? a.position : e.r.ix === t ? a.rotation : e.pt.ix === t ? a.points : e.or.ix === t || "ADBE Vector Star Outer Radius" === t ? a.outerRadius : e.os.ix === t ? a.outerRoundness : !e.ir ||
                    e.ir.ix !== t && "ADBE Vector Star Inner Radius" !== t ? e.is && e.is.ix === t ? a.innerRoundness : void 0 : a.innerRadius
                }
                return a.propertyIndex = e.ix, s.or.setGroupProperty(i), s.os.setGroupProperty(i), s.pt.setGroupProperty(i), s.p.setGroupProperty(i), s.r.setGroupProperty(i), e.ir && (s.ir.setGroupProperty(i), s.is.setGroupProperty(i)), Object.defineProperties(a, {
                    position: {
                        get: ExpressionPropertyInterface(s.p)
                    },
                    rotation: {
                        get: ExpressionPropertyInterface(s.r)
                    },
                    points: {
                        get: ExpressionPropertyInterface(s.pt)
                    },
                    outerRadius: {
                        get: ExpressionPropertyInterface(s.or)
                    },
                    outerRoundness: {
                        get: ExpressionPropertyInterface(s.os)
                    },
                    innerRadius: {
                        get: ExpressionPropertyInterface(s.ir)
                    },
                    innerRoundness: {
                        get: ExpressionPropertyInterface(s.is)
                    },
                    _name: {
                        value: e.nm
                    }
                }), a.mn = e.mn, a
            }

            function c(e, t, r) {
                function i(t) {
                    return 1 == t ? a : r(--t)
                }
                var s = "tm" === t.sh.ty ? t.sh.prop : t.sh;

                function a(t) {
                    return e.p.ix === t ? a.position : e.r.ix === t ? a.roundness : e.s.ix === t || "Size" === t || "ADBE Vector Rect Size" === t ? a.size : void 0
                }
                return a.propertyIndex = e.ix, s.p.setGroupProperty(i), s.s.setGroupProperty(i), s.r.setGroupProperty(i),
                    Object.defineProperties(a, {
                        position: {
                            get: ExpressionPropertyInterface(s.p)
                        },
                        roundness: {
                            get: ExpressionPropertyInterface(s.r)
                        },
                        size: {
                            get: ExpressionPropertyInterface(s.s)
                        },
                        _name: {
                            value: e.nm
                        }
                    }), a.mn = e.mn, a
            }

            function d(e, t, r) {
                var i = t;

                function s(t) {
                    if (e.r.ix === t || "Round Corners 1" === t) return s.radius
                }
                return s.propertyIndex = e.ix, i.rd.setGroupProperty(function(t) {
                    return 1 == t ? s : r(--t)
                }), Object.defineProperties(s, {
                    radius: {
                        get: ExpressionPropertyInterface(i.rd)
                    },
                    _name: {
                        value: e.nm
                    }
                }), s.mn = e.mn, s
            }

            function u(e, t,
                       r) {
                function i(t) {
                    return 1 == t ? a : r(--t)
                }
                var s = t;

                function a(t) {
                    return e.c.ix === t || "Copies" === t ? a.copies : e.o.ix === t || "Offset" === t ? a.offset : void 0
                }
                return a.propertyIndex = e.ix, s.c.setGroupProperty(i), s.o.setGroupProperty(i), Object.defineProperties(a, {
                    copies: {
                        get: ExpressionPropertyInterface(s.c)
                    },
                    offset: {
                        get: ExpressionPropertyInterface(s.o)
                    },
                    _name: {
                        value: e.nm
                    }
                }), a.mn = e.mn, a
            }

            function y(t, e, r) {
                var i = e.sh;

                function s(t) {
                    if ("Shape" === t || "shape" === t || "Path" === t || "path" === t || "ADBE Vector Shape" === t || 2 === t) return s.path
                }
                return i.setGroupProperty(function(t) {
                    return 1 == t ? s : r(--t)
                }), Object.defineProperties(s, {
                    path: {
                        get: function() {
                            return i.k && i.getValue(), i
                        }
                    },
                    shape: {
                        get: function() {
                            return i.k && i.getValue(), i
                        }
                    },
                    _name: {
                        value: t.nm
                    },
                    ix: {
                        value: t.ix
                    },
                    propertyIndex: {
                        value: t.ix
                    },
                    mn: {
                        value: t.mn
                    }
                }), s
            }
            return function(t, e, r) {
                var i;

                function s(t) {
                    if ("number" == typeof t) return i[t - 1];
                    for (var e = 0, r = i.length; e < r;) {
                        if (i[e]._name === t) return i[e];
                        e += 1
                    }
                }
                return s.propertyGroup = r, i = m(t, e, s), s.numProperties = i.length, s
            }
        }(),
        TextExpressionInterface =
            function(e) {
                var r;

                function t() {}
                return Object.defineProperty(t, "sourceText", {
                    get: function() {
                        e.textProperty.getValue();
                        var t = e.textProperty.currentData.t;
                        return void 0 !== t && (e.textProperty.currentData.t = void 0, (r = new String(t))
                            .value = t || new String(t)), r
                    }
                }), t
            },
        LayerExpressionInterface = function() {
            function s(t, e) {
                var r = new Matrix;
                if (r.reset(), this._elem.finalTransform.mProp.applyToMatrix(r), this._elem.hierarchy && this._elem.hierarchy.length) {
                    var i, s = this._elem.hierarchy.length;
                    for (i = 0; i < s; i += 1) this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);
                    return r.applyToPointArray(t[0], t[1], t[2] || 0)
                }
                return r.applyToPointArray(t[0], t[1], t[2] || 0)
            }

            function a(t, e) {
                var r = new Matrix;
                if (r.reset(), this._elem.finalTransform.mProp.applyToMatrix(r), this._elem.hierarchy && this._elem.hierarchy.length) {
                    var i, s = this._elem.hierarchy.length;
                    for (i = 0; i < s; i += 1) this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);
                    return r.inversePoint(t)
                }
                return r.inversePoint(t)
            }

            function n(t) {
                var e = new Matrix;
                if (e.reset(), this._elem.finalTransform.mProp.applyToMatrix(e), this._elem.hierarchy &&
                this._elem.hierarchy.length) {
                    var r, i = this._elem.hierarchy.length;
                    for (r = 0; r < i; r += 1) this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);
                    return e.inversePoint(t)
                }
                return e.inversePoint(t)
            }

            function o() {
                return [1, 1, 1, 1]
            }
            return function(e) {
                var r;

                function i(t) {
                    switch (t) {
                        case "ADBE Root Vectors Group":
                        case "Contents":
                        case 2:
                            return i.shapeInterface;
                        case 1:
                        case 6:
                        case "Transform":
                        case "transform":
                        case "ADBE Transform Group":
                            return r;
                        case 4:
                        case "ADBE Effect Parade":
                        case "effects":
                        case "Effects":
                            return i.effect
                    }
                }
                i.toWorld = s, i.fromWorld = a, i.toComp = s, i.fromComp = n, i.sampleImage = o, i.sourceRectAtTime = e.sourceRectAtTime.bind(e);
                var t = getDescriptor(r = TransformExpressionInterface((i._elem = e)
                    .finalTransform.mProp), "anchorPoint");
                return Object.defineProperties(i, {
                    hasParent: {
                        get: function() {
                            return e.hierarchy.length
                        }
                    },
                    parent: {
                        get: function() {
                            return e.hierarchy[0].layerInterface
                        }
                    },
                    rotation: getDescriptor(r, "rotation"),
                    scale: getDescriptor(r, "scale"),
                    position: getDescriptor(r, "position"),
                    opacity: getDescriptor(r, "opacity"),
                    anchorPoint: t,
                    anchor_point: t,
                    transform: {
                        get: function() {
                            return r
                        }
                    },
                    active: {
                        get: function() {
                            return e.isInRange
                        }
                    }
                }), i.startTime = e.data.st, i.index = e.data.ind, i.source = e.data.refId, i.height = 0 === e.data.ty ? e.data.h : 100, i.width = 0 === e.data.ty ? e.data.w : 100, i.inPoint = e.data.ip / e.comp.globalData.frameRate, i.outPoint = e.data.op / e.comp.globalData.frameRate, i._name = e.data.nm, i.registerMaskInterface = function(t) {
                    i.mask = new MaskManagerInterface(t, e)
                }, i.registerEffectsInterface = function(t) {
                    i.effect = t
                }, i
            }
        }(),
        CompExpressionInterface =
            function(i) {
                function t(t) {
                    for (var e = 0, r = i.layers.length; e < r;) {
                        if (i.layers[e].nm === t || i.layers[e].ind === t) return i.elements[e].layerInterface;
                        e += 1
                    }
                    return null
                }
                return Object.defineProperty(t, "_name", {
                    value: i.data.nm
                }), (t.layer = t)
                    .pixelAspect = 1, t.height = i.data.h || i.globalData.compSize.h, t.width = i.data.w || i.globalData.compSize.w, t.pixelAspect = 1, t.frameDuration = 1 / i.globalData.frameRate, t.displayStartTime = 0, t.numLayers = i.layers.length, t
            },
        TransformExpressionInterface = function(t) {
            function e(t) {
                switch (t) {
                    case "scale":
                    case "Scale":
                    case "ADBE Scale":
                    case 6:
                        return e.scale;
                    case "rotation":
                    case "Rotation":
                    case "ADBE Rotation":
                    case "ADBE Rotate Z":
                    case 10:
                        return e.rotation;
                    case "ADBE Rotate X":
                        return e.xRotation;
                    case "ADBE Rotate Y":
                        return e.yRotation;
                    case "position":
                    case "Position":
                    case "ADBE Position":
                    case 2:
                        return e.position;
                    case "ADBE Position_0":
                        return e.xPosition;
                    case "ADBE Position_1":
                        return e.yPosition;
                    case "ADBE Position_2":
                        return e.zPosition;
                    case "anchorPoint":
                    case "AnchorPoint":
                    case "Anchor Point":
                    case "ADBE AnchorPoint":
                    case 1:
                        return e.anchorPoint;
                    case "opacity":
                    case "Opacity":
                    case 11:
                        return e.opacity
                }
            }
            if (Object.defineProperty(e, "rotation", {
                get: ExpressionPropertyInterface(t.r || t.rz)
            }), Object.defineProperty(e, "zRotation", {
                get: ExpressionPropertyInterface(t.rz || t.r)
            }), Object.defineProperty(e, "xRotation", {
                get: ExpressionPropertyInterface(t.rx)
            }), Object.defineProperty(e, "yRotation", {
                get: ExpressionPropertyInterface(t.ry)
            }), Object.defineProperty(e, "scale", {
                get: ExpressionPropertyInterface(t.s)
            }), t.p) var r = ExpressionPropertyInterface(t.p);
            return Object.defineProperty(e, "position", {
                get: function() {
                    return t.p ?
                        r() : [t.px.v, t.py.v, t.pz ? t.pz.v : 0]
                }
            }), Object.defineProperty(e, "xPosition", {
                get: ExpressionPropertyInterface(t.px)
            }), Object.defineProperty(e, "yPosition", {
                get: ExpressionPropertyInterface(t.py)
            }), Object.defineProperty(e, "zPosition", {
                get: ExpressionPropertyInterface(t.pz)
            }), Object.defineProperty(e, "anchorPoint", {
                get: ExpressionPropertyInterface(t.a)
            }), Object.defineProperty(e, "opacity", {
                get: ExpressionPropertyInterface(t.o)
            }), Object.defineProperty(e, "skew", {
                get: ExpressionPropertyInterface(t.sk)
            }), Object.defineProperty(e,
                "skewAxis", {
                    get: ExpressionPropertyInterface(t.sa)
                }), Object.defineProperty(e, "orientation", {
                get: ExpressionPropertyInterface(t.or)
            }), e
        },
        ProjectInterface = function() {
            function e(t) {
                this.compositions.push(t)
            }
            return function() {
                function t(t) {
                    for (var e = 0, r = this.compositions.length; e < r;) {
                        if (this.compositions[e].data && this.compositions[e].data.nm === t) return this.compositions[e].prepareFrame && this.compositions[e].data.xt && this.compositions[e].prepareFrame(this.currentFrame), this.compositions[e].compInterface;
                        e += 1
                    }
                }
                return t.compositions = [], t.currentFrame = 0, t.registerComposition = e, t
            }
        }(),
        EffectsExpressionInterface = function() {
            function l(s, t, e, r) {
                var i, a = [],
                    n = s.ef.length;
                for (i = 0; i < n; i += 1) 5 === s.ef[i].ty ? a.push(l(s.ef[i], t.effectElements[i], t.effectElements[i].propertyGroup, r)) : a.push(p(t.effectElements[i], s.ef[i].ty, r, o));

                function o(t) {
                    return 1 === t ? h : e(t - 1)
                }
                var h = function(t) {
                    for (var e = s.ef, r = 0, i = e.length; r < i;) {
                        if (t === e[r].nm || t === e[r].mn || t === e[r].ix) return 5 === e[r].ty ? a[r] : a[r]();
                        r += 1
                    }
                    return a[0]()
                };
                return h.propertyGroup =
                    o, "ADBE Color Control" === s.mn && Object.defineProperty(h, "color", {
                    get: function() {
                        return a[0]()
                    }
                }), Object.defineProperty(h, "numProperties", {
                    get: function() {
                        return s.np
                    }
                }), h.active = h.enabled = 0 !== s.en, h
            }

            function p(t, e, r, i) {
                var s = ExpressionPropertyInterface(t.p);
                return t.p.setGroupProperty && t.p.setGroupProperty(i),
                    function() {
                        return 10 === e ? r.comp.compInterface(t.p.v) : s()
                    }
            }
            return {
                createEffectsInterface: function(s, t) {
                    if (s.effectsManager) {
                        var e, a = [],
                            r = s.data.ef,
                            i = s.effectsManager.effectElements.length;
                        for (e =
                                 0; e < i; e += 1) a.push(l(r[e], s.effectsManager.effectElements[e], t, s));
                        return function(t) {
                            for (var e = s.data.ef || [], r = 0, i = e.length; r < i;) {
                                if (t === e[r].nm || t === e[r].mn || t === e[r].ix) return a[r];
                                r += 1
                            }
                        }
                    }
                }
            }
        }(),
        MaskManagerInterface = function() {
            function a(t, e) {
                this._mask = t, this._data = e
            }
            Object.defineProperty(a.prototype, "maskPath", {
                get: function() {
                    return this._mask.prop.k && this._mask.prop.getValue(), this._mask.prop
                }
            }), Object.defineProperty(a.prototype, "maskOpacity", {
                get: function() {
                    return this._mask.op.k && this._mask.op.getValue(),
                    100 * this._mask.op.v
                }
            });
            return function(e, t) {
                var r, i = createSizedArray(e.viewData.length),
                    s = e.viewData.length;
                for (r = 0; r < s; r += 1) i[r] = new a(e.viewData[r], e.masksProperties[r]);
                return function(t) {
                    for (r = 0; r < s;) {
                        if (e.masksProperties[r].nm === t) return i[r];
                        r += 1
                    }
                }
            }
        }(),
        ExpressionPropertyInterface = function() {
            var s = {
                    pv: 0,
                    v: 0,
                    mult: 1
                },
                n = {
                    pv: [0, 0, 0],
                    v: [0, 0, 0],
                    mult: 1
                };

            function o(i, s, a) {
                Object.defineProperty(i, "velocity", {
                    get: function() {
                        return s.getVelocityAtTime(s.comp.currentFrame)
                    }
                }), i.numKeys = s.keyframes ? s.keyframes.length :
                    0, i.key = function(t) {
                    if (i.numKeys) {
                        var e = "";
                        e = "s" in s.keyframes[t - 1] ? s.keyframes[t - 1].s : "e" in s.keyframes[t - 2] ? s.keyframes[t - 2].e : s.keyframes[t - 2].s;
                        var r = "unidimensional" === a ? new Number(e) : Object.assign({}, e);
                        return r.time = s.keyframes[t - 1].t / s.elem.comp.globalData.frameRate, r
                    }
                    return 0
                }, i.valueAtTime = s.getValueAtTime, i.speedAtTime = s.getSpeedAtTime, i.velocityAtTime = s.getVelocityAtTime, i.propertyGroup = s.propertyGroup
            }

            function e() {
                return s
            }
            return function(t) {
                return t ? "unidimensional" === t.propType ? function(t) {
                    t &&
                    "pv" in t || (t = s);
                    var e = 1 / t.mult,
                        r = t.pv * e,
                        i = new Number(r);
                    return i.value = r, o(i, t, "unidimensional"),
                        function() {
                            return t.k && t.getValue(), r = t.v * e, i.value !== r && ((i = new Number(r))
                                .value = r, o(i, t, "unidimensional")), i
                        }
                }(t) : function(e) {
                    e && "pv" in e || (e = n);
                    var r = 1 / e.mult,
                        i = e.pv.length,
                        s = createTypedArray("float32", i),
                        a = createTypedArray("float32", i);
                    return s.value = a, o(s, e, "multidimensional"),
                        function() {
                            e.k && e.getValue();
                            for (var t = 0; t < i; t += 1) s[t] = a[t] = e.v[t] * r;
                            return s
                        }
                }(t) : e
            }
        }(),
        h5, i5;

    function SliderEffect(t, e,
                          r) {
        this.p = PropertyFactory.getProp(e, t.v, 0, 0, r)
    }

    function AngleEffect(t, e, r) {
        this.p = PropertyFactory.getProp(e, t.v, 0, 0, r)
    }

    function ColorEffect(t, e, r) {
        this.p = PropertyFactory.getProp(e, t.v, 1, 0, r)
    }

    function PointEffect(t, e, r) {
        this.p = PropertyFactory.getProp(e, t.v, 1, 0, r)
    }

    function LayerIndexEffect(t, e, r) {
        this.p = PropertyFactory.getProp(e, t.v, 0, 0, r)
    }

    function MaskIndexEffect(t, e, r) {
        this.p = PropertyFactory.getProp(e, t.v, 0, 0, r)
    }

    function CheckboxEffect(t, e, r) {
        this.p = PropertyFactory.getProp(e, t.v, 0, 0, r)
    }

    function NoValueEffect() {
        this.p = {}
    }

    function EffectsManager() {}

    function EffectsManager(t, e) {
        var r = t.ef || [];
        this.effectElements = [];
        var i, s, a = r.length;
        for (i = 0; i < a; i++) s = new GroupEffect(r[i], e), this.effectElements.push(s)
    }

    function GroupEffect(t, e) {
        this.init(t, e)
    }
    h5 = function() {
        function r(t, e) {
            return this.textIndex = t + 1, this.textTotal = e, this.v = this.getValue() * this.mult, this.v
        }
        return function(t, e) {
            this.pv = 1, this.comp = t.comp, this.elem = t, this.mult = .01, this.propType = "textSelector", this.textTotal = e.totalChars, this.selectorValue = 100, this.lastValue = [1, 1, 1], this.k = !0, this.x = !0, this.getValue = ExpressionManager.initiateExpression.bind(this)(t, e, this), this.getMult = r, this.getVelocityAtTime = expressionHelpers.getVelocityAtTime, this.kf ? this.getValueAtTime = expressionHelpers.getValueAtTime.bind(this) : this.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(this), this.setGroupProperty = expressionHelpers.setGroupProperty
        }
    }(), i5 = TextSelectorProp.getTextSelectorProp, TextSelectorProp.getTextSelectorProp = function(t, e, r) {
        return 1 === e.t ? new h5(t, e, r) : i5(t,
            e, r)
    }, extendPrototype([DynamicPropertyContainer], GroupEffect), GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties, GroupEffect.prototype.init = function(t, e) {
        this.data = t, this.effectElements = [], this.initDynamicPropertyContainer(e);
        var r, i, s = this.data.ef.length,
            a = this.data.ef;
        for (r = 0; r < s; r += 1) {
            switch (i = null, a[r].ty) {
                case 0:
                    i = new SliderEffect(a[r], e, this);
                    break;
                case 1:
                    i = new AngleEffect(a[r], e, this);
                    break;
                case 2:
                    i = new ColorEffect(a[r], e, this);
                    break;
                case 3:
                    i = new PointEffect(a[r],
                        e, this);
                    break;
                case 4:
                case 7:
                    i = new CheckboxEffect(a[r], e, this);
                    break;
                case 10:
                    i = new LayerIndexEffect(a[r], e, this);
                    break;
                case 11:
                    i = new MaskIndexEffect(a[r], e, this);
                    break;
                case 5:
                    i = new EffectsManager(a[r], e, this);
                    break;
                default:
                    i = new NoValueEffect(a[r], e, this)
            }
            i && this.effectElements.push(i)
        }
    };
    var lottiejs = {},
        _isFrozen = !1;

    function setLocationHref(t) {
        locationHref = t
    }

    function searchAnimations() {
        !0 === standalone ? animationManager.searchAnimations(animationData, standalone, renderer) : animationManager.searchAnimations()
    }

    function setSubframeRendering(t) {
        subframeEnabled = t
    }

    function loadAnimation(t) {
        return !0 === standalone && (t.animationData = JSON.parse(animationData)), animationManager.loadAnimation(t)
    }

    function setQuality(t) {
        if ("string" == typeof t) switch (t) {
            case "high":
                defaultCurveSegments = 200;
                break;
            case "medium":
                defaultCurveSegments = 50;
                break;
            case "low":
                defaultCurveSegments = 10
        } else !isNaN(t) && 1 < t && (defaultCurveSegments = t);
        roundValues(!(50 <= defaultCurveSegments))
    }

    function inBrowser() {
        return "undefined" != typeof navigator
    }

    function installPlugin(t,
                           e) {
        "expressions" === t && (expressionsPlugin = e)
    }

    function getFactory(t) {
        switch (t) {
            case "propertyFactory":
                return PropertyFactory;
            case "shapePropertyFactory":
                return ShapePropertyFactory;
            case "matrix":
                return Matrix
        }
    }

    function checkReady() {
        "complete" === document.readyState && (clearInterval(readyStateCheckInterval), searchAnimations())
    }

    function getQueryVariable(t) {
        for (var e = queryString.split("&"), r = 0; r < e.length; r++) {
            var i = e[r].split("=");
            if (decodeURIComponent(i[0]) == t) return decodeURIComponent(i[1])
        }
    }
    lottiejs.play =
        animationManager.play, lottiejs.pause = animationManager.pause, lottiejs.setLocationHref = setLocationHref, lottiejs.togglePause = animationManager.togglePause, lottiejs.setSpeed = animationManager.setSpeed, lottiejs.setDirection = animationManager.setDirection, lottiejs.stop = animationManager.stop, lottiejs.searchAnimations = searchAnimations, lottiejs.registerAnimation = animationManager.registerAnimation, lottiejs.loadAnimation = loadAnimation, lottiejs.setSubframeRendering = setSubframeRendering, lottiejs.resize = animationManager.resize,
        lottiejs.goToAndStop = animationManager.goToAndStop, lottiejs.destroy = animationManager.destroy, lottiejs.setQuality = setQuality, lottiejs.inBrowser = inBrowser, lottiejs.installPlugin = installPlugin, lottiejs.freeze = animationManager.freeze, lottiejs.unfreeze = animationManager.unfreeze, lottiejs.getRegisteredAnimations = animationManager.getRegisteredAnimations, lottiejs.__getFactory = getFactory, lottiejs.version = "5.5.8";
    var standalone = "__[STANDALONE]__",
        animationData = "__[ANIMATIONDATA]__",
        renderer = "";
    if (standalone) {
        var scripts =
                document.getElementsByTagName("script"),
            index = scripts.length - 1,
            myScript = scripts[index] || {
                src: ""
            },
            queryString = myScript.src.replace(/^[^\?]+\??/, "");
        renderer = getQueryVariable("renderer")
    }
    var readyStateCheckInterval = setInterval(checkReady, 100);
    return lottiejs
}, "function" == typeof define && define.amd ? define(function() {
    return b(a)
}) : "object" == typeof module && module.exports ? module.exports = b(a) : (a.lottie = b(a), a.bodymovin = a.lottie));
! function(a) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = a();
    else if ("function" == typeof define && define.amd) define([], a);
    else {
        var b;
        b = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, b.Raven = a()
    }
}(function() {
    return function a(b, c, d) {
        function e(g, h) {
            if (!c[g]) {
                if (!b[g]) {
                    var i = "function" == typeof require && require;
                    if (!h && i) return i(g, !0);
                    if (f) return f(g, !0);
                    var j = new Error("Cannot find module '" + g + "'");
                    throw j.code = "MODULE_NOT_FOUND",
                        j;
                }
                var k = c[g] = {
                    exports: {}
                };
                b[g][0].call(k.exports, function(a) {
                    var c = b[g][1][a];
                    return e(c ? c : a)
                }, k, k.exports, a, b, c, d)
            }
            return c[g].exports
        }
        for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]);
        return e
    }({
        1: [function(a, b, c) {
            function d(a) {
                this.name = "RavenConfigError", this.message = a
            }
            d.prototype = new Error, d.prototype.constructor = d, b.exports = d
        }, {}],
        2: [function(a, b, c) {
            var d = a(5),
                e = function(a, b, c) {
                    var e = a[b],
                        f = a;
                    if (b in a) {
                        var g = "warn" === b ? "warning" : b;
                        a[b] = function() {
                            var a = [].slice.call(arguments),
                                h = d.safeJoin(a, " "),
                                i = {
                                    level: g,
                                    logger: "console",
                                    extra: {
                                        arguments: a
                                    }
                                };
                            "assert" === b ? a[0] === !1 && (h = "Assertion failed: " + (d.safeJoin(a.slice(1), " ") || "console.assert"), i.extra.arguments = a.slice(1), c && c(h, i)) : c && c(h, i), e && Function.prototype.apply.call(e, f, a)
                        }
                    }
                };
            b.exports = {
                wrapMethod: e
            }
        }, {
            5: 5
        }],
        3: [function(a, b, c) {
            (function(c) {
                function d() {
                    return +new Date
                }

                function e(a, b) {
                    return s(b) ? function(c) {
                        return b(c, a)
                    } : b
                }

                function f() {
                    this.a = !("object" != typeof JSON || !JSON.stringify), this.b = !r(S), this.c = !r(T), this.d =
                        null, this.e = null, this.f = null, this.g = null, this.h = null, this.i = null, this.j = {}, this.k = {
                        release: R.SENTRY_RELEASE && R.SENTRY_RELEASE.id,
                        logger: "javascript",
                        ignoreErrors: [],
                        ignoreUrls: [],
                        whitelistUrls: [],
                        includePaths: [],
                        headers: null,
                        collectWindowErrors: !0,
                        captureUnhandledRejections: !0,
                        maxMessageLength: 0,
                        maxUrlLength: 250,
                        stackTraceLimit: 50,
                        autoBreadcrumbs: !0,
                        instrument: !0,
                        sampleRate: 1,
                        sanitizeKeys: []
                    }, this.l = {
                        method: "POST",
                        keepalive: !0,
                        referrerPolicy: K() ? "origin" : ""
                    }, this.m = 0, this.n = !1, this.o = Error.stackTraceLimit,
                        this.p = R.console || {}, this.q = {}, this.r = [], this.s = d(), this.t = [], this.u = [], this.v = null, this.w = R.location, this.x = this.w && this.w.href, this.y();
                    for (var a in this.p) this.q[a] = this.p[a]
                }
                var g = a(6),
                    h = a(7),
                    i = a(8),
                    j = a(1),
                    k = a(5),
                    l = k.isErrorEvent,
                    m = k.isDOMError,
                    n = k.isDOMException,
                    o = k.isError,
                    p = k.isObject,
                    q = k.isPlainObject,
                    r = k.isUndefined,
                    s = k.isFunction,
                    t = k.isString,
                    u = k.isArray,
                    v = k.isEmptyObject,
                    w = k.each,
                    x = k.objectMerge,
                    y = k.truncate,
                    z = k.objectFrozen,
                    A = k.hasKey,
                    B = k.joinRegExp,
                    C = k.urlencode,
                    D = k.uuid4,
                    E = k.htmlTreeAsString,
                    F = k.isSameException,
                    G = k.isSameStacktrace,
                    H = k.parseUrl,
                    I = k.fill,
                    J = k.supportsFetch,
                    K = k.supportsReferrerPolicy,
                    L = k.serializeKeysForMessage,
                    M = k.serializeException,
                    N = k.sanitize,
                    O = a(2)
                        .wrapMethod,
                    P = "source protocol user pass host port path".split(" "),
                    Q = /^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,
                    R = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
                    S = R.document,
                    T = R.navigator;
                f.prototype = {
                    VERSION: "3.26.4",
                    debug: !1,
                    TraceKit: g,
                    config: function(a, b) {
                        var c =
                            this;
                        if (c.g) return this.z("error", "Error: Raven has already been configured"), c;
                        if (!a) return c;
                        var d = c.k;
                        b && w(b, function(a, b) {
                            "tags" === a || "extra" === a || "user" === a ? c.j[a] = b : d[a] = b
                        }), c.setDSN(a), d.ignoreErrors.push(/^Script error\.?$/), d.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/), d.ignoreErrors = B(d.ignoreErrors), d.ignoreUrls = !!d.ignoreUrls.length && B(d.ignoreUrls), d.whitelistUrls = !!d.whitelistUrls.length && B(d.whitelistUrls), d.includePaths = B(d.includePaths), d.maxBreadcrumbs = Math.max(0,
                            Math.min(d.maxBreadcrumbs || 100, 100));
                        var e = {
                                xhr: !0,
                                console: !0,
                                dom: !0,
                                location: !0,
                                sentry: !0
                            },
                            f = d.autoBreadcrumbs;
                        "[object Object]" === {}.toString.call(f) ? f = x(e, f) : f !== !1 && (f = e), d.autoBreadcrumbs = f;
                        var h = {
                                tryCatch: !0
                            },
                            i = d.instrument;
                        return "[object Object]" === {}.toString.call(i) ? i = x(h, i) : i !== !1 && (i = h), d.instrument = i, g.collectWindowErrors = !!d.collectWindowErrors, c
                    },
                    install: function() {
                        var a = this;
                        return a.isSetup() && !a.n && (g.report.subscribe(function() {
                            a.A.apply(a, arguments)
                        }), a.k.captureUnhandledRejections &&
                        a.B(), a.C(), a.k.instrument && a.k.instrument.tryCatch && a.D(), a.k.autoBreadcrumbs && a.E(), a.F(), a.n = !0), Error.stackTraceLimit = a.k.stackTraceLimit, this
                    },
                    setDSN: function(a) {
                        var b = this,
                            c = b.G(a),
                            d = c.path.lastIndexOf("/"),
                            e = c.path.substr(1, d);
                        b.H = a, b.h = c.user, b.I = c.pass && c.pass.substr(1), b.i = c.path.substr(d + 1), b.g = b.J(c), b.K = b.g + "/" + e + "api/" + b.i + "/store/", this.y()
                    },
                    context: function(a, b, c) {
                        return s(a) && (c = b || [], b = a, a = {}), this.wrap(a, b)
                            .apply(this, c)
                    },
                    wrap: function(a, b, c) {
                        function d() {
                            var d = [],
                                f = arguments.length,
                                g = !a || a && a.deep !== !1;
                            for (c && s(c) && c.apply(this, arguments); f--;) d[f] = g ? e.wrap(a, arguments[f]) : arguments[f];
                            try {
                                return b.apply(this, d)
                            } catch (h$11) {
                                throw e.L(), e.captureException(h$11, a), h$11;
                            }
                        }
                        var e = this;
                        if (r(b) && !s(a)) return a;
                        if (s(a) && (b = a, a = void 0), !s(b)) return b;
                        try {
                            if (b.M) return b;
                            if (b.N) return b.N
                        } catch (f$12) {
                            return b
                        }
                        for (var g in b) A(b, g) && (d[g] = b[g]);
                        return d.prototype = b.prototype, b.N = d, d.M = !0, d.O = b, d
                    },
                    uninstall: function() {
                        return g.report.uninstall(), this.P(), this.Q(), this.R(), this.S(), Error.stackTraceLimit =
                            this.o, this.n = !1, this
                    },
                    T: function(a) {
                        this.z("debug", "Raven caught unhandled promise rejection:", a), this.captureException(a.reason, {
                            mechanism: {
                                type: "onunhandledrejection",
                                handled: !1
                            }
                        })
                    },
                    B: function() {
                        return this.T = this.T.bind(this), R.addEventListener && R.addEventListener("unhandledrejection", this.T), this
                    },
                    P: function() {
                        return R.removeEventListener && R.removeEventListener("unhandledrejection", this.T), this
                    },
                    captureException: function(a, b) {
                        if (b = x({
                            trimHeadFrames: 0
                        }, b ? b : {}), l(a) && a.error) a = a.error;
                        else {
                            if (m(a) ||
                                n(a)) {
                                var c = a.name || (m(a) ? "DOMError" : "DOMException"),
                                    d = a.message ? c + ": " + a.message : c;
                                return this.captureMessage(d, x(b, {
                                    stacktrace: !0,
                                    trimHeadFrames: b.trimHeadFrames + 1
                                }))
                            }
                            if (o(a)) a = a;
                            else {
                                if (!q(a)) return this.captureMessage(a, x(b, {
                                    stacktrace: !0,
                                    trimHeadFrames: b.trimHeadFrames + 1
                                }));
                                b = this.U(b, a), a = new Error(b.message)
                            }
                        }
                        this.d = a;
                        try {
                            var e = g.computeStackTrace(a);
                            this.V(e, b)
                        } catch (f$13) {
                            if (a !== f$13) throw f$13;
                        }
                        return this
                    },
                    U: function(a, b) {
                        var c = Object.keys(b)
                                .sort(),
                            d = x(a, {
                                message: "Non-Error exception captured with keys: " +
                                    L(c),
                                fingerprint: [i(c)],
                                extra: a.extra || {}
                            });
                        return d.extra.W = M(b), d
                    },
                    captureMessage: function(a, b) {
                        if (!this.k.ignoreErrors.test || !this.k.ignoreErrors.test(a)) {
                            b = b || {}, a += "";
                            var c, d = x({
                                message: a
                            }, b);
                            try {
                                throw new Error(a);
                            } catch (e$14) {
                                c = e$14
                            }
                            c.name = null;
                            var f = g.computeStackTrace(c),
                                h = u(f.stack) && f.stack[1];
                            h && "Raven.captureException" === h.func && (h = f.stack[2]);
                            var i = h && h.url || "";
                            if ((!this.k.ignoreUrls.test || !this.k.ignoreUrls.test(i)) && (!this.k.whitelistUrls.test || this.k.whitelistUrls.test(i))) {
                                if (this.k.stacktrace ||
                                    b.stacktrace || "" === d.message) {
                                    d.fingerprint = null == d.fingerprint ? a : d.fingerprint, b = x({
                                        trimHeadFrames: 0
                                    }, b), b.trimHeadFrames += 1;
                                    var j = this.X(f, b);
                                    d.stacktrace = {
                                        frames: j.reverse()
                                    }
                                }
                                return d.fingerprint && (d.fingerprint = u(d.fingerprint) ? d.fingerprint : [d.fingerprint]), this.Y(d), this
                            }
                        }
                    },
                    captureBreadcrumb: function(a) {
                        var b = x({
                            timestamp: d() / 1E3
                        }, a);
                        if (s(this.k.breadcrumbCallback)) {
                            var c = this.k.breadcrumbCallback(b);
                            if (p(c) && !v(c)) b = c;
                            else if (c === !1) return this
                        }
                        return this.u.push(b), this.u.length > this.k.maxBreadcrumbs &&
                        this.u.shift(), this
                    },
                    addPlugin: function(a) {
                        var b = [].slice.call(arguments, 1);
                        return this.r.push([a, b]), this.n && this.F(), this
                    },
                    setUserContext: function(a) {
                        return this.j.user = a, this
                    },
                    setExtraContext: function(a) {
                        return this.Z("extra", a), this
                    },
                    setTagsContext: function(a) {
                        return this.Z("tags", a), this
                    },
                    clearContext: function() {
                        return this.j = {}, this
                    },
                    getContext: function() {
                        return JSON.parse(h(this.j))
                    },
                    setEnvironment: function(a) {
                        return this.k.environment = a, this
                    },
                    setRelease: function(a) {
                        return this.k.release = a,
                            this
                    },
                    setDataCallback: function(a) {
                        var b = this.k.dataCallback;
                        return this.k.dataCallback = e(b, a), this
                    },
                    setBreadcrumbCallback: function(a) {
                        var b = this.k.breadcrumbCallback;
                        return this.k.breadcrumbCallback = e(b, a), this
                    },
                    setShouldSendCallback: function(a) {
                        var b = this.k.shouldSendCallback;
                        return this.k.shouldSendCallback = e(b, a), this
                    },
                    setTransport: function(a) {
                        return this.k.transport = a, this
                    },
                    lastException: function() {
                        return this.d
                    },
                    lastEventId: function() {
                        return this.f
                    },
                    isSetup: function() {
                        return !!this.a && (!!this.g ||
                            (this.ravenNotConfiguredError || (this.ravenNotConfiguredError = !0, this.z("error", "Error: Raven has not been configured.")), !1))
                    },
                    afterLoad: function() {
                        var a = R.RavenConfig;
                        a && this.config(a.dsn, a.config)
                            .install()
                    },
                    showReportDialog: function(a) {
                        if (S) {
                            if (a = Object.assign({
                                eventId: this.lastEventId(),
                                dsn: this.H,
                                user: this.j.user || {}
                            }, a), !a.eventId) throw new j("Missing eventId");
                            if (!a.dsn) throw new j("Missing DSN");
                            var b = encodeURIComponent,
                                c = [];
                            for (var d in a)
                                if ("user" === d) {
                                    var e = a.user;
                                    e.name && c.push("name=" +
                                        b(e.name)), e.email && c.push("email=" + b(e.email))
                                } else c.push(b(d) + "=" + b(a[d]));
                            var f = this.J(this.G(a.dsn)),
                                g = S.createElement("script");
                            g.async = !0, g.src = f + "/api/embed/error-page/?" + c.join("&"), (S.head || S.body)
                                .appendChild(g)
                        }
                    },
                    L: function() {
                        var a = this;
                        this.m += 1, setTimeout(function() {
                            a.m -= 1
                        })
                    },
                    $: function(a, b) {
                        var c, d;
                        if (this.b) {
                            b = b || {}, a = "raven" + a.substr(0, 1)
                                .toUpperCase() + a.substr(1), S.createEvent ? (c = S.createEvent("HTMLEvents"), c.initEvent(a, !0, !0)) : (c = S.createEventObject(), c.eventType = a);
                            for (d in b) A(b,
                                d) && (c[d] = b[d]);
                            if (S.createEvent) S.dispatchEvent(c);
                            else try {
                                S.fireEvent("on" + c.eventType.toLowerCase(), c)
                            } catch (e$15) {}
                        }
                    },
                    _: function(a) {
                        var b = this;
                        return function(c) {
                            if (b.aa = null, b.v !== c) {
                                b.v = c;
                                var d;
                                try {
                                    d = E(c.target)
                                } catch (e$16) {
                                    d = "<unknown>"
                                }
                                b.captureBreadcrumb({
                                    category: "ui." + a,
                                    message: d
                                })
                            }
                        }
                    },
                    ba: function() {
                        var a = this,
                            b = 1E3;
                        return function(c) {
                            var d;
                            try {
                                d = c.target
                            } catch (e$17) {
                                return
                            }
                            var f = d && d.tagName;
                            if (f && ("INPUT" === f || "TEXTAREA" === f || d.isContentEditable)) {
                                var g = a.aa;
                                g || a._("input")(c), clearTimeout(g),
                                    a.aa = setTimeout(function() {
                                        a.aa = null
                                    }, b)
                            }
                        }
                    },
                    ca: function(a, b) {
                        var c = H(this.w.href),
                            d = H(b),
                            e = H(a);
                        this.x = b, c.protocol === d.protocol && c.host === d.host && (b = d.relative), c.protocol === e.protocol && c.host === e.host && (a = e.relative), this.captureBreadcrumb({
                            category: "navigation",
                            data: {
                                to: b,
                                from: a
                            }
                        })
                    },
                    C: function() {
                        var a = this;
                        a.da = Function.prototype.toString, Function.prototype.toString = function() {
                            return "function" == typeof this && this.M ? a.da.apply(this.O, arguments) : a.da.apply(this, arguments)
                        }
                    },
                    Q: function() {
                        this.da &&
                        (Function.prototype.toString = this.da)
                    },
                    D: function() {
                        function a(a) {
                            return function(b, d) {
                                for (var e = new Array(arguments.length), f = 0; f < e.length; ++f) e[f] = arguments[f];
                                var g = e[0];
                                return s(g) && (e[0] = c.wrap({
                                    mechanism: {
                                        type: "instrument",
                                        data: {
                                            "function": a.name || "<anonymous>"
                                        }
                                    }
                                }, g)), a.apply ? a.apply(this, e) : a(e[0], e[1])
                            }
                        }

                        function b(a) {
                            var b = R[a] && R[a].prototype;
                            b && b.hasOwnProperty && b.hasOwnProperty("addEventListener") && (I(b, "addEventListener", function(b) {
                                return function(d, f, g, h) {
                                    try {
                                        f && f.handleEvent && (f.handleEvent =
                                            c.wrap({
                                                mechanism: {
                                                    type: "instrument",
                                                    data: {
                                                        target: a,
                                                        "function": "handleEvent",
                                                        handler: f && f.name || "<anonymous>"
                                                    }
                                                }
                                            }, f.handleEvent))
                                    } catch (i$18) {}
                                    var j, k, l;
                                    return e && e.dom && ("EventTarget" === a || "Node" === a) && (k = c._("click"), l = c.ba(), j = function(a) {
                                        if (a) {
                                            var b;
                                            try {
                                                b = a.type
                                            } catch (c$19) {
                                                return
                                            }
                                            return "click" === b ? k(a) : "keypress" === b ? l(a) : void 0
                                        }
                                    }), b.call(this, d, c.wrap({
                                        mechanism: {
                                            type: "instrument",
                                            data: {
                                                target: a,
                                                "function": "addEventListener",
                                                handler: f && f.name || "<anonymous>"
                                            }
                                        }
                                    }, f, j), g, h)
                                }
                            }, d), I(b, "removeEventListener",
                                function(a) {
                                    return function(b, c, d, e) {
                                        try {
                                            c = c && (c.N ? c.N : c)
                                        } catch (f$20) {}
                                        return a.call(this, b, c, d, e)
                                    }
                                }, d))
                        }
                        var c = this,
                            d = c.t,
                            e = this.k.autoBreadcrumbs;
                        I(R, "setTimeout", a, d), I(R, "setInterval", a, d), R.requestAnimationFrame && I(R, "requestAnimationFrame", function(a) {
                            return function(b) {
                                return a(c.wrap({
                                    mechanism: {
                                        type: "instrument",
                                        data: {
                                            "function": "requestAnimationFrame",
                                            handler: a && a.name || "<anonymous>"
                                        }
                                    }
                                }, b))
                            }
                        }, d);
                        for (var f = ["EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode",
                            "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload"
                        ], g = 0; g < f.length; g++) b(f[g])
                    },
                    E: function() {
                        function a(a, c) {
                            a in c && s(c[a]) && I(c, a, function(c) {
                                return b.wrap({
                                    mechanism: {
                                        type: "instrument",
                                        data: {
                                            "function": a,
                                            handler: c && c.name || "<anonymous>"
                                        }
                                    }
                                }, c)
                            })
                        }
                        var b = this,
                            c = this.k.autoBreadcrumbs,
                            d = b.t;
                        if (c.xhr && "XMLHttpRequest" in R) {
                            var e = R.XMLHttpRequest && R.XMLHttpRequest.prototype;
                            I(e, "open", function(a) {
                                return function(c, d) {
                                    return t(d) && d.indexOf(b.h) === -1 && (this.ea = {
                                        method: c,
                                        url: d,
                                        status_code: null
                                    }), a.apply(this, arguments)
                                }
                            }, d), I(e, "send", function(c) {
                                return function() {
                                    function d() {
                                        if (e.ea && 4 === e.readyState) {
                                            try {
                                                e.ea.status_code = e.status
                                            } catch (a$21) {}
                                            b.captureBreadcrumb({
                                                type: "http",
                                                category: "xhr",
                                                data: e.ea
                                            })
                                        }
                                    }
                                    for (var e = this, f = ["onload", "onerror", "onprogress"], g = 0; g < f.length; g++) a(f[g], e);
                                    return "onreadystatechange" in e && s(e.onreadystatechange) ? I(e, "onreadystatechange", function(a) {
                                        return b.wrap({
                                            mechanism: {
                                                type: "instrument",
                                                data: {
                                                    "function": "onreadystatechange",
                                                    handler: a && a.name || "<anonymous>"
                                                }
                                            }
                                        }, a, d)
                                    }) : e.onreadystatechange = d, c.apply(this, arguments)
                                }
                            }, d)
                        }
                        c.xhr && J() && I(R, "fetch", function(a) {
                            return function() {
                                for (var c = new Array(arguments.length), d = 0; d < c.length; ++d) c[d] = arguments[d];
                                var e, f = c[0],
                                    g = "GET";
                                if ("string" == typeof f ? e = f : "Request" in R && f instanceof R.Request ? (e = f.url, f.method && (g = f.method)) : e = "" + f, e.indexOf(b.h) !== -1) return a.apply(this, c);
                                c[1] && c[1].method && (g = c[1].method);
                                var h = {
                                    method: g,
                                    url: e,
                                    status_code: null
                                };
                                return a.apply(this, c)
                                    .then(function(a) {
                                        return h.status_code = a.status, b.captureBreadcrumb({
                                            type: "http",
                                            category: "fetch",
                                            data: h
                                        }), a
                                    })["catch"](function(a) {
                                    throw b.captureBreadcrumb({
                                        type: "http",
                                        category: "fetch",
                                        data: h,
                                        level: "error"
                                    }), a;
                                })
                            }
                        }, d), c.dom && this.b && (S.addEventListener ?
                            (S.addEventListener("click", b._("click"), !1), S.addEventListener("keypress", b.ba(), !1)) : S.attachEvent && (S.attachEvent("onclick", b._("click")), S.attachEvent("onkeypress", b.ba())));
                        var f = R.chrome,
                            g = f && f.app && f.app.runtime,
                            h = !g && R.history && R.history.pushState && R.history.replaceState;
                        if (c.location && h) {
                            var i = R.onpopstate;
                            R.onpopstate = function() {
                                var a = b.w.href;
                                if (b.ca(b.x, a), i) return i.apply(this, arguments)
                            };
                            var j = function(a) {
                                return function() {
                                    var c = arguments.length > 2 ? arguments[2] : void 0;
                                    return c && b.ca(b.x,
                                        c + ""), a.apply(this, arguments)
                                }
                            };
                            I(R.history, "pushState", j, d), I(R.history, "replaceState", j, d)
                        }
                        if (c.console && "console" in R && console.log) {
                            var k = function(a, c) {
                                b.captureBreadcrumb({
                                    message: a,
                                    level: c.level,
                                    category: "console"
                                })
                            };
                            w(["debug", "info", "warn", "error", "log"], function(a, b) {
                                O(console, b, k)
                            })
                        }
                    },
                    R: function() {
                        for (var a; this.t.length;) {
                            a = this.t.shift();
                            var b = a[0],
                                c = a[1],
                                d = a[2];
                            b[c] = d
                        }
                    },
                    S: function() {
                        for (var a in this.q) this.p[a] = this.q[a]
                    },
                    F: function() {
                        var a = this;
                        w(this.r, function(b, c) {
                            var d = c[0],
                                e = c[1];
                            d.apply(a, [a].concat(e))
                        })
                    },
                    G: function(a) {
                        var b = Q.exec(a),
                            c = {},
                            d = 7;
                        try {
                            for (; d--;) c[P[d]] = b[d] || ""
                        } catch (e$22) {
                            throw new j("Invalid DSN: " + a);
                        }
                        if (c.pass && !this.k.allowSecretKey) throw new j("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");
                        return c
                    },
                    J: function(a) {
                        var b = "//" + a.host + (a.port ? ":" + a.port : "");
                        return a.protocol && (b = a.protocol + ":" + b), b
                    },
                    A: function(a, b) {
                        b = b || {}, b.mechanism = b.mechanism || {
                            type: "onerror",
                            handled: !1
                        }, this.m || this.V(a, b)
                    },
                    V: function(a, b) {
                        var c = this.X(a,
                            b);
                        this.$("handle", {
                            stackInfo: a,
                            options: b
                        }), this.fa(a.name, a.message, a.url, a.lineno, c, b)
                    },
                    X: function(a, b) {
                        var c = this,
                            d = [];
                        if (a.stack && a.stack.length && (w(a.stack, function(b, e) {
                            var f = c.ga(e, a.url);
                            f && d.push(f)
                        }), b && b.trimHeadFrames))
                            for (var e = 0; e < b.trimHeadFrames && e < d.length; e++) d[e].in_app = !1;
                        return d = d.slice(0, this.k.stackTraceLimit)
                    },
                    ga: function(a, b) {
                        var c = {
                            filename: a.url,
                            lineno: a.line,
                            colno: a.column,
                            "function": a.func || "?"
                        };
                        return a.url || (c.filename = b), c.in_app = !(this.k.includePaths.test && !this.k.includePaths.test(c.filename) ||
                            /(Raven|TraceKit)\./.test(c["function"]) || /raven\.(min\.)?js$/.test(c.filename)), c
                    },
                    fa: function(a, b, c, d, e, f) {
                        var g = (a ? a + ": " : "") + (b || "");
                        if (!this.k.ignoreErrors.test || !this.k.ignoreErrors.test(b) && !this.k.ignoreErrors.test(g)) {
                            var h;
                            if (e && e.length ? (c = e[0].filename || c, e.reverse(), h = {
                                frames: e
                            }) : c && (h = {
                                frames: [{
                                    filename: c,
                                    lineno: d,
                                    in_app: !0
                                }]
                            }), (!this.k.ignoreUrls.test || !this.k.ignoreUrls.test(c)) && (!this.k.whitelistUrls.test || this.k.whitelistUrls.test(c))) {
                                var i = x({
                                        exception: {
                                            values: [{
                                                type: a,
                                                value: b,
                                                stacktrace: h
                                            }]
                                        },
                                        transaction: c
                                    }, f),
                                    j = i.exception.values[0];
                                null == j.type && "" === j.value && (j.value = "Unrecoverable error caught"), !i.exception.mechanism && i.mechanism && (i.exception.mechanism = i.mechanism, delete i.mechanism), i.exception.mechanism = x({
                                    type: "generic",
                                    handled: !0
                                }, i.exception.mechanism || {}), this.Y(i)
                            }
                        }
                    },
                    ha: function(a) {
                        var b = this.k.maxMessageLength;
                        if (a.message && (a.message = y(a.message, b)), a.exception) {
                            var c = a.exception.values[0];
                            c.value = y(c.value, b)
                        }
                        var d = a.request;
                        return d && (d.url && (d.url = y(d.url,
                            this.k.maxUrlLength)), d.Referer && (d.Referer = y(d.Referer, this.k.maxUrlLength))), a.breadcrumbs && a.breadcrumbs.values && this.ia(a.breadcrumbs), a
                    },
                    ia: function(a) {
                        for (var b, c, d, e = ["to", "from", "url"], f = 0; f < a.values.length; ++f)
                            if (c = a.values[f], c.hasOwnProperty("data") && p(c.data) && !z(c.data)) {
                                d = x({}, c.data);
                                for (var g = 0; g < e.length; ++g) b = e[g], d.hasOwnProperty(b) && d[b] && (d[b] = y(d[b], this.k.maxUrlLength));
                                a.values[f].data = d
                            }
                    },
                    ja: function() {
                        if (this.c || this.b) {
                            var a = {};
                            return this.c && T.userAgent && (a.headers = {
                                "User-Agent": T.userAgent
                            }),
                            R.location && R.location.href && (a.url = R.location.href), this.b && S.referrer && (a.headers || (a.headers = {}), a.headers.Referer = S.referrer), a
                        }
                    },
                    y: function() {
                        this.ka = 0, this.la = null
                    },
                    ma: function() {
                        return this.ka && d() - this.la < this.ka
                    },
                    na: function(a) {
                        var b = this.e;
                        return !(!b || a.message !== b.message || a.transaction !== b.transaction) && (a.stacktrace || b.stacktrace ? G(a.stacktrace, b.stacktrace) : !a.exception && !b.exception || F(a.exception, b.exception))
                    },
                    oa: function(a) {
                        if (!this.ma()) {
                            var b = a.status;
                            if (400 === b || 401 === b || 429 ===
                                b) {
                                var c;
                                try {
                                    c = J() ? a.headers.get("Retry-After") : a.getResponseHeader("Retry-After"), c = 1E3 * parseInt(c, 10)
                                } catch (e$23) {}
                                this.ka = c ? c : 2 * this.ka || 1E3, this.la = d()
                            }
                        }
                    },
                    Y: function(a) {
                        var b = this.k,
                            c = {
                                project: this.i,
                                logger: b.logger,
                                platform: "javascript"
                            },
                            e = this.ja();
                        if (e && (c.request = e), a.trimHeadFrames && delete a.trimHeadFrames, a = x(c, a), a.tags = x(x({}, this.j.tags), a.tags), a.extra = x(x({}, this.j.extra), a.extra), a.extra["session:duration"] = d() - this.s, this.u && this.u.length > 0 && (a.breadcrumbs = {
                            values: [].slice.call(this.u,
                                0)
                        }), this.j.user && (a.user = this.j.user), b.environment && (a.environment = b.environment), b.release && (a.release = b.release), b.serverName && (a.server_name = b.serverName), a = this.pa(a), Object.keys(a)
                            .forEach(function(b) {
                                (null == a[b] || "" === a[b] || v(a[b])) && delete a[b]
                            }), s(b.dataCallback) && (a = b.dataCallback(a) || a), a && !v(a) && (!s(b.shouldSendCallback) || b.shouldSendCallback(a))) return this.ma() ? void this.z("warn", "Raven dropped error due to backoff: ", a) : void("number" == typeof b.sampleRate ? Math.random() < b.sampleRate &&
                            this.qa(a) : this.qa(a))
                    },
                    pa: function(a) {
                        return N(a, this.k.sanitizeKeys)
                    },
                    ra: function() {
                        return D()
                    },
                    qa: function(a, b) {
                        var c = this,
                            d = this.k;
                        if (this.isSetup()) {
                            if (a = this.ha(a), !this.k.allowDuplicates && this.na(a)) return void this.z("warn", "Raven dropped repeat event: ", a);
                            this.f = a.event_id || (a.event_id = this.ra()), this.e = a, this.z("debug", "Raven about to send:", a);
                            var e = {
                                sentry_version: "7",
                                sentry_client: "raven-js/" + this.VERSION,
                                sentry_key: this.h
                            };
                            this.I && (e.sentry_secret = this.I);
                            var f = a.exception && a.exception.values[0];
                            this.k.autoBreadcrumbs && this.k.autoBreadcrumbs.sentry && this.captureBreadcrumb({
                                category: "sentry",
                                message: f ? (f.type ? f.type + ": " : "") + f.value : a.message,
                                event_id: a.event_id,
                                level: a.level || "error"
                            });
                            var g = this.K;
                            (d.transport || this._makeRequest)
                                .call(this, {
                                    url: g,
                                    auth: e,
                                    data: a,
                                    options: d,
                                    onSuccess: function() {
                                        c.y(), c.$("success", {
                                            data: a,
                                            src: g
                                        }), b && b()
                                    },
                                    onError: function(d) {
                                        c.z("error", "Raven transport failed to send: ", d), d.request && c.oa(d.request), c.$("failure", {
                                            data: a,
                                            src: g
                                        }), d = d || new Error("Raven send failed (no additional details provided)"),
                                        b && b(d)
                                    }
                                })
                        }
                    },
                    _makeRequest: function(a) {
                        var b = a.url + "?" + C(a.auth),
                            c = null,
                            d = {};
                        if (a.options.headers && (c = this.sa(a.options.headers)), a.options.fetchParameters && (d = this.sa(a.options.fetchParameters)), J()) {
                            d.body = h(a.data);
                            var e = x({}, this.l),
                                f = x(e, d);
                            return c && (f.headers = c), R.fetch(b, f)
                                .then(function(b) {
                                    if (b.ok) a.onSuccess && a.onSuccess();
                                    else {
                                        var c = new Error("Sentry error code: " + b.status);
                                        c.request = b, a.onError && a.onError(c)
                                    }
                                })["catch"](function() {
                                a.onError && a.onError(new Error("Sentry error code: network unavailable"))
                            })
                        }
                        var g =
                            R.XMLHttpRequest && new R.XMLHttpRequest;
                        if (g) {
                            var i = "withCredentials" in g || "undefined" != typeof XDomainRequest;
                            i && ("withCredentials" in g ? g.onreadystatechange = function() {
                                if (4 === g.readyState)
                                    if (200 === g.status) a.onSuccess && a.onSuccess();
                                    else if (a.onError) {
                                        var b = new Error("Sentry error code: " + g.status);
                                        b.request = g, a.onError(b)
                                    }
                            } : (g = new XDomainRequest, b = b.replace(/^https?:/, ""), a.onSuccess && (g.onload = a.onSuccess), a.onError && (g.onerror = function() {
                                var b = new Error("Sentry error code: XDomainRequest");
                                b.request =
                                    g, a.onError(b)
                            })), g.open("POST", b), c && w(c, function(a, b) {
                                g.setRequestHeader(a, b)
                            }), g.send(h(a.data)))
                        }
                    },
                    sa: function(a) {
                        var b = {};
                        for (var c in a)
                            if (a.hasOwnProperty(c)) {
                                var d = a[c];
                                b[c] = "function" == typeof d ? d() : d
                            } return b
                    },
                    z: function(a) {
                        this.q[a] && (this.debug || this.k.debug) && Function.prototype.apply.call(this.q[a], this.p, [].slice.call(arguments, 1))
                    },
                    Z: function(a, b) {
                        r(b) ? delete this.j[a] : this.j[a] = x(this.j[a] || {}, b)
                    }
                }, f.prototype.setUser = f.prototype.setUserContext, f.prototype.setReleaseContext = f.prototype.setRelease,
                    b.exports = f
            })
                .call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            1: 1,
            2: 2,
            5: 5,
            6: 6,
            7: 7,
            8: 8
        }],
        4: [function(a, b, c) {
            (function(c) {
                var d = a(3),
                    e = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
                    f = e.Raven,
                    g = new d;
                g.noConflict = function() {
                    return e.Raven = f, g
                }, g.afterLoad(), b.exports = g, b.exports.Client = d
            })
                .call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            3: 3
        }],
        5: [function(a, b, c) {
            (function(c) {
                function d(a) {
                    return "object" == typeof a && null !== a
                }

                function e(a) {
                    switch (Object.prototype.toString.call(a)) {
                        case "[object Error]":
                            return !0;
                        case "[object Exception]":
                            return !0;
                        case "[object DOMException]":
                            return !0;
                        default:
                            return a instanceof Error
                    }
                }

                function f(a) {
                    return "[object ErrorEvent]" === Object.prototype.toString.call(a)
                }

                function g(a) {
                    return "[object DOMError]" === Object.prototype.toString.call(a)
                }

                function h(a) {
                    return "[object DOMException]" === Object.prototype.toString.call(a)
                }

                function i(a) {
                    return void 0 === a
                }

                function j(a) {
                    return "function" == typeof a
                }

                function k(a) {
                    return "[object Object]" === Object.prototype.toString.call(a)
                }

                function l(a) {
                    return "[object String]" === Object.prototype.toString.call(a)
                }

                function m(a) {
                    return "[object Array]" === Object.prototype.toString.call(a)
                }

                function n(a) {
                    if (!k(a)) return !1;
                    for (var b in a)
                        if (a.hasOwnProperty(b)) return !1;
                    return !0
                }

                function o() {
                    try {
                        return new ErrorEvent(""), !0
                    } catch (a$24) {
                        return !1
                    }
                }

                function p() {
                    try {
                        return new DOMError(""), !0
                    } catch (a$25) {
                        return !1
                    }
                }

                function q() {
                    try {
                        return new DOMException(""), !0
                    } catch (a$26) {
                        return !1
                    }
                }

                function r() {
                    if (!("fetch" in U)) return !1;
                    try {
                        return new Headers, new Request(""), new Response, !0
                    } catch (a$27) {
                        return !1
                    }
                }

                function s() {
                    if (!r()) return !1;
                    try {
                        return new Request("pickleRick", {
                            referrerPolicy: "origin"
                        }), !0
                    } catch (a$28) {
                        return !1
                    }
                }

                function t() {
                    return "function" == typeof PromiseRejectionEvent
                }

                function u(a) {
                    function b(b, c) {
                        var d = a(b) || b;
                        return c ? c(d) || d : d
                    }
                    return b
                }

                function v(a, b) {
                    var c, d;
                    if (i(a.length))
                        for (c in a) z(a, c) && b.call(null,
                            c, a[c]);
                    else if (d = a.length)
                        for (c = 0; c < d; c++) b.call(null, c, a[c])
                }

                function w(a, b) {
                    return b ? (v(b, function(b, c) {
                        a[b] = c
                    }), a) : a
                }

                function x(a) {
                    return !!Object.isFrozen && Object.isFrozen(a)
                }

                function y(a, b) {
                    if ("number" != typeof b) throw new Error("2nd argument to `truncate` function should be a number");
                    return "string" != typeof a || 0 === b ? a : a.length <= b ? a : a.substr(0, b) + "\u2026"
                }

                function z(a, b) {
                    return Object.prototype.hasOwnProperty.call(a, b)
                }

                function A(a) {
                    for (var b, c = [], d = 0, e = a.length; d < e; d++) b = a[d], l(b) ? c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,
                        "\\$1")) : b && b.source && c.push(b.source);
                    return new RegExp(c.join("|"), "i")
                }

                function B(a) {
                    var b = [];
                    return v(a, function(a, c) {
                        b.push(encodeURIComponent(a) + "=" + encodeURIComponent(c))
                    }), b.join("&")
                }

                function C(a) {
                    if ("string" != typeof a) return {};
                    var b = a.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),
                        c = b[6] || "",
                        d = b[8] || "";
                    return {
                        protocol: b[2],
                        host: b[4],
                        path: b[5],
                        relative: b[5] + c + d
                    }
                }

                function D() {
                    var a = U.crypto || U.msCrypto;
                    if (!i(a) && a.getRandomValues) {
                        var b = new Uint16Array(8);
                        a.getRandomValues(b),
                            b[3] = 4095 & b[3] | 16384, b[4] = 16383 & b[4] | 32768;
                        var c = function(a) {
                            for (var b = a.toString(16); b.length < 4;) b = "0" + b;
                            return b
                        };
                        return c(b[0]) + c(b[1]) + c(b[2]) + c(b[3]) + c(b[4]) + c(b[5]) + c(b[6]) + c(b[7])
                    }
                    return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(a) {
                        var b = 16 * Math.random() | 0,
                            c = "x" === a ? b : 3 & b | 8;
                        return c.toString(16)
                    })
                }

                function E(a) {
                    for (var b, c = 5, d = 80, e = [], f = 0, g = 0, h = " > ", i = h.length; a && f++ < c && (b = F(a), !("html" === b || f > 1 && g + e.length * i + b.length >= d));) e.push(b), g += b.length, a = a.parentNode;
                    return e.reverse()
                        .join(h)
                }

                function F(a) {
                    var b, c, d, e, f, g = [];
                    if (!a || !a.tagName) return "";
                    if (g.push(a.tagName.toLowerCase()), a.id && g.push("#" + a.id), b = a.className, b && l(b))
                        for (c = b.split(/\s+/), f = 0; f < c.length; f++) g.push("." + c[f]);
                    var h = ["type", "name", "title", "alt"];
                    for (f = 0; f < h.length; f++) d = h[f], e = a.getAttribute(d), e && g.push("[" + d + '="' + e + '"]');
                    return g.join("")
                }

                function G(a, b) {
                    return !!(!!a ^ !!b)
                }

                function H(a, b) {
                    return i(a) && i(b)
                }

                function I(a, b) {
                    return !G(a, b) && (a = a.values[0], b = b.values[0], a.type === b.type && a.value === b.value && (!H(a.stacktrace,
                        b.stacktrace) && J(a.stacktrace, b.stacktrace)))
                }

                function J(a, b) {
                    if (G(a, b)) return !1;
                    var c = a.frames,
                        d = b.frames;
                    if (void 0 === c || void 0 === d) return !1;
                    if (c.length !== d.length) return !1;
                    for (var e, f, g = 0; g < c.length; g++)
                        if (e = c[g], f = d[g], e.filename !== f.filename || e.lineno !== f.lineno || e.colno !== f.colno || e["function"] !== f["function"]) return !1;
                    return !0
                }

                function K(a, b, c, d) {
                    if (null != a) {
                        var e = a[b];
                        a[b] = c(e), a[b].M = !0, a[b].O = e, d && d.push([a, b, e])
                    }
                }

                function L(a, b) {
                    if (!m(a)) return "";
                    for (var c = [], d = 0; d < a.length; d++) try {
                        c.push(String(a[d]))
                    } catch (e$29) {
                        c.push("[value cannot be serialized]")
                    }
                    return c.join(b)
                }

                function M(a) {
                    return ~-encodeURI(a)
                        .split(/%..|./)
                        .length
                }

                function N(a) {
                    return M(JSON.stringify(a))
                }

                function O(a) {
                    if ("string" == typeof a) {
                        var b = 40;
                        return y(a, b)
                    }
                    if ("number" == typeof a || "boolean" == typeof a || "undefined" == typeof a) return a;
                    var c = Object.prototype.toString.call(a);
                    return "[object Object]" === c ? "[Object]" : "[object Array]" === c ? "[Array]" : "[object Function]" === c ? a.name ? "[Function: " + a.name + "]" : "[Function]" : a
                }

                function P(a, b) {
                    return 0 === b ? O(a) : k(a) ? Object.keys(a)
                        .reduce(function(c, d) {
                            return c[d] =
                                P(a[d], b - 1), c
                        }, {}) : Array.isArray(a) ? a.map(function(a) {
                        return P(a, b - 1)
                    }) : O(a)
                }

                function Q(a, b, c) {
                    if (!k(a)) return a;
                    b = "number" != typeof b ? V : b, c = "number" != typeof b ? W : c;
                    var d = P(a, b);
                    return N(T(d)) > c ? Q(a, b - 1) : d
                }

                function R(a, b) {
                    if ("number" == typeof a || "string" == typeof a) return a.toString();
                    if (!Array.isArray(a)) return "";
                    if (a = a.filter(function(a) {
                        return "string" == typeof a
                    }), 0 === a.length) return "[object has no keys]";
                    if (b = "number" != typeof b ? X : b, a[0].length >= b) return a[0];
                    for (var c = a.length; c > 0; c--) {
                        var d = a.slice(0,
                            c)
                            .join(", ");
                        if (!(d.length > b)) return c === a.length ? d : d + "\u2026"
                    }
                    return ""
                }

                function S(a, b) {
                    function c(a) {
                        return m(a) ? a.map(function(a) {
                            return c(a)
                        }) : k(a) ? Object.keys(a)
                            .reduce(function(b, d) {
                                return b[d] = e.test(d) ? f : c(a[d]), b
                            }, {}) : a
                    }
                    if (!m(b) || m(b) && 0 === b.length) return a;
                    var d, e = A(b),
                        f = "********";
                    try {
                        d = JSON.parse(T(a))
                    } catch (g$30) {
                        return a
                    }
                    return c(d)
                }
                var T = a(7),
                    U = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
                    V = 3,
                    W = 51200,
                    X = 40;
                b.exports = {
                    isObject: d,
                    isError: e,
                    isErrorEvent: f,
                    isDOMError: g,
                    isDOMException: h,
                    isUndefined: i,
                    isFunction: j,
                    isPlainObject: k,
                    isString: l,
                    isArray: m,
                    isEmptyObject: n,
                    supportsErrorEvent: o,
                    supportsDOMError: p,
                    supportsDOMException: q,
                    supportsFetch: r,
                    supportsReferrerPolicy: s,
                    supportsPromiseRejectionEvent: t,
                    wrappedCallback: u,
                    each: v,
                    objectMerge: w,
                    truncate: y,
                    objectFrozen: x,
                    hasKey: z,
                    joinRegExp: A,
                    urlencode: B,
                    uuid4: D,
                    htmlTreeAsString: E,
                    htmlElementAsString: F,
                    isSameException: I,
                    isSameStacktrace: J,
                    parseUrl: C,
                    fill: K,
                    safeJoin: L,
                    serializeException: Q,
                    serializeKeysForMessage: R,
                    sanitize: S
                }
            })
                .call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            7: 7
        }],
        6: [function(a, b, c) {
            (function(c) {
                function d() {
                    return "undefined" == typeof document || null == document.location ? "" : document.location.href
                }

                function e() {
                    return "undefined" == typeof document || null == document.location ? "" : document.location.origin ? document.location.origin : document.location.protocol + "//" + document.location.hostname + (document.location.port ? ":" + document.location.port :
                        "")
                }
                var f = a(5),
                    g = {
                        collectWindowErrors: !0,
                        debug: !1
                    },
                    h = "undefined" != typeof window ? window : "undefined" != typeof c ? c : "undefined" != typeof self ? self : {},
                    i = [].slice,
                    j = "?",
                    k = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;
                g.report = function() {
                    function a(a) {
                        m(), s.push(a)
                    }

                    function b(a) {
                        for (var b = s.length - 1; b >= 0; --b) s[b] === a && s.splice(b, 1)
                    }

                    function c() {
                        n(), s = []
                    }

                    function e(a, b) {
                        var c = null;
                        if (!b || g.collectWindowErrors) {
                            for (var d in s)
                                if (s.hasOwnProperty(d)) try {
                                    s[d].apply(null,
                                        [a].concat(i.call(arguments, 2)))
                                } catch (e$31) {
                                    c = e$31
                                }
                            if (c) throw c;
                        }
                    }

                    function l(a, b, c, h, i) {
                        var l = null,
                            m = f.isErrorEvent(i) ? i.error : i,
                            n = f.isErrorEvent(a) ? a.message : a;
                        if (v) g.computeStackTrace.augmentStackTraceWithInitialElement(v, b, c, n), o();
                        else if (m && f.isError(m)) l = g.computeStackTrace(m), e(l, !0);
                        else {
                            var p, r = {
                                    url: b,
                                    line: c,
                                    column: h
                                },
                                s = void 0;
                            if ("[object String]" === {}.toString.call(n)) {
                                var p = n.match(k);
                                p && (s = p[1], n = p[2])
                            }
                            r.func = j, l = {
                                name: s,
                                message: n,
                                url: d(),
                                stack: [r]
                            }, e(l, !0)
                        }
                        return !!q && q.apply(this, arguments)
                    }

                    function m() {
                        r || (q = h.onerror, h.onerror = l, r = !0)
                    }

                    function n() {
                        r && (h.onerror = q, r = !1, q = void 0)
                    }

                    function o() {
                        var a = v,
                            b = t;
                        t = null, v = null, u = null, e.apply(null, [a, !1].concat(b))
                    }

                    function p(a, b) {
                        var c = i.call(arguments, 1);
                        if (v) {
                            if (u === a) return;
                            o()
                        }
                        var d = g.computeStackTrace(a);
                        if (v = d, u = a, t = c, setTimeout(function() {
                            u === a && o()
                        }, d.incomplete ? 2E3 : 0), b !== !1) throw a;
                    }
                    var q, r, s = [],
                        t = null,
                        u = null,
                        v = null;
                    return p.subscribe = a, p.unsubscribe = b, p.uninstall = c, p
                }(), g.computeStackTrace = function() {
                    function a(a) {
                        if ("undefined" !=
                            typeof a.stack && a.stack) {
                            for (var b, c, f, g = /^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i, h = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i, i = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i, k = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i,
                                     l = /\((\S*)(?::(\d+))(?::(\d+))\)/, m = a.stack.split("\n"), n = [], o = (/^(.*) is undefined$/.exec(a.message), 0), p = m.length; o < p; ++o) {
                                if (c = g.exec(m[o])) {
                                    var q = c[2] && 0 === c[2].indexOf("native"),
                                        r = c[2] && 0 === c[2].indexOf("eval");
                                    r && (b = l.exec(c[2])) && (c[2] = b[1], c[3] = b[2], c[4] = b[3]), f = {
                                        url: q ? null : c[2],
                                        func: c[1] || j,
                                        args: q ? [c[2]] : [],
                                        line: c[3] ? +c[3] : null,
                                        column: c[4] ? +c[4] : null
                                    }
                                } else if (c = h.exec(m[o])) f = {
                                    url: c[2],
                                    func: c[1] || j,
                                    args: [],
                                    line: +c[3],
                                    column: c[4] ? +c[4] : null
                                };
                                else {
                                    if (!(c = i.exec(m[o]))) continue;
                                    var r = c[3] &&
                                        c[3].indexOf(" > eval") > -1;
                                    r && (b = k.exec(c[3])) ? (c[3] = b[1], c[4] = b[2], c[5] = null) : 0 !== o || c[5] || "undefined" == typeof a.columnNumber || (n[0].column = a.columnNumber + 1), f = {
                                        url: c[3],
                                        func: c[1] || j,
                                        args: c[2] ? c[2].split(",") : [],
                                        line: c[4] ? +c[4] : null,
                                        column: c[5] ? +c[5] : null
                                    }
                                }
                                if (!f.func && f.line && (f.func = j), f.url && "blob:" === f.url.substr(0, 5)) {
                                    var s = new XMLHttpRequest;
                                    if (s.open("GET", f.url, !1), s.send(null), 200 === s.status) {
                                        var t = s.responseText || "";
                                        t = t.slice(-300);
                                        var u = t.match(/\/\/# sourceMappingURL=(.*)$/);
                                        if (u) {
                                            var v =
                                                u[1];
                                            "~" === v.charAt(0) && (v = e() + v.slice(1)), f.url = v.slice(0, -4)
                                        }
                                    }
                                }
                                n.push(f)
                            }
                            return n.length ? {
                                name: a.name,
                                message: a.message,
                                url: d(),
                                stack: n
                            } : null
                        }
                    }

                    function b(a, b, c, d) {
                        var e = {
                            url: b,
                            line: c
                        };
                        if (e.url && e.line) {
                            if (a.incomplete = !1, e.func || (e.func = j), a.stack.length > 0 && a.stack[0].url === e.url) {
                                if (a.stack[0].line === e.line) return !1;
                                if (!a.stack[0].line && a.stack[0].func === e.func) return a.stack[0].line = e.line, !1
                            }
                            return a.stack.unshift(e), a.partial = !0, !0
                        }
                        return a.incomplete = !0, !1
                    }

                    function c(a, e) {
                        for (var h, i, k = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,
                                 l = [], m = {}, n = !1, o = c.caller; o && !n; o = o.caller)
                            if (o !== f && o !== g.report) {
                                if (i = {
                                    url: null,
                                    func: j,
                                    line: null,
                                    column: null
                                }, o.name ? i.func = o.name : (h = k.exec(o.toString())) && (i.func = h[1]), "undefined" == typeof i.func) try {
                                    i.func = h.input.substring(0, h.input.indexOf("{"))
                                } catch (p) {}
                                m["" + o] ? n = !0 : m["" + o] = !0, l.push(i)
                            } e && l.splice(0, e);
                        var q = {
                            name: a.name,
                            message: a.message,
                            url: d(),
                            stack: l
                        };
                        return b(q, a.sourceURL || a.fileName, a.line || a.lineNumber, a.message || a.description), q
                    }

                    function f(b, e) {
                        var f = null;
                        e = null == e ? 0 : +e;
                        try {
                            if (f =
                                a(b)) return f
                        } catch (h$32) {
                            if (g.debug) throw h$32;
                        }
                        try {
                            if (f = c(b, e + 1)) return f
                        } catch (h$33) {
                            if (g.debug) throw h$33;
                        }
                        return {
                            name: b.name,
                            message: b.message,
                            url: d()
                        }
                    }
                    return f.augmentStackTraceWithInitialElement = b, f.computeStackTraceFromStackProp = a, f
                }(), b.exports = g
            })
                .call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }, {
            5: 5
        }],
        7: [function(a, b, c) {
            function d(a, b) {
                for (var c = 0; c < a.length; ++c)
                    if (a[c] === b) return c;
                return -1
            }

            function e(a, b, c, d) {
                return JSON.stringify(a,
                    g(b, d), c)
            }

            function f(a) {
                var b = {
                    stack: a.stack,
                    message: a.message,
                    name: a.name
                };
                for (var c in a) Object.prototype.hasOwnProperty.call(a, c) && (b[c] = a[c]);
                return b
            }

            function g(a, b) {
                var c = [],
                    e = [];
                return null == b && (b = function(a, b) {
                    return c[0] === b ? "[Circular ~]" : "[Circular ~." + e.slice(0, d(c, b))
                        .join(".") + "]"
                }),
                    function(g, h) {
                        if (c.length > 0) {
                            var i = d(c, this);
                            ~i ? c.splice(i + 1) : c.push(this), ~i ? e.splice(i, 1 / 0, g) : e.push(g), ~d(c, h) && (h = b.call(this, g, h))
                        } else c.push(h);
                        return null == a ? h instanceof Error ? f(h) : h : a.call(this,
                            g, h)
                    }
            }
            c = b.exports = e, c.getSerialize = g
        }, {}],
        8: [function(a, b, c) {
            function d(a, b) {
                var c = (65535 & a) + (65535 & b),
                    d = (a >> 16) + (b >> 16) + (c >> 16);
                return d << 16 | 65535 & c
            }

            function e(a, b) {
                return a << b | a >>> 32 - b
            }

            function f(a, b, c, f, g, h) {
                return d(e(d(d(b, a), d(f, h)), g), c)
            }

            function g(a, b, c, d, e, g, h) {
                return f(b & c | ~b & d, a, b, e, g, h)
            }

            function h(a, b, c, d, e, g, h) {
                return f(b & d | c & ~d, a, b, e, g, h)
            }

            function i(a, b, c, d, e, g, h) {
                return f(b ^ c ^ d, a, b, e, g, h)
            }

            function j(a, b, c, d, e, g, h) {
                return f(c ^ (b | ~d), a, b, e, g, h)
            }

            function k(a, b) {
                a[b >> 5] |= 128 << b % 32, a[(b +
                    64 >>> 9 << 4) + 14] = b;
                var c, e, f, k, l, m = 1732584193,
                    n = -271733879,
                    o = -1732584194,
                    p = 271733878;
                for (c = 0; c < a.length; c += 16) e = m, f = n, k = o, l = p, m = g(m, n, o, p, a[c], 7, -680876936), p = g(p, m, n, o, a[c + 1], 12, -389564586), o = g(o, p, m, n, a[c + 2], 17, 606105819), n = g(n, o, p, m, a[c + 3], 22, -1044525330), m = g(m, n, o, p, a[c + 4], 7, -176418897), p = g(p, m, n, o, a[c + 5], 12, 1200080426), o = g(o, p, m, n, a[c + 6], 17, -1473231341), n = g(n, o, p, m, a[c + 7], 22, -45705983), m = g(m, n, o, p, a[c + 8], 7, 1770035416), p = g(p, m, n, o, a[c + 9], 12, -1958414417), o = g(o, p, m, n, a[c + 10], 17, -42063), n = g(n, o, p,
                    m, a[c + 11], 22, -1990404162), m = g(m, n, o, p, a[c + 12], 7, 1804603682), p = g(p, m, n, o, a[c + 13], 12, -40341101), o = g(o, p, m, n, a[c + 14], 17, -1502002290), n = g(n, o, p, m, a[c + 15], 22, 1236535329), m = h(m, n, o, p, a[c + 1], 5, -165796510), p = h(p, m, n, o, a[c + 6], 9, -1069501632), o = h(o, p, m, n, a[c + 11], 14, 643717713), n = h(n, o, p, m, a[c], 20, -373897302), m = h(m, n, o, p, a[c + 5], 5, -701558691), p = h(p, m, n, o, a[c + 10], 9, 38016083), o = h(o, p, m, n, a[c + 15], 14, -660478335), n = h(n, o, p, m, a[c + 4], 20, -405537848), m = h(m, n, o, p, a[c + 9], 5, 568446438), p = h(p, m, n, o, a[c + 14], 9, -1019803690), o =
                    h(o, p, m, n, a[c + 3], 14, -187363961), n = h(n, o, p, m, a[c + 8], 20, 1163531501), m = h(m, n, o, p, a[c + 13], 5, -1444681467), p = h(p, m, n, o, a[c + 2], 9, -51403784), o = h(o, p, m, n, a[c + 7], 14, 1735328473), n = h(n, o, p, m, a[c + 12], 20, -1926607734), m = i(m, n, o, p, a[c + 5], 4, -378558), p = i(p, m, n, o, a[c + 8], 11, -2022574463), o = i(o, p, m, n, a[c + 11], 16, 1839030562), n = i(n, o, p, m, a[c + 14], 23, -35309556), m = i(m, n, o, p, a[c + 1], 4, -1530992060), p = i(p, m, n, o, a[c + 4], 11, 1272893353), o = i(o, p, m, n, a[c + 7], 16, -155497632), n = i(n, o, p, m, a[c + 10], 23, -1094730640), m = i(m, n, o, p, a[c + 13], 4, 681279174),
                    p = i(p, m, n, o, a[c], 11, -358537222), o = i(o, p, m, n, a[c + 3], 16, -722521979), n = i(n, o, p, m, a[c + 6], 23, 76029189), m = i(m, n, o, p, a[c + 9], 4, -640364487), p = i(p, m, n, o, a[c + 12], 11, -421815835), o = i(o, p, m, n, a[c + 15], 16, 530742520), n = i(n, o, p, m, a[c + 2], 23, -995338651), m = j(m, n, o, p, a[c], 6, -198630844), p = j(p, m, n, o, a[c + 7], 10, 1126891415), o = j(o, p, m, n, a[c + 14], 15, -1416354905), n = j(n, o, p, m, a[c + 5], 21, -57434055), m = j(m, n, o, p, a[c + 12], 6, 1700485571), p = j(p, m, n, o, a[c + 3], 10, -1894986606), o = j(o, p, m, n, a[c + 10], 15, -1051523), n = j(n, o, p, m, a[c + 1], 21, -2054922799),
                    m = j(m, n, o, p, a[c + 8], 6, 1873313359), p = j(p, m, n, o, a[c + 15], 10, -30611744), o = j(o, p, m, n, a[c + 6], 15, -1560198380), n = j(n, o, p, m, a[c + 13], 21, 1309151649), m = j(m, n, o, p, a[c + 4], 6, -145523070), p = j(p, m, n, o, a[c + 11], 10, -1120210379), o = j(o, p, m, n, a[c + 2], 15, 718787259), n = j(n, o, p, m, a[c + 9], 21, -343485551), m = d(m, e), n = d(n, f), o = d(o, k), p = d(p, l);
                return [m, n, o, p]
            }

            function l(a) {
                var b, c = "",
                    d = 32 * a.length;
                for (b = 0; b < d; b += 8) c += String.fromCharCode(a[b >> 5] >>> b % 32 & 255);
                return c
            }

            function m(a) {
                var b, c = [];
                for (c[(a.length >> 2) - 1] = void 0, b = 0; b < c.length; b +=
                    1) c[b] = 0;
                var d = 8 * a.length;
                for (b = 0; b < d; b += 8) c[b >> 5] |= (255 & a.charCodeAt(b / 8)) << b % 32;
                return c
            }

            function n(a) {
                return l(k(m(a), 8 * a.length))
            }

            function o(a, b) {
                var c, d, e = m(a),
                    f = [],
                    g = [];
                for (f[15] = g[15] = void 0, e.length > 16 && (e = k(e, 8 * a.length)), c = 0; c < 16; c += 1) f[c] = 909522486 ^ e[c], g[c] = 1549556828 ^ e[c];
                return d = k(f.concat(m(b)), 512 + 8 * b.length), l(k(g.concat(d), 640))
            }

            function p(a) {
                var b, c, d = "0123456789abcdef",
                    e = "";
                for (c = 0; c < a.length; c += 1) b = a.charCodeAt(c), e += d.charAt(b >>> 4 & 15) + d.charAt(15 & b);
                return e
            }

            function q(a) {
                return unescape(encodeURIComponent(a))
            }

            function r(a) {
                return n(q(a))
            }

            function s(a) {
                return p(r(a))
            }

            function t(a, b) {
                return o(q(a), q(b))
            }

            function u(a, b) {
                return p(t(a, b))
            }

            function v(a, b, c) {
                return b ? c ? t(b, a) : u(b, a) : c ? r(a) : s(a)
            }
            b.exports = v
        }, {}]
    }, {}, [4])(4)
});
(function() {
    var __makeExtend = function(Parent) {
            return function(extProto) {
                var ChildClass = function() {
                    var args = Array.prototype.slice.apply(arguments, [0]);
                    Parent && Parent.apply(this, args);
                    extProto.__construct && extProto.__construct.apply(this, args)
                };
                var childProto = Parent ? new Parent({
                    name: "__for__proto__"
                }) : {};
                for (var prop in extProto) {
                    if (!extProto.hasOwnProperty(prop)) continue;
                    if (!/^__/.test(extProto)) childProto[prop] = extProto[prop]
                }
                ChildClass.prototype = childProto;
                ChildClass.extend = __makeExtend(ChildClass);
                return ChildClass
            }
        },
        baseExtend = __makeExtend();
    var BIU = baseExtend({
        "__construct": function(opt) {
            opt = opt || {};
            this.__allListeners = [];
            this.__typeListenerMap = {};
            this.__unitListenerMap = {};
            this.__typeUniListenerMap = {};
            for (var prop in opt) {
                if (!opt.hasOwnProperty(prop)) continue;
                this[prop] = opt[prop]
            }
            if (this.name === "__for__proto__") return;
            var initChain = this.__getPropChain("init");
            for (var i = 0, init, len = initChain.length; i < len; i++) {
                init = initChain[i];
                init && init.apply(this)
            }
        },
        "on": function(typeArg, func) {
            var typeName,
                unitName;
            typeArg = typeArg.split(":");
            typeName = typeArg[0] || "*";
            unitName = typeArg[1] || "*";
            typeArg = typeName + ":" + unitName;
            var listener = {
                    __this: this,
                    __func: func
                },
                listeners;
            listeners = this.__allListeners;
            listeners.push(listener);
            if (typeName !== "*") {
                listeners = this.__typeListenerMap[typeName] || (this.__typeListenerMap[typeName] = []);
                listeners.push(listener)
            }
            if (unitName !== "*") {
                listeners = this.__unitListenerMap[unitName] || (this.__unitListenerMap[unitName] = []);
                listeners.push(listener)
            }
            listeners = this.__typeUniListenerMap[typeArg] ||
                (this.__typeUniListenerMap[typeArg] = []);
            listeners.push(listener);
            return true
        },
        "trigger": function(typeArg, e) {
            var typeName, unitName;
            typeArg = typeArg.split(":");
            typeName = typeArg[0] || "*";
            unitName = typeArg[1] || "*";
            typeArg = typeName + ":" + unitName;
            e = e || {};
            e.path = e.path || [];
            if (typeof e !== "object") throw new Error("BIU.trigger \u51fd\u6570\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 e \u4e3a Object \u578b\u7684\u4e8b\u4ef6\u5bf9\u8c61\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6709\u8bef\u3002");
            e.typeName = typeName;
            e.unitName =
                unitName;
            var listeners = this.__typeUniListenerMap["*:*"] || [];
            if (typeArg === "*:*") listeners = this.__allListeners;
            else if (unitName === "*") listeners = listeners.concat(this.__typeListenerMap[typeName] || []);
            else if (typeName === "*") listeners = listeners.concat(this.__unitListenerMap[unitName] || []);
            else listeners = listeners.concat(this.__typeUniListenerMap[typeArg] || []);
            var args = [].slice.call(arguments, 1),
                i, len = listeners.length,
                listener;
            args[0] = e;
            for (i = 0; i < len; i++) {
                listener = listeners[i];
                listener.__unCalled = true
            }
            for (i =
                     0; i < len; i++) {
                listener = listeners[i];
                var __this = listener.__this,
                    __func = listener.__func;
                if (!listener.__unCalled) continue;
                delete listener.__unCalled;
                e.path.push(__this);
                if (typeof __func === "string") __func = this[__func] || window[__func];
                if (__func.apply(__this, args) === false) return false
            }
            return true
        },
        "__getPropChain": function(prop) {
            var __values = [],
                __context = this;
            while (__context) {
                if (__context.hasOwnProperty(prop) && __context[prop]) __values.push(__context[prop]);
                else __values.push(undefined);
                __context = __context.__proto__ ||
                    Object.getPrototypeOf(__context)
            }
            __values.reverse();
            return __values
        }
    });
    BIU.Page = BIU.extend({
        "__construct": function(opt) {
            opt = opt || {};
            this.__isReady = false;
            this.__views = [];
            this.__models = [];
            this.__children = [];
            this.name = opt["name"] || null;
            if (!this.name) throw new Error("\u521b\u5efa BIU.Page \u5bf9\u8c61\u65f6\u7f3a\u5c11 name \u53c2\u6570\u3002");
            if (this.name === "__for__proto__") return;
            this.addView(opt["views"] || []);
            this.addModel(opt["models"] || []);
            this.addChild(opt["children"] || []);
            this.on("*", function(e) {
                e =
                    e || {};
                var typeArg = e.typeName + ":" + e.unitName;
                var args = [].slice.call(arguments, 0),
                    list = this.__models.concat(this.__views, this.__children),
                    i, len = list.length,
                    item;
                args.splice(0, 0, typeArg);
                for (i = 0; i < len; i++) {
                    item = list[i];
                    item.trigger.apply(item, args)
                }
            })
        },
        "addModel": function(models) {
            this.__addList(this.__models, models)
        },
        "addView": function(views) {
            this.__addList(this.__views, views)
        },
        "addChild": function(children) {
            this.__addList(this.__children, children)
        },
        "add": function(list) {
            var models = [],
                views = [],
                children = [],
                item, _set;
            if (!Array.isArray(list)) list = [list];
            for (var i = 0, len = list.length; i < len; i++) {
                item = list[i];
                _set = null;
                if (BIU.Model.__instances[item.name] || BIU.Model.__instances[item]) _set = models;
                else if (BIU.View.__instances[item.name] || BIU.View.__instances[item]) _set = views;
                else _set = children;
                _set && _set.push(item)
            }
            this.__addList(this.__models, models);
            this.__addList(this.__views, views);
            this.__addList(this.__children, children)
        },
        "__addList": function(__set, list) {
            var item;
            if (!Array.isArray(list)) list = [list];
            for (var i =
                0, len = list.length; i < len; i++) {
                item = list[i];
                if (typeof item === "string") {
                    item = BIU.Model.__instances[item] || BIU.View.__instances[item];
                    if (!item) throw new Error("\u6ca1\u6709\u627e\u5230\u540d\u4e3a " + item + " \u7684 BIU \u5bf9\u8c61\u3002");
                }
                __set.push(item);
                item.page = this
            }
        },
        "findModel": function(name) {
            return this.find(name, "model")
        },
        "findView": function(name) {
            return this.find(name, "view")
        },
        "findChild": function(name) {
            return this.find(name, "child")
        },
        "find": function(name, type) {
            var list = this.__models.concat(this.__views,
                this.__children),
                item;
            switch (type) {
                case "model":
                    list = this.__models;
                    break;
                case "view":
                    list = this.__views;
                    break;
                case "child":
                    list = this.__children;
                    break
            }
            for (var i = 0, len = list.length; i < len; i++) {
                item = list[i];
                if (item.name === name) return item
            }
            return null
        },
        "load": function(name) {
            var data = this.find(name, "model"),
                args = Array.prototype.slice.apply(arguments, [1]);
            if (data && typeof data.load === "function") return data.load.apply(data, args);
            return null
        },
        "set": function(name) {
            var child = this.find(name, "model"),
                args = Array.prototype.slice.apply(arguments,
                    [1]);
            if (child && typeof child.set === "function") return child.set.apply(child, args);
            return null
        },
        "get": function(name) {
            var child = this.find(name, "model");
            if (child && child.get !== undefined) return typeof child.get === "function" ? child.get() : child.get;
            return null
        },
        "pageReady": function(e) {
            if (this.__isReady) throw new Error("\u4e0d\u8981\u591a\u6b21\u89e6\u53d1 BIU.Page(" + this.name + ") \u7684 pageReady \u4e8b\u4ef6\u3002");
            e = e || {};
            var type = "pageReady";
            this.trigger(type, e);
            this.__isReady = true
        }
    });
    BIU.Model = BIU.extend({
        "__construct": function(opt) {
            opt =
                opt || {};
            this.__listen = {};
            this.name = opt["name"] || null;
            if (!this.name) throw new Error("\u521b\u5efa BIU.Model \u5bf9\u8c61\u65f6\u7f3a\u5c11 name \u53c2\u6570\u3002");
            this.load = opt["load"] || this.load || this.__load;
            this.set = opt["set"] || this.set || this.__set;
            this.get = opt["get"] || this.get || this.__get;
            if (this.name === "__for__proto__") return;
            if (BIU.Model.__instances[this.name]) throw new Error("\u540d\u4e3a " + this.name + " \u7684 BIU.Model \u5bf9\u8c61\u5df2\u5b58\u5728\u3002");
            BIU.Model.__instances[this.name] =
                this;
            var listenChain = this.__getPropChain("listen");
            for (var i = 0, listen, len = listenChain.length; i < len; i++) {
                listen = listenChain[i];
                listen && this.bindListeners(listen)
            }
            var pageReadyChain = this.__getPropChain("pageReady");
            for (var i = 0, pageReady, len = pageReadyChain.length; i < len; i++) {
                pageReady = pageReadyChain[i];
                pageReady && this.on("pageReady", pageReady)
            }
        },
        "bindListeners": function(listen) {
            for (var name in listen) {
                if (!listen.hasOwnProperty(name)) continue;
                var func = listen[name];
                this.__bindListener(name, func)
            }
        },
        "__bindListener": function(name,
                                   func) {
            var _this = this;
            if (typeof func === "string") func = _this[func] || window[func];
            this.on("change:" + name, function(e) {
                func.apply(_this, [e && e.value])
            });
            this.__listen[name] = func
        },
        "__data": null,
        "__load": function() {
            this.__data = null
        },
        "__get": function() {
            return this.__data
        },
        "__set": function(value) {
            var args = Array.prototype.slice.apply(arguments, [0]),
                argLen = args.length;
            if (argLen > 1) {
                var data = this.__data,
                    key;
                while (args.length > 2) {
                    key = args.shift();
                    data = data[key] || (data[key] = {})
                }
                key = args[0];
                value = args[1];
                data[key] =
                    value
            } else this.__data = value;
            this.change()
        },
        "change": function() {
            var page = this.page;
            page && page.trigger("change:" + this.name, {
                value: this.get()
            })
        }
    });
    BIU.Model.__instances = {};
    BIU.View = BIU.extend({
        "__construct": function(opt) {
            opt = opt || {};
            this.__listen = {};
            this.__events = {};
            this.name = opt["name"] || null;
            if (!this.name) throw new Error("\u521b\u5efa BIU.View \u5bf9\u8c61\u65f6\u7f3a\u5c11 name \u53c2\u6570\u3002");
            if (this.name === "__for__proto__") return;
            if (BIU.View.__instances[this.name]) throw new Error("\u540d\u4e3a " +
                this.name + " \u7684 BIU.View \u5bf9\u8c61\u5df2\u5b58\u5728\u3002");
            BIU.View.__instances[this.name] = this;
            var eventsChain = this.__getPropChain("events");
            for (var i = 0, events, len = eventsChain.length; i < len; i++) {
                events = eventsChain[i];
                events && this.bindEvents(events)
            }
            var listenChain = this.__getPropChain("listen");
            for (var i = 0, listen, len = listenChain.length; i < len; i++) {
                listen = listenChain[i];
                listen && this.bindListeners(listen)
            }
            var pageReadyChain = this.__getPropChain("pageReady");
            for (var i = 0, pageReady, len = pageReadyChain.length; i <
            len; i++) {
                pageReady = pageReadyChain[i];
                pageReady && this.on("pageReady", pageReady)
            }
        },
        "bindEvents": function(events) {
            for (var key in events) {
                if (!events.hasOwnProperty(key)) continue;
                var listener = events[key] || null;
                this.bindEvent(key, listener)
            }
        },
        "bindEvent": function(key, listener) {
            var t = key.split(" "),
                type = t.shift(),
                sl = t.join(" ");
            var elem = this.__id(sl) || this.__sl(sl);
            if (!elem || elem.length === 0) throw new Error("\u627e\u4e0d\u5230 BIU.View(" + this.name + ") \u4e2d\u7684\u5143\u7d20\uff1a" + sl + "\u3002");
            this.__bindEvent(elem,
                type, listener);
            this.__events[key] = listener
        },
        "__bindEvent": function(elem, type, listener) {
            if (!elem.length) elem = [elem];
            if (typeof listener === "string") listener = this[listener] || window[listener];
            for (var i = 0, len = elem.length; i < len; i++) {
                var _elem = elem[i],
                    _listener = listener.bind ? listener.bind(this) : function(context, func) {
                        return function() {
                            func.apply(context, arguments)
                        }
                    }(this, listener);
                _elem && _elem.addEventListener && _elem.addEventListener(type, _listener, false)
            }
        },
        "bindListeners": function(listen) {
            for (var name in listen) {
                if (!listen.hasOwnProperty(name)) continue;
                var func = listen[name];
                this.__bindListener(name, func)
            }
        },
        "__bindListener": function(name, func) {
            var _this = this;
            if (typeof func === "string") func = _this[func] || window[func];
            this.on("change:" + name, function(e) {
                func.apply(_this, [e && e.value])
            });
            this.__listen[name] = func
        },
        "__id": function(id) {
            return document.getElementById(id)
        },
        "__sl": function(sl) {
            return document.querySelectorAll && document.querySelectorAll(sl)
        }
    });
    BIU.View.__instances = {};
    window.BIU = BIU
})();
(function e(t, n, r) {
    function s(o, u) {
        if (!n[o]) {
            if (!t[o]) {
                var a = typeof require == "function" && require;
                if (!u && a) return a(o, !0);
                if (i) return i(o, !0);
                var f = new Error("Cannot find module '" + o + "'");
                throw f.code = "MODULE_NOT_FOUND", f;
            }
            var l = n[o] = {
                exports: {}
            };
            t[o][0].call(l.exports, function(e) {
                var n = t[o][1][e];
                return s(n ? n : e)
            }, l, l.exports, e, t, n, r)
        }
        return n[o].exports
    }
    var i = typeof require == "function" && require;
    for (var o = 0; o < r.length; o++) s(r[o]);
    return s
})({
    1: [function(require, module, exports) {
        var dialogTypes = require("./_dialog-types.js"),
            dialogPrototypes = require("./_dialog-prototypes.js");
        module.exports = DialogButton;

        function DialogButton(opt) {
            var self = this;
            if (!self instanceof DialogButton) return new DialogButton(opt);
            var text = opt.text || "",
                style = opt.style || {},
                className = opt.className || "dialog-btn";
            self.opt = opt;
            self.text = opt.text;
            self.click = opt.click;
            self.dom = document.createElement("A");
            self.dom.className = className;
            self.dom.innerHTML = text;
            self.dom.addEventListener("click", function(e) {
                if (!self.dom.hasAttribute("disabled")) self.click(e)
            });
            self.setStyle(style)
        }
        dialogTypes.register("BUTTON", DialogButton, [dialogPrototypes.ENTITY, dialogPrototypes.IN_CONTAINER], function parser(thing) {
            if (thing instanceof Object && typeof thing.text === "string" && typeof thing.click === "function") return new DialogButton(thing);
            else return null
        }, function comparator(instance, thing) {
            return instance === thing || instance.opt === thing || instance.text === thing.text && instance.click === thing.click
        })
    }, {
        "./_dialog-prototypes.js": 5,
        "./_dialog-types.js": 7
    }],
    2: [function(require, module,
                 exports) {
        var dialogTypes = require("./_dialog-types.js"),
            dialogPrototypes = require("./_dialog-prototypes.js");
        module.exports = DialogChild;

        function DialogChild(opt) {
            var self = this;
            if (!self instanceof DialogChild) return new DialogChild(opt);
            self.dom = opt.dom
        }
        dialogTypes.register("CHILD", DialogChild, [dialogPrototypes.ENTITY, dialogPrototypes.IN_CONTAINER], function parser(thing) {
            if (thing instanceof HTMLElement) return new DialogChild({
                dom: thing
            });
            else return null
        }, function comparator(instance, thing) {
            return instance ===
                thing || instance.opt === thing || instance.dom === thing
        })
    }, {
        "./_dialog-prototypes.js": 5,
        "./_dialog-types.js": 7
    }],
    3: [function(require, module, exports) {
        var dialogTypes = require("./_dialog-types.js"),
            dialogPrototypes = require("./_dialog-prototypes.js");
        module.exports = DialogPara;

        function DialogPara(opt) {
            var self = this;
            if (!self instanceof DialogPara) return new DialogPara(opt);
            var text = opt.text || "",
                style = opt.style || {},
                className = opt.className || "dialog-para";
            self.text = opt.text;
            self.dom = document.createElement("P");
            self.dom.className = className;
            self.dom.innerHTML = text;
            self.setStyle(style)
        }
        dialogTypes.register("PARA", DialogPara, [dialogPrototypes.ENTITY, dialogPrototypes.IN_CONTAINER], function parser(thing) {
            if (typeof thing === "string") return new DialogPara({
                text: thing
            });
            else return null
        }, function comparator(instance, thing) {
            return instance === thing || instance.opt === thing || instance.text === thing
        })
    }, {
        "./_dialog-prototypes.js": 5,
        "./_dialog-types.js": 7
    }],
    4: [function(require, module, exports) {
        module.exports = DialogPromise;

        function DialogPromise() {
            var self =
                this;
            self.callbacks = []
        }
        DialogPromise.prototype = {
            "construct": DialogPromise,
            "resolve": function(result) {
                this.complete("resolve", result)
            },
            "reject": function(result) {
                this.complete("reject", result)
            },
            "complete": function(type, result) {
                while (this.callbacks[0]) {
                    var callback = this.callbacks.shift()[type];
                    typeof callback === "function" && callback(result)
                }
            },
            "then": function(successHandler, failedHandler) {
                this.callbacks.push({
                    resolve: successHandler,
                    reject: failedHandler
                });
                return this
            }
        }
    }, {}],
    5: [function(require, module, exports) {
        var dialogUtils =
                require("./_dialog-utils.js"),
            dialogTypes = require("./_dialog-types.js");
        module.exports = {
            ENTITY: {
                "setAttr": function(attr, value) {
                    var self = this;
                    self.dom.setAttribute(attr, value)
                },
                "removeAttr": function(attr) {
                    var self = this;
                    self.dom.removeAttribute(attr)
                },
                "setText": function(text) {
                    var self = this;
                    self.dom.innerHTML = text
                },
                "setStyle": function(style) {
                    var self = this,
                        dom = self.dom;
                    for (var name in style) {
                        if (!style.hasOwnProperty(name)) continue;
                        dom.style[name] = style[name]
                    }
                },
                "show": function() {
                    var self = this;
                    self.dom.style.display =
                        "block"
                },
                "hide": function() {
                    var self = this;
                    self.dom.style.display = "none"
                }
            },
            CONTAINER: {
                "prepend": function(thing, _index) {
                    var self = this,
                        child = dialogTypes.tryParse(thing);
                    if (!child) {
                        var err = new Error("\u65e0\u6cd5\u8f6c\u6362\u4e3a\u5bf9\u8bdd\u6846\u76f8\u5173\u7c7b\uff1a");
                        err.target = thing;
                        throw err;
                    }
                    self._prepend(child, _index)
                },
                "append": function(thing) {
                    var self = this,
                        child = dialogTypes.tryParse(thing);
                    if (!child) {
                        var err = new Error("\u65e0\u6cd5\u8f6c\u6362\u4e3a\u5bf9\u8bdd\u6846\u76f8\u5173\u7c7b\uff1a");
                        err.target = thing;
                        throw err;
                    }
                    self._append(child)
                },
                "_prepend": function(child, _index) {
                    var self = this,
                        index = _index | 0,
                        children = self.children;
                    if (child._parent) child._parent.remove(child);
                    child._parent = self;
                    children.splice(index, 0, child);
                    var nextNode = dialogUtils.getChildElem(self.dom, index);
                    if (nextNode) self.dom.insertBefore(child.dom, nextNode);
                    else self.dom.appendChild(child.dom)
                },
                "_append": function(child) {
                    var self = this,
                        children = self.children;
                    if (child._parent) child._parent.remove(child);
                    child._parent = self;
                    children.push(child);
                    self.dom.appendChild(child.dom)
                },
                "find": function(thing) {
                    var self = this,
                        children = self.children,
                        child = null;
                    if (thing.dialogType && children.indexOf(thing) >= 0) child = thing;
                    else if (typeof thing === "number") {
                        if (thing < 0) thing = children.length + thing;
                        child = children[thing]
                    } else children.forEach(function(_child) {
                        if (dialogTypes.compare(_child, thing)) child = _child
                    });
                    return child
                },
                "remove": function(thing) {
                    var self = this,
                        child = self.find(thing);
                    if (!child) return;
                    this._remove(child)
                },
                "_remove": function(child) {
                    var self =
                            this,
                        children = self.children;
                    delete child._parent;
                    children.splice(children.indexOf(child), 1);
                    self.dom.removeChild(child.dom)
                },
                "clear": function() {
                    var self = this,
                        children = self.children,
                        len = children.length;
                    for (var i = 0, child; i < len && (child = children[i]); i++) delete child._parent;
                    self.children = [];
                    self.dom.innerHTML = ""
                },
                "setContent": function(content) {
                    var self = this,
                        arr = content.length === undefined ? [content] : content;
                    self.clear();
                    for (var i = 0, len = arr.length; i < len; i++) self.append(content[i])
                }
            },
            IN_CONTAINER: {
                "prev": function() {
                    var self =
                            this,
                        parent = self && self._parent,
                        children = parent && parent.children,
                        pos = children && children.indexOf(self);
                    return pos >= 0 && parent && parent.find && parent.find(pos - 1)
                },
                "next": function() {
                    var self = this,
                        parent = self && self._parent,
                        children = parent && parent.children,
                        pos = children && children.indexOf(self);
                    return pos >= 0 && parent && parent.find && parent.find(pos + 1)
                },
                "parent": function() {
                    var self = this;
                    return self._parent
                },
                "dialog": function() {
                    var self = this;
                    while (self && !(self instanceof PileDialog)) self = self._parent;
                    return self
                }
            }
        }
    },
        {
            "./_dialog-types.js": 7,
            "./_dialog-utils.js": 8
        }
    ],
    6: [function(require, module, exports) {
        var dialogTypes = require("./_dialog-types.js"),
            dialogPrototypes = require("./_dialog-prototypes.js");
        module.exports = DialogRow;

        function DialogRow(opt) {
            var self = this;
            if (!self instanceof DialogRow) return new DialogRow(opt);
            self.children = [];
            var content = opt.content || "",
                style = opt.style || {},
                className = opt.className || "dialog-row";
            self.opt = opt;
            self.dom = document.createElement("DIV");
            self.dom.className = className;
            content && self.setContent(content);
            self.setStyle(style)
        }
        dialogTypes.register("ROW", DialogRow, [dialogPrototypes.ENTITY, dialogPrototypes.CONTAINER, dialogPrototypes.IN_CONTAINER])
    }, {
        "./_dialog-prototypes.js": 5,
        "./_dialog-types.js": 7
    }],
    7: [function(require, module, exports) {
        var dialogUtils = require("./_dialog-utils.js");
        var types = {},
            parsers = {},
            comparators = {};
        module.exports = {
            register: function(name, constructor, prototypes, parser, comparator) {
                types[name] = constructor;
                parsers[name] = parser || null;
                comparators[name] = comparator || null;
                prototypes = prototypes || [];
                prototypes.splice(0, 0, {
                    dialogType: name
                });
                constructor.prototype = dialogUtils.extend.apply(dialogUtils, prototypes)
            },
            getType: function(name) {
                return types[name]
            },
            tryParse: function(thing) {
                var typeObject;
                if (thing.dialogType) return thing;
                for (var name in types) {
                    if (!types.hasOwnProperty(name)) continue;
                    var parser = parsers[name];
                    typeObject = parser && parser(thing);
                    if (typeObject) break
                }
                return typeObject || null
            },
            compare: function(instance, thing) {
                var name = instance.dialogType,
                    comparator = comparators[name];
                return comparator &&
                    comparator(instance, thing)
            }
        }
    }, {
        "./_dialog-utils.js": 8
    }],
    8: [function(require, module, exports) {
        var dialogUtils = {
            NODE_TYPES: {
                ELEMENT_NODE: 1,
                ATTRIBUTE_NODE: 2,
                TEXT_NODE: 3,
                CDATA_SECTION_NODE: 4,
                ENTITY_REFERENCE_NODE: 5,
                ENTITY_NODE: 6,
                PROCESSING_INSTRUCTION_NODE: 7,
                COMMENT_NODE: 8,
                DOCUMENT_NODE: 9,
                DOCUMENT_TYPE_NODE: 10,
                DOCUMENT_FRAGMENT_NODE: 11,
                NOTATION_NODE: 12
            },
            extend: function(extPrototype, basePrototype) {
                var undefined = void 0,
                    basePrototypes = Array.prototype.slice.call(arguments, 1);
                while (basePrototype = basePrototypes.shift())
                    for (var p in basePrototype)
                        if (basePrototype.hasOwnProperty(p) &&
                            extPrototype[p] === undefined) extPrototype[p] = basePrototype[p];
                return extPrototype
            },
            isArray: function(tar) {
                return Object.prototype.toString.call(tar) === "[object Array]"
            },
            getChildElem: function(dom, index) {
                var childNodes = dom.childNodes,
                    TYPES = this.NODE_TYPES,
                    _pos = 0,
                    _index = 0,
                    node;
                while (node = childNodes[_pos++])
                    if (node.nodeType === TYPES.ELEMENT_NODE) {
                        if (index !== _index) {
                            _index++;
                            continue
                        }
                        break
                    } return node
            },
            getPrevElem: function(dom) {
                do dom = dom.previousSibling; while (dom && dom.nodeType !== 1);
                return dom
            },
            getNextElem: function(dom) {
                do dom =
                    dom.nextSibling; while (dom && dom.nodeType !== 1);
                return dom
            }
        };
        module.exports = dialogUtils
    }, {}],
    9: [function(require, module, exports) {
        var dialogUtils = require("./_dialog-utils.js"),
            dialogTypes = require("./_dialog-types.js"),
            dialogPrototypes = require("./_dialog-prototypes.js"),
            WRAP_CLASS_NAME = "dialog-wrap",
            TRANSITION_TIME = 300,
            TEMPLATE_TEXT = null;
        module.exports = Dialog;

        function Dialog(opt) {
            var self = this;
            if (!self instanceof Dialog) return new Dialog(opt);
            var prop = opt.prop || {
                    skin: "default",
                    cover: true,
                    closeBtn: true,
                    lock: false
                },
                title = opt.title || "",
                content = opt.content || "",
                onOpen = opt["onOpen"],
                onClose = opt["onClose"];
            self.children = [];
            self.prop = {};
            self.doms = {};
            self.callbacks = {};
            var wrap = self.doms.wrap = document.createElement("DIV");
            wrap.className = WRAP_CLASS_NAME;
            wrap.innerHTML = TEMPLATE_TEXT;
            self.doms.cover = wrap.getElementsByClassName("dialog-cover")[0];
            self.doms.box = wrap.getElementsByClassName("dialog-box")[0];
            self.doms.title = wrap.getElementsByClassName("dialog-title")[0];
            self.doms.closeBtn = wrap.getElementsByClassName("dialog-close-btn")[0];
            self.doms.content = wrap.getElementsByClassName("dialog-content")[0];
            self.doms.wrap.addEventListener("touchmove", function(e) {
                e.preventDefault()
            });
            self.doms.cover.addEventListener("click", function(e) {
                if (!self.isLocked) self.close(e)
            });
            self.doms.closeBtn.addEventListener("click", function(e) {
                self.close(e)
            });
            self.dom = self.doms.content;
            document.body.appendChild(wrap);
            self.setProp("skin", String(prop.skin || "default"));
            self.setProp("cover", !!prop.cover);
            self.setProp("closeBtn", !!prop.closeBtn);
            self.setProp("lock",
                !!prop.lock);
            self.setTitle(title);
            self.setContent(content);
            onOpen && self.on("open", onOpen);
            onClose && self.on("close", onClose)
        }
        Dialog.topZIndex = 1E6;
        Dialog.setOptions = function(options) {
            options["TRANSITION_TIME"] && (TRANSITION_TIME = options["TRANSITION_TIME"]);
            options["WRAP_CLASS_NAME"] && (WRAP_CLASS_NAME = options["WRAP_CLASS_NAME"]);
            options["TEMPLATE_TEXT"] && (TEMPLATE_TEXT = options["TEMPLATE_TEXT"])
        };
        dialogTypes.register("DIALOG", Dialog, [{
            "setTitle": function(title) {
                this.title = title;
                this.doms.title.innerHTML =
                    title
            },
            "showTitle": function() {
                this.doms.title.style.display = "block"
            },
            "hideTitle": function() {
                this.doms.title.style.display = "none"
            },
            "setProp": function(name, value) {
                var self = this,
                    prop = self.prop;
                prop[name] = value;
                switch (name) {
                    case "skin":
                        var oldSkin = self._skin;
                        if (oldSkin) self.doms.wrap.classList.remove(oldSkin);
                        self.doms.wrap.classList.add(value);
                        self._skin = value;
                        break;
                    case "cover":
                        self.doms.cover.style.display = value ? "block" : "none";
                        break;
                    case "closeBtn":
                        self.doms.closeBtn.style.display = value ? "block" : "none";
                        break;
                    case "lock":
                        self.isLocked = value;
                        break
                }
            },
            "open": function(e) {
                var self = this;
                if (self.trigger("open", e) === false) return;
                self._waitingTimeout && window.clearTimeout(self._waitingTimeout);
                self._waitingTimeout = window.setTimeout(function() {
                    self._waitingTimeout = null
                }, TRANSITION_TIME);
                var z = Dialog.topZIndex += 10;
                self.doms.wrap.style.zIndex = z;
                self.doms.cover.style.zIndex = z + 1;
                self.doms.box.style.zIndex = z + 2;
                self.doms.wrap.classList.add("open");
                self.doms.wrap.offsetWidth = self.doms.wrap.offsetWidth | 0;
                self.doms.cover.classList.add("show");
                self.doms.box.classList.add("show")
            },
            "close": function(e) {
                var self = this;
                if (self.trigger("close", e) === false) return;
                self._waitingTimeout && window.clearTimeout(self._waitingTimeout);
                self._waitingTimeout = window.setTimeout(function() {
                    self.doms.wrap.classList.remove("open");
                    self.doms.wrap.offsetWidth = self.doms.wrap.offsetWidth | 0;
                    self._waitingTimeout = null
                }, TRANSITION_TIME);
                self.doms.cover.classList.remove("show");
                self.doms.box.classList.remove("show")
            },
            "on": function(type, callback) {
                var self = this,
                    typeCallbacks =
                        self.callbacks[type];
                if (!dialogUtils.isArray(typeCallbacks)) self.callbacks[type] = typeCallbacks = [];
                typeCallbacks.push(callback)
            },
            "trigger": function(type) {
                var self = this,
                    typeCallbacks = self.callbacks[type] || [],
                    args = Array.prototype.splice.apply(arguments, [1]);
                for (var i = 0, callback; callback = typeCallbacks[i]; i++) {
                    var res = callback.apply(this, args);
                    if (res === false) return res
                }
            }
        }, dialogPrototypes.ENTITY, dialogPrototypes.CONTAINER])
    }, {
        "./_dialog-prototypes.js": 5,
        "./_dialog-types.js": 7,
        "./_dialog-utils.js": 8
    }],
    10: [function(require, module, exports) {
        var _loaded = false,
            _cbs = [];
        var DOMLoadState = module.exports = {
            isLoaded: function() {
                return _loaded
            },
            whenLoad: function(cb) {
                _cbs.push(cb)
            },
            _bindEvent: function() {
                var self = this,
                    onLoad = function() {
                        self._onLoad()
                    };
                if (document.addEventListener) document.addEventListener("DOMContentLoaded", onLoad);
                else if (window.addEventListener) window.addEventListener("load", onLoad);
                else if (window.attachEvent) window.attachEvent("onload", onLoad)
            },
            _onLoad: function() {
                _loaded = true;
                _cbs.forEach(function(cb) {
                    cb &&
                    cb()
                })
            }
        };
        DOMLoadState._bindEvent()
    }, {}],
    11: [function(require, module, exports) {
        var dialogUtils = require("./_dialog-utils.js"),
            Promise = require("./_dialog-promise.js"),
            Dialog = require("./_dialog.js"),
            DialogChild = require("./_dialog-child.js"),
            DialogPara = require("./_dialog-para.js"),
            DialogButton = require("./_dialog-button.js"),
            DialogRow = require("./_dialog-row.js"),
            DOMLoadState = require("./_dom-load-state.js");
        var initializer = module.exports = {
            _initialized: false,
            _creators: [],
            init: function(opts) {
                var self = this,
                    initialized = self._initialized,
                    transitionTime = opts["transitionTime"] || 300,
                    dialogWrapClassName = opts["dialogWrapClassName"] || "pile-dialog-wrap",
                    templateText = opts["templateText"] || "",
                    styleText = opts["styleText"] || "";
                if (initialized) return;
                Dialog.setOptions({
                    TRANSITION_TIME: transitionTime,
                    WRAP_CLASS_NAME: dialogWrapClassName,
                    TEMPLATE_TEXT: templateText
                });
                styleText && self._createStyle(styleText);
                if (DOMLoadState.isLoaded()) self._doCreate();
                else DOMLoadState.whenLoad(function() {
                    self._doCreate()
                })
            },
            _createStyle: function(styleText) {
                var style =
                    document.createElement("STYLE");
                style.innerHTML = styleText;
                document.body.appendChild(style)
            },
            expose: function() {
                window.PileDialog = Dialog;
                window.PileDialogChild = DialogChild;
                window.PileDialogPara = DialogPara;
                window.PileDialogButton = DialogButton;
                window.PileDialogRow = DialogRow;
                return Dialog
            },
            _doCreate: function() {
                var creators = this._creators;
                creators.forEach(function(creator) {
                    creator()
                })
            },
            lazyCreate: function(dialogName, funcName, creator) {
                if (Dialog[dialogName]) {
                    console.error("PileDialog.%s \u5df2\u5b58\u5728\u3002\n(PileDialog.%s already exists.)",
                        dialogName, dialogName);
                    return
                }
                if (Dialog[funcName]) {
                    console.error("PileDialog.%s \u5df2\u5b58\u5728\u3002\n(PileDialog.%s already exists.)", funcName, funcName);
                    return
                }
                Dialog[funcName] = function() {
                    var args = arguments;
                    window.setTimeout(function() {
                        Dialog[funcName].apply(Dialog[dialogName], args)
                    }, 50)
                };
                this._creators.push(creator)
            }
        };
        initializer.lazyCreate("toastDialog", "toast", function() {
            Dialog.toastDialog = new Dialog({
                prop: {
                    skin: "toast",
                    cover: false,
                    closeBtn: false,
                    lock: false
                },
                content: [""]
            });
            Dialog.toastDialog.hideTitle();
            Dialog.toast = function(msg, time, callback) {
                var dialog = Dialog.toastDialog;
                dialog.find(0)
                    .setText(msg);
                dialog.open();
                if (dialog._closeTimeout) window.clearTimeout(dialog._closeTimeout);
                if (arguments.length === 2 && typeof time === "function") {
                    callback = time;
                    time = undefined
                }
                time = time === undefined ? 2500 : time;
                if (time) dialog._closeTimeout = window.setTimeout(function() {
                    dialog.close();
                    dialog._closeTimeout = null;
                    callback && callback()
                }, time)
            }
        });
        initializer.lazyCreate("alertDialog", "alert", function() {
            Dialog.alertDialog = new Dialog({
                prop: {
                    skin: "default",
                    cover: true,
                    closeBtn: true,
                    lock: false
                },
                content: [{
                    text: "\u786e\u5b9a",
                    click: function() {
                        var dialog = this.dialog();
                        dialog._resolved = true;
                        dialog.close()
                    }
                }]
            });
            Dialog.alertDialog.on("close", function(e) {
                var dialog = this,
                    promise = dialog._promise,
                    resolved = dialog._resolved;
                promise && (resolved ? promise.resolve(e) : promise.reject(e))
            });
            Dialog.alert = function(contents, title, btnText) {
                var dialog = Dialog.alertDialog,
                    btnOk = dialog.find(-1),
                    promise = new Promise;
                if (!dialogUtils.isArray(contents)) contents = [contents];
                dialog.remove(btnOk);
                dialog.clear();
                contents.forEach(function(content) {
                    dialog.append(content)
                });
                dialog.append(btnOk);
                dialog.setTitle(title || "\u63d0\u793a");
                btnOk.setText(btnText || "\u786e\u5b9a");
                dialog._promise = promise;
                dialog._resolved = false;
                dialog.open();
                return promise
            }
        });
        initializer.lazyCreate("confirmDialog", "confirm", function() {
            Dialog.confirmDialog = new Dialog({
                prop: {
                    skin: "default",
                    cover: true,
                    closeBtn: true,
                    lock: true
                },
                content: [new PileDialogRow({
                    content: [{
                        text: "\u53d6\u6d88",
                        style: {
                            flex: 1
                        },
                        click: function() {
                            var dialog =
                                this.dialog();
                            dialog._resolved = false;
                            dialog.close()
                        }
                    }, {
                        text: "\u786e\u5b9a",
                        style: {
                            flex: 1,
                            marginLeft: 0
                        },
                        click: function() {
                            var dialog = this.dialog();
                            dialog._resolved = true;
                            dialog.close()
                        }
                    }]
                })]
            });
            Dialog.confirmDialog.on("close", function(e) {
                var dialog = this,
                    promise = dialog._promise,
                    resolved = dialog._resolved;
                promise && (resolved ? promise.resolve(e) : promise.reject(e))
            });
            Dialog.confirm = function(contents, title, btnTextCancel, btnTextConfirm) {
                var dialog = Dialog.confirmDialog,
                    btnRow = dialog.find(-1),
                    promise = new Promise,
                    btnText = {
                        cancel: btnTextCancel || "\u53d6\u6d88",
                        confirm: btnTextConfirm || "\u786e\u5b9a"
                    };
                if (!dialogUtils.isArray(contents)) contents = [contents];
                dialog.remove(btnRow);
                dialog.clear();
                contents.forEach(function(content) {
                    dialog.append(content)
                });
                dialog.append(btnRow);
                dialog.setTitle(title || "\u63d0\u793a");
                btnRow.find(0)
                    .setText(btnText.cancel);
                btnRow.find(1)
                    .setText(btnText.confirm);
                dialog._promise = promise;
                dialog._resolved = false;
                dialog.open();
                return promise
            }
        })
    }, {
        "./_dialog-button.js": 1,
        "./_dialog-child.js": 2,
        "./_dialog-para.js": 3,
        "./_dialog-promise.js": 4,
        "./_dialog-row.js": 6,
        "./_dialog-utils.js": 8,
        "./_dialog.js": 9,
        "./_dom-load-state.js": 10
    }],
    12: [function(require, module, exports) {
        (function() {
            var templateText = '<div class="dialog-cover"></div>\r\n<div class="dialog-box">\r\n    <p class="dialog-title"></p>\r\n    <a class="dialog-close-btn"></a>\r\n\r\n    <div class="dialog-content"></div>\r\n</div>\r\n',
                styleText = '@charset "UTF-8";html{font-size:20px}html{font-size:10px}@media screen and (min-width:320px){html{font-size:17px}}@media screen and (min-width:360px){html{font-size:19.2px}}@media screen and (min-width:375px){html{font-size:20px}}@media screen and (min-width:414px){html{font-size:22px}}body{font-size:14px}\n/*! Pile Dialog Styles */\n.pile-dialog-wrap{-webkit-tap-highlight-color:transparent}.pile-dialog-wrap.default .dialog-box{border-radius:.2rem;background-color:#fff;-webkit-box-shadow:0 0 .375rem rgba(0,0,0,.3);box-shadow:0 0 .375rem rgba(0,0,0,.3);margin:0 .4rem;min-width:40%}.pile-dialog-wrap.default .dialog-box .dialog-title{height:2.75rem;line-height:2.75rem;margin:0;padding-left:1.05rem;padding-right:1.05rem;border-radius:.2rem .2rem 0 0;border-bottom:1px solid #dadada;background-color:#fff;color:#333;font-size:.75rem}.pile-dialog-wrap.default .dialog-box .dialog-close-btn{width:1.9rem;height:1.9rem;padding:.375rem .425rem .475rem .425rem}.pile-dialog-wrap.default .dialog-box .dialog-close-btn::after{content:"";display:block;width:1.9rem;height:1.9rem;border-radius:.1rem;background:url("data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAA51BMVEUAAABRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVHw6GZRUVHu5mbo4GXj3GTf2GRtbFVhYVPs5GXJw2FmZVReXVPb1GPX0GOMiVmIhVh4dlZqaVRxb1Xl3mXUzWLRy2K8tl+no1yPjFmFglh/fFd0clZaWlJXV1JSUlGgnFyZllrOx2HCvWC9t1+qpl2VklqRjlmBf1dDolf5AAAAJXRSTlMAKcMmvKscFu7Vt7Kvh08hEAJvDAf69enizMelnUEaYNypejYx4/ITWwAAAgdJREFUSMft1NlS8kAQBeBJlEhYJYAKKK45ypKIBFwAF8Bd3/95/plM/1pWOgbLC284F1SK4atMNXVaLLPM71PIm3mLP7LkUSHObUMmbXBHRhoy27wrYj7xB6gajKti4E/mKLJwF4HrHl9jw4i4DVwfu26A3Rj45koZIL0SuWcgnfsGh4UGZiMlB9j8Ilc2MVBuNIMRN5zelZI32AoluS3cKHfVU8Phk0KvL3/i3WKv+DGyPdx68st+DykWkeyeaWkXydnanXXJ8SnltDwZwrbC/93G8ES7XEl8k0oWp20ta5Z0Ne3ap8hWxLcpZ0jeod5s1nFHLlMWCVlfxXlLyQuYJi6Ua51jdT2BadlRstXB/wfGcVmTL7oMXxS++rIDcy3JkKzrK7bb+sr1BZ0aph6KHlLN+kGjMR9rOJ6j8BOHF5fygsXlDjBRxvfV5wTYWdjdh242C+X9gvKQ3OMUmD6qpwfgMNkdAQ+uzGiKRgPTEcmjJGdU8Uq1bQjRoGq/MiuMWUu6tvtCZl9Vm11h/Frqh7WlaocyiCxcZi1RbT+rzawwmchaotp+rTatMDYlG+9etLYVqrb3DrvEwjyGHtVWO0pZVjuUQ+RZaML/rC1XbR8mC3N4ptoy1e7Iaj8jx0IH3fGTdpx8GnfhCDZZyJhN7qhpQiYrYuKkMgdxZweZlCOWWebv8g9gBmPlYiejIwAAAABJRU5ErkJggg==") no-repeat center center;background-size:1.4rem 1.4rem}.pile-dialog-wrap.default .dialog-box .dialog-close-btn:active::after{background-color:#dcdcd6}.pile-dialog-wrap.default .dialog-box .dialog-content{padding-bottom:1.25rem;border-radius:.2rem .2rem 0 0;background-color:#fff;color:#333;font-size:.7rem}.pile-dialog-wrap.default .dialog-box .dialog-content .weak{color:#868686}.pile-dialog-wrap.default .dialog-box .dialog-content .small{font-size:.6rem}.pile-dialog-wrap.default .dialog-box .dialog-content .del{text-decoration:line-through}.pile-dialog-wrap.default .dialog-box .dialog-content .em{font-style:normal;text-shadow:0 0 4px #fcf988}.pile-dialog-wrap.default .dialog-box .dialog-content .link{display:inline-block;padding:.1rem 0;color:#e65d52;border-bottom:1px solid #e65d52}.pile-dialog-wrap.default .dialog-box .dialog-para{margin:1.25rem 1.05rem 0 1.05rem;padding:0}.pile-dialog-wrap.default .dialog-box .dialog-btn{margin:1.25rem 1.05rem 0 1.05rem;padding:0 .5rem;height:2rem;line-height:2rem;border-radius:.15rem;border:2px solid #767676;background-color:#fdf986;color:#545253;font-size:.75rem;text-align:center}.pile-dialog-wrap.default .dialog-box .dialog-btn:active,.pile-dialog-wrap.default .dialog-box .dialog-btn.active{background-color:#827e02}.pile-dialog-wrap.default .dialog-box .dialog-btn[disabled],.pile-dialog-wrap.default .dialog-box .dialog-btn.disabled{background-color:#c5c5c5}.pile-dialog-wrap.light-salmon .dialog-box{border-radius:.2rem;background-color:#fff;-webkit-box-shadow:0 0 .375rem rgba(0,0,0,.3);box-shadow:0 0 .375rem rgba(0,0,0,.3);margin:0 .4rem;min-width:40%}.pile-dialog-wrap.light-salmon .dialog-box .dialog-title{height:2.75rem;line-height:2.75rem;margin:0;padding-left:1.05rem;padding-right:1.05rem;border-radius:.2rem .2rem 0 0;border-bottom:1px solid #dadada;background-color:#fff;color:#333;font-size:.75rem}.pile-dialog-wrap.light-salmon .dialog-box .dialog-close-btn{width:1.9rem;height:1.9rem;padding:.375rem .425rem .475rem .425rem}.pile-dialog-wrap.light-salmon .dialog-box .dialog-close-btn::after{content:"";display:block;width:1.9rem;height:1.9rem;border-radius:.1rem;background:url("data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAADgAAAA4BAMAAABaqCYtAAAAElBMVEUAAAD/mmr/mmr/mmr/mmr/mmpfN+OxAAAABXRSTlMAnM2GSc5Tm0cAAACTSURBVDjL7dTNDYAgDIZh/wbw4t3EBYwTuAKH7r+KBw1tfRO+BeiJFh6jSBl6fLEc/8p11+Fka54bba/j2Uqe3OyMyZphQYa1nmIpc0IvEHoF0EuEoA5JHYI6JE2Q1CFpgKQBkgZISshJ/Vj9QvwUvQl6+/TG85cRgspjwgNGSCoPNdtBNJJowUbzirZvXBg93ngA5lQopdA864gAAAAASUVORK5CYII=") no-repeat center center;background-size:1.4rem 1.4rem}.pile-dialog-wrap.light-salmon .dialog-box .dialog-close-btn:active::after{background-color:#dcdcd6}.pile-dialog-wrap.light-salmon .dialog-box .dialog-content{padding-bottom:1.25rem;border-radius:.2rem .2rem 0 0;background-color:#fff;color:#333;font-size:.7rem}.pile-dialog-wrap.light-salmon .dialog-box .dialog-content .weak{color:#868686}.pile-dialog-wrap.light-salmon .dialog-box .dialog-content .small{font-size:.6rem}.pile-dialog-wrap.light-salmon .dialog-box .dialog-content .del{text-decoration:line-through}.pile-dialog-wrap.light-salmon .dialog-box .dialog-content .em{font-style:normal;text-shadow:0 0 4px #ff7737}.pile-dialog-wrap.light-salmon .dialog-box .dialog-content .link{display:inline-block;padding:.1rem 0;color:#eb6056;border-bottom:1px solid #eb6056}.pile-dialog-wrap.light-salmon .dialog-box .dialog-para{margin:1.25rem 1.05rem 0 1.05rem;padding:0}.pile-dialog-wrap.light-salmon .dialog-box .dialog-btn{margin:1.25rem 1.05rem 0 1.05rem;padding:0 .5rem;height:2.15rem;line-height:2.15rem;border-radius:.15rem;background-color:#ff9a6a;color:#fff;font-size:.75rem;text-align:center}.pile-dialog-wrap.light-salmon .dialog-box .dialog-btn:active,.pile-dialog-wrap.light-salmon .dialog-box .dialog-btn.active{background-color:#ff7737}.pile-dialog-wrap.light-salmon .dialog-box .dialog-btn[disabled],.pile-dialog-wrap.light-salmon .dialog-box .dialog-btn.disabled{background-color:#c5c5c5}.pile-dialog-wrap.flat{top:auto;bottom:0;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;-ms-grid-row-align:flex-end;align-items:flex-end}.pile-dialog-wrap.flat .dialog-box{background-color:#fff;width:100%}.pile-dialog-wrap.flat .dialog-box .dialog-title{height:2.5rem;line-height:2.5rem;color:#333;text-align:center;font-size:.8rem}.pile-dialog-wrap.flat .dialog-box .dialog-close-btn{display:none}.pile-dialog-wrap.flat .dialog-box .dialog-content{color:#535252;font-size:.7rem}.pile-dialog-wrap.flat .dialog-box .dialog-content .weak{color:#969696}.pile-dialog-wrap.flat .dialog-box .dialog-content .small{font-size:.6rem}.pile-dialog-wrap.flat .dialog-box .dialog-content .del{text-decoration:line-through}.pile-dialog-wrap.flat .dialog-box .dialog-content .em{font-style:normal;text-shadow:0 0 4px #e86a3e}.pile-dialog-wrap.flat .dialog-box .dialog-para{margin:1.25rem 1.75rem 0 1.75rem;padding:0}.pile-dialog-wrap.flat .dialog-box .dialog-btn{margin:1.25rem 0 0 0;padding:0;height:3rem;line-height:3rem;border-top:1px solid #c5c5c5;background-color:#f5f5ee;color:#535252;font-size:.8rem;text-align:center}.pile-dialog-wrap.toast{top:auto;bottom:3.75rem;height:auto}.pile-dialog-wrap.toast .dialog-box{display:inline-block;background-color:rgba(40,40,40,.95);border-radius:2.5rem;margin:0 auto}.pile-dialog-wrap.toast .dialog-box .dialog-title{height:2.5rem;line-height:2.5rem;color:#333;text-align:center;font-size:.8rem}.pile-dialog-wrap.toast .dialog-box .dialog-close-btn{display:none}.pile-dialog-wrap.toast .dialog-box .dialog-content{color:#c5c5c5;font-size:.65rem}.pile-dialog-wrap.toast .dialog-box .dialog-content .weak{color:#969696}.pile-dialog-wrap.toast .dialog-box .dialog-content .small{font-size:.6rem}.pile-dialog-wrap.toast .dialog-box .dialog-content .del{text-decoration:line-through}.pile-dialog-wrap.toast .dialog-box .dialog-content .em{font-style:normal;text-shadow:0 0 4px #e86a3e}.pile-dialog-wrap.toast .dialog-box .dialog-para{height:2.5rem;line-height:2.5rem;padding:0 1.75rem}.pile-dialog-wrap{display:none;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;-ms-grid-row-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:fixed;top:0;left:0;z-index:1000000;width:100%;height:100%;text-align:center;pointer-events:none}.pile-dialog-wrap.open{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.pile-dialog-wrap .dialog-box,.pile-dialog-wrap .dialog-cover{pointer-events:auto}.dialog-cover{position:fixed;z-index:1000001;top:0;left:0;width:100%;height:100%;background-color:#000;-webkit-transition:opacity 300ms ease;transition:opacity 300ms ease;opacity:0}.dialog-cover.show{opacity:.25}.dialog-box{position:relative;z-index:1000002;overflow:hidden;-webkit-transition:opacity 300ms ease,-webkit-transform 300ms ease;transition:opacity 300ms ease,-webkit-transform 300ms ease;transition:transform 300ms ease,opacity 300ms ease;transition:transform 300ms ease,opacity 300ms ease,-webkit-transform 300ms ease;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);opacity:0;text-align:left}.dialog-box.show{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dialog-box .dialog-title{-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.dialog-box .dialog-close-btn{display:block;position:absolute;top:0;right:0;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);cursor:pointer}.dialog-box .dialog-content{position:relative;overflow:hidden;text-overflow:ellipsis}.dialog-box .dialog-para{display:block;line-height:1.4}.dialog-box .dialog-btn{display:block;text-align:center;cursor:pointer}.dialog-box .dialog-row{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}',
                initializer = require("./js/_initializer.js");
            initializer.init({
                templateText: templateText,
                styleText: styleText
            });
            module.exports = initializer.expose()
        })()
    }, {
        "./js/_initializer.js": 11
    }]
}, {}, [12]);
var QC = function() {
    var EMPTY_FUN = function() {};
    var ieVer = window.ActiveXObject && ~~navigator.userAgent.match(/MSIE\s+(\d+)/)[1];
    var $Toolkit = function() {
        var str2dom = function(_str) {
            var _ret = [],
                _cot = arguments.callee._temp = arguments.callee._temp || document.createElement("div");
            _cot.innerHTML = _str;
            while (_cot.firstChild) _ret.push(_cot.removeChild(_cot.firstChild));
            return _ret.length > 1 ? function() {
                var tmp = document.createDocumentFragment();
                for (var i = 0; i < _ret.length; i++) tmp.appendChild(_ret[i]);
                return tmp
            }() : _ret[0]
        };
        var format = function(str, obj) {
            return str.replace(arguments.callee._reg, function(_i, _1) {
                return obj[_1] !== null ? obj[_1] : _1
            })
        };
        format._reg = /\{(\w+)\}/g;
        return {
            str2dom: str2dom,
            format: format,
            extend: function(_Cld, _Prt) {
                var fn = EMPTY_FUN;
                fn.prototype = _Prt.prototype;
                _Cld.prototype = new fn;
                _Cld.constructor = _Cld;
                return _Cld
            }
        }
    }();
    var $JSON = function() {
        var escapable = /[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            meta = {
                "\b": "\\b",
                "\t": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            };

        function quote(string) {
            escapable.lastIndex = 0;
            return escapable.test(string) ? '"' + string.replace(escapable, function(a) {
                var c = meta[a];
                return typeof c === "string" ? c : "\\u" + ("0000" + a.charCodeAt(0)
                    .toString(16))
                    .slice(-4)
            }) + '"' : '"' + string + '"'
        }

        function stringify(obj) {
            var ret = [],
                v = "";
            for (var i in obj) {
                v = obj[i];
                v = v !== undefined ? v : "";
                switch (typeof v) {
                    case "string":
                        v = quote(v);
                        break;
                    case "object":
                        v = stringify(v);
                        break;
                    case "function":
                        continue
                }
                ret.push('"' + i +
                    '":' + v)
            }
            return "{" + ret + "}"
        }
        return {
            stringify: function() {
                return window.JSON && JSON.stringify ? JSON.stringify : stringify
            }(),
            parse: function(str) {
                str = str || "{}";
                var ret = {};
                try {
                    ret = (new Function("return (" + str + ")"))()
                } catch (e) {
                    $Console.error("JSON.parse => parse\u6570\u636e\u683c\u5f0f\u9519\u8bef:" + str)
                }
                return ret
            }
        }
    }();
    var $XML = function() {
        if (document.implementation.hasFeature("XPath", "3.0")) {
            XMLDocument.prototype.selectNodes = function(cXPathString, xNode) {
                if (!xNode) xNode = this;
                var oNSResolver = this.createNSResolver(this.documentElement);
                var aItems = this.evaluate(cXPathString, xNode, oNSResolver, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
                var aResult = [];
                for (var i = 0; i < aItems.snapshotLength; i++) aResult[i] = aItems.snapshotItem(i);
                return aResult
            };
            Element.prototype.selectNodes = function(cXPathString) {
                if (this.ownerDocument.selectNodes) return this.ownerDocument.selectNodes(cXPathString, this);
                else throw "For XML Elements Only";
            }
        }
        var loadXML = function(xmlString) {
            var XMLDoc = ieVer ? new ActiveXObject("Microsoft.XMLDOM") : document.implementation.createDocument("text/xml",
                "", null);
            if (ieVer)
                if (XMLDoc.loadXML(xmlString)) return XMLDoc;
                else return null;
            else try {
                var childNodes = XMLDoc.childNodes;
                for (var i = childNodes.length - 1; i >= 0; i--) XMLDoc.removeChild(childNodes[i]);
                var dp = new DOMParser;
                var newDOM = dp.parseFromString(xmlString, "text/xml");
                var newElt = XMLDoc.importNode(newDOM.documentElement, true);
                XMLDoc.appendChild(newElt);
                return XMLDoc
            } catch (ex) {
                return null
            }
        };
        return {
            stringify: function(doc) {
                return doc.xml || (new XMLSerializer)
                    .serializeToString(doc)
            },
            parse: loadXML
        }
    }();
    var $Object =
        function() {
            return {
                extend: function() {
                    var args = arguments,
                        len = arguments.length,
                        deep = false,
                        i = 1,
                        target = args[0],
                        opts, src, clone, copy;
                    if (typeof target === "boolean") {
                        deep = target;
                        target = arguments[1] || {};
                        i = 2
                    }
                    if (typeof target !== "object" && typeof target !== "function") target = {};
                    if (len === i) {
                        target = {};
                        --i
                    }
                    for (; i < len; i++)
                        if ((opts = arguments[i]) != null)
                            for (var name in opts) {
                                src = target[name];
                                copy = opts[name];
                                if (target === copy) continue;
                                if (deep && copy && typeof copy === "object" && !copy.nodeType) {
                                    if (src) clone = src;
                                    else if (copy instanceof Array) clone = [];
                                    else if (typeof copy === "object") clone = {};
                                    else clone = copy;
                                    target[name] = object.extend(deep, clone, copy)
                                } else if (copy !== undefined) target[name] = copy
                            }
                    return target
                }
            }
        }();
    var $QueryString = function() {
        var re = /"/g;
        var tool = {
            genHttpParamString: function(o) {
                return this.commonDictionaryJoin(o, null, null, null, window.encodeURIComponent)
            },
            splitHttpParamString: function(s) {
                return this.commonDictionarySplit(s, null, null, null, window.decodeURIComponent)
            },
            commonDictionarySplit: function(s, esp, vq, eq, valueHandler) {
                var res = {},
                    l, ks, vs, t, vv;
                if (!s || typeof s != "string") return res;
                if (typeof esp != "string") esp = "&";
                if (typeof vq != "string") vq = "";
                if (typeof eq != "string") eq = "=";
                l = s.split(esp);
                if (l && l.length)
                    for (var i = 0, len = l.length; i < len; ++i) {
                        ks = l[i].split(eq);
                        if (ks.length > 1) {
                            t = ks.slice(1)
                                .join(eq);
                            vs = t.split(vq);
                            vv = vs.slice(vq.length, vs.length - vq.length)
                                .join(vq);
                            res[ks[0]] = typeof valueHandler == "function" ? valueHandler(vv) : vv
                        } else ks[0] && (res[ks[0]] = true)
                    }
                return res
            },
            commonDictionaryJoin: function(o, esp, vq, eq, valueHandler) {
                var res = [],
                    t, ok;
                if (!o || typeof o != "object") return "";
                if (typeof o == "string") return o;
                if (typeof esp != "string") esp = "&";
                if (typeof vq != "string") vq = "";
                if (typeof eq != "string") eq = "=";
                for (var k in o) {
                    ok = (o[k] + "")
                        .replace(re, '\\"');
                    res.push(k + eq + vq + (typeof valueHandler == "function" ? valueHandler(ok) : ok) + vq)
                }
                return res.join(esp)
            }
        };
        return {
            stringify: function(obj) {
                return tool.genHttpParamString(obj)
            },
            parse: function(str) {
                return tool.splitHttpParamString(str)
            },
            getParameter: function(name) {
                var r = new RegExp("(\\?|#|&)" + name + "=([^&#]*)(&|#|$)"),
                    m = location.href.match(r);
                return decodeURIComponent(!m ? "" : m[2])
            }
        }
    }();
    var $String = function() {
        var res = [/&(?!amp;|lt;|gt;|#039;|quot;|#39;)/g, /</g, />/g, /\x27/g, /\x22/g],
            rep = ["&amp;", "&lt;", "&gt;", "&#039;", "&quot;"];
        return {
            escHTML: function(str) {
                var ret = str;
                for (var i = 0, l = res.length; i < l; i++) ret = ret.replace(res[i], rep[i]);
                return ret
            },
            format: $Toolkit.format
        }
    }();
    var $Cookie = function() {
        var domainPrefix = document.domain || "";
        return {
            set: function(name, value, domain, path, hour) {
                if (hour) {
                    var expire = new Date;
                    expire.setTime(expire.getTime() +
                        36E5 * hour)
                }
                document.cookie = name + "=" + value + "; " + (hour ? "expires=" + expire.toGMTString() + "; " : "") + (path ? "path=" + path + "; " : "path=/; ") + (domain ? "domain=" + domain + ";" : "domain=" + domainPrefix + ";");
                return true
            },
            get: function(name) {
                var r = new RegExp("(?:^|;+|\\s+)" + name + "=([^;]*)"),
                    m = document.cookie.match(r);
                return !m ? "" : m[1]
            },
            del: function(name, domain, path) {
                document.cookie = name + "=; expires=Mon, 26 Jul 1997 05:00:00 GMT; " + (path ? "path=" + path + "; " : "path=/; ") + (domain ? "domain=" + domain + ";" : "domain=" + domainPrefix + ";")
            }
        }
    }();
    var $Console = function() {
        var LEVELS = {
            log: 3,
            info: 2,
            warn: 1,
            error: 0
        };
        var _QC_CONSOLE_DEBUG_LEVEL = LEVELS.info;
        var cons_prefix = " :: [QQConnect] > ";
        var trace = function(funName) {
            return function(args) {
                window.console && console[funName] && getDebugLevel() >= LEVELS[funName] && console[funName](cons_prefix + args)
            }
        };
        var getDebugLevel = function() {
            return ~~(_QC_CONSOLE_DEBUG_LEVEL || LEVELS.info)
        };
        return {
            log: trace("log"),
            info: trace("info"),
            warn: trace("warn"),
            error: trace("error"),
            setLevel: function(lvNm) {
                return _QC_CONSOLE_DEBUG_LEVEL =
                    LEVELS[lvNm] || _QC_CONSOLE_DEBUG_LEVEL
            }
        }
    }();
    var $Event = function() {
        var readyBound;

        function ready() {
            ready.fired = true;
            var fun;
            while (fun = ready.list.shift()) fun()
        }
        ready.list = [];
        ready.fired = false;

        function bindReady() {
            if (readyBound) return;
            readyBound = true;
            if (document.addEventListener) document.addEventListener("DOMContentLoaded", function() {
                document.removeEventListener("DOMContentLoaded", arguments.callee, false);
                ready()
            }, false);
            else if (document.attachEvent) {
                document.attachEvent("onreadystatechange", function() {
                    if (document.readyState ===
                        "complete" || document.readyState === "loaded") {
                        document.detachEvent("onreadystatechange", arguments.callee);
                        ready()
                    }
                });
                if (document.documentElement.doScroll)(function() {
                    try {
                        document.documentElement.doScroll("left");
                        document.body.appendChild
                    } catch (error) {
                        if (!ready.fired) setTimeout(arguments.callee, 0);
                        return
                    }
                    ready()
                })()
            }
        }
        bindReady();
        return {
            domReady: function(fun) {
                if (typeof fun == "function")
                    if (ready.fired || document.readyState === "complete" || document.readyState === "loaded") {
                        ready();
                        fun()
                    } else ready.list.push(fun)
            },
            add: function(dom, evtTp, fn) {
                if (dom && evtTp && fn) dom && dom.addEventListener ? dom.addEventListener(evtTp, fn, false) : dom.attachEvent("on" + evtTp, fn)
            },
            remove: function(dom, evtTp, fn) {
                if (dom && evtTp && fn) dom && dom.removeEventListener ? dom.removeEventListener(evtTp, fn, false) : dom.detachEvent("on" + evtTp, fn)
            }
        }
    }();
    var Like = function() {
        return {
            _insertButton: EMPTY_FUN
        }
    };
    var Share = function() {
        return {}
    };
    var _pv = function(domain, path, opts) {
        setTimeout(function() {
            _pv.send(domain, path, opts)
        }, 0)
    };
    _pv.send = function(domain, path, opts) {
        var pvCgi =
            "http://pingfore.qq.com/pingd";
        var sParam = "?cc=-&ct=-&java=1&lang=-&pf=-&scl=-&scr=-&tt=-&tz=-8&vs=3.3&flash=&";
        var _cookieP = /(?:^|;+|\s+)pgv_pvid=([^;]*)/i;
        var ref, dm, url, rdm, rurl, pgv_pvid, sds, t, img;
        opts = opts || {};
        dm = domain || location.hostname || "-";
        url = path || "/open/connect/error_path";
        rdm = opts.referDomain || location.hostname;
        rurl = opts.referPath || location.pathname;
        sds = Math.random();
        t = document.cookie.match(_cookieP);
        if (t && t.length && t.length > 1) pgv_pvid = t[1];
        else {
            pgv_pvid = Math.round(Math.random() * 2147483647) *
                (new Date)
                    .getUTCMilliseconds() % 1E10;
            document.cookie = "pgv_pvid=" + pgv_pvid + "; path=/; domain=" + location.hostname + "; expires=Sun, 18 Jan 2038 00:00:00 GMT;"
        }
        img = new Image;
        img.onload = img.onerror = function() {
            img.onload = img.onerror = null;
            img = null
        };
        img.src = pvCgi + sParam + "dm=" + dm + "&url=" + url + "&rdm=" + rdm + "&rurl=" + escape(rurl) + "&pgv_pvid=" + pgv_pvid + "&sds=" + sds
    };
    var _valueStat = function(statId, resultType, returnValue, opts) {
        setTimeout(function() {
            _valueStat.send(statId, resultType, returnValue, opts)
        }, 0)
    };
    _valueStat.send =
        function(statId, resultType, returnValue, opts) {
            var vsCgi = "http://isdspeed.qq.com/cgi-bin/v.cgi",
                params, img;
            opts = opts || {};
            params = ["flag1=" + statId, "flag2=" + resultType, "flag3=" + returnValue, "1=" + (opts.reportRate || 1), "2=" + (opts.duration || 1E3), "sds=" + Math.random()];
            img = new Image;
            img.onload = img.onerror = function() {
                img.onload = img.onerror = null;
                img = null
            };
            img.src = vsCgi + "?" + params.join("&")
        };
    var reportBNL = function(id, obj) {
        var timestamp = +new Date;
        var img = document.createElement("img");
        obj = obj || 0;
        img.src = "http://cgi.connect.qq.com/report/report?strValue=" +
            obj + "&nValue=" + id + "&tag=0&t=" + timestamp
    };
    return {
        Like: Like(),
        Share: Share(),
        Toolkit: $Toolkit,
        JSON: $JSON,
        XML: $XML,
        Object: $Object,
        QueryString: $QueryString,
        String: $String,
        Cookie: $Cookie,
        Console: $Console,
        Event: $Event,
        pv: _pv,
        valueStat: _valueStat,
        reportBNL: reportBNL,
        getVersion: function() {
            return "1.0.1"
        }
    }
}();
(function(_qc) {
    var _ver = QC.getVersion();
    var $ = function(_) {
        return typeof _ == "string" ? document.getElementById(_) : _
    };
    var resDomain = "qzonestyle.gtimg.cn",
        mainDomain = "qzs.qq.com";
    var qc_script;
    var getDataPara = function(para) {
        return qc_script && (qc_script.dataset && qc_script.dataset[para] || qc_script.getAttribute("data-" + para))
    };
    var __qc_wId;
    ! function() {
        __qc_wId = ~~_qc.QueryString.getParameter("__qc_wId") || ~~_qc.Cookie.get("__qc_wId");
        if (!__qc_wId) {
            var ret = +new Date % 1E3;
            document.cookie = ["__qc_wId=" + ret, "; path=/"].join(";")
        }
    }();
    var reg = /qc_jssdk/i;
    var scripts = document.getElementsByTagName("script");
    for (var i = 0, script, l = scripts.length; i < l; i++) {
        script = scripts[i];
        var src = script.src || "";
        var mat = src.match(reg);
        if (mat) {
            qc_script = script;
            break
        }
    }
    var $Toolkit = _qc.Toolkit,
        $JSON = _qc.JSON,
        $XML = _qc.XML,
        $Object = _qc.Object,
        $QueryString = _qc.QueryString,
        $String = _qc.String,
        $Cookie = _qc.Cookie,
        $Console = _qc.Console;
    var EMPTY_FUN = function() {};
    var ieVer = window.ActiveXObject && ~~navigator.userAgent.match(/MSIE\s+(\d+)/)[1];
    var config = {
        PMCrossPage: "https://graph.qq.com/jsdkproxy/PMProxy.html#" +
            _ver,
        FLACrossPage: "https://graph.qq.com/jsdkproxy/FLAProxy.swf",
        getCrossSolution: function() {
            var solution;
            if (window.postMessage) solution = "PMProxy";
            else if (!!(window.ActiveXObject && !! function() {
                var ret = true;
                try {
                    new ActiveXObject("ShockwaveFlash.ShockwaveFlash")
                } catch (e) {
                    ret = false
                }
                return ret
            }() || navigator.plugins && navigator.plugins["Shockwave Flash"] || false)) solution = "FLAProxy";
            else {
                _qc.Console.error("\u672a\u627e\u5230\u53ef\u7528\u7684\u8de8\u57df\u901a\u4fe1\u65b9\u6848");
                solution = "EMPProxy"
            }
            _qc.Console.info("\u786e\u5b9a\u8de8\u57df\u4ee3\u7406\u7b56\u7565\uff1a" +
                solution);
            return solution
        }
    };
    var sequence = 1E3;
    _qc.getConfig = function() {
        return config
    };
    var Request = function(uri, paras, fmt, method) {
        this.uri = uri;
        this.paras = paras || {};
        this.fmt = fmt || "json";
        this.method = (method || "get")
            .toLocaleLowerCase();
        this.successPool = [];
        this.errorPool = [];
        this.completePool = [];
        this.seq = sequence++
    };
    Request.prototype.success = function(fun) {
        this.successPool.push(fun);
        return this
    };
    Request.prototype.error = function(fun) {
        this.errorPool.push(fun);
        return this
    };
    Request.prototype.complete = function(fun) {
        this.completePool.push(fun);
        return this
    };
    Request.prototype.send = EMPTY_FUN;
    Request.prototype._onCallback = function(xhr, fmt, seq) {
        if (xhr.status == 200 || xhr.status == 204) {
            var responseText = xhr.responseText,
                response = new Response(responseText, xhr.status, fmt, seq);
            !~~response.code ? this.onSuccess(response) : this.onError(response)
        } else this.onError(new Response("", xhr.status, fmt, seq))
    };
    Request.prototype.onSuccess = function(response) {
        var pool = this.successPool;
        for (var i = 0; i < pool.length; i++) pool[i](response);
        this.onComplete(response)
    };
    Request.prototype.onError =
        function(response) {
            var pool = this.errorPool;
            for (var i = 0; i < pool.length; i++) pool[i](response);
            this.onComplete(response)
        };
    Request.prototype.onComplete = function(response) {
        var pool = this.completePool;
        for (var i = 0; i < pool.length; i++) pool[i](response)
    };
    var Response = function(respData, status, fmt, seq) {
        this.status = status || -1;
        this.fmt = fmt || "json";
        this.code = this.ret = -1;
        this.data = null;
        this.seq = seq || -1;
        this.parseData(respData);
        if (this.code && Response[this.code]) Response[this.code](this.data, this.dataText)
    };
    Response.prototype.parseData =
        function(rd) {
            this.dataText = rd;
            switch (this.fmt) {
                case "xml":
                    this.data = _qc.XML.parse(rd || "<root></root>");
                    var node = this.data.selectNodes("//ret")[0];
                    this.code = this.ret = node && node.firstChild.nodeValue || -1;
                    break;
                case "json":
                default:
                    this.data = _qc.JSON.parse(rd || "{}");
                    this.code = this.ret = this.data.ret !== undefined ? ~~this.data.ret : this.data.data && this.data.data.ret !== undefined ? ~~this.data.data.ret : -1;
                    break
            }
        };
    Response.prototype.stringifyData = function() {
        return this.dataText
    };
    Response[100013] = function(dt, dtTxt) {
        _qc.Login.signOut();
        _qc.Console.warn("api\u8fd4\u56detoken\u5931\u6548")
    };
    var XHRRequest = _qc.Toolkit.extend(function() {
        Request.apply(this, arguments);
        this.xhr = XHRRequest.createInstance()
    }, Request);
    _qc.Object.extend(XHRRequest.prototype, {
        send: function() {
            var xhr = this.xhr,
                method = this.method,
                fmt = this.fmt,
                me = this,
                paras = _qc.QueryString.stringify(me.paras),
                uri = method == "post" ? this.uri : this.uri.indexOf("?") < 0 ? this.uri + "?" + paras : this.uri.replace(/[&?]*/g, "") + "&" + paras;
            xhr.open(method, uri, !!this.async);
            try {
                xhr.setRequestHeader("Content-Type",
                    "application/x-www-form-urlencoded");
                xhr.setRequestHeader("X-Requested-From", "_TC_QC_jsProxy_")
            } catch (e) {}
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) me._onCallback(xhr, fmt, me.seq)
            };
            xhr.send(paras || null)
        }
    });
    XHRRequest.createInstance = window.XMLHttpRequest ? function() {
        return new window.XMLHttpRequest
    } : function() {
        return new window.ActiveXObject("Microsoft.XMLHTTP")
    };
    var Proxy = function() {
        this.requests = [];
        this.invokes = [];
        this.readyPool = [];
        this.isReady = false;
        this.timeStamp = +new Date;
        this.init()
    };
    Proxy.prototype.init = EMPTY_FUN;
    Proxy.prototype.ready = function(fun) {
        this.readyPool.push(fun)
    };
    Proxy.prototype.onReady = function() {
        this.isReady = true;
        var pool = this.readyPool;
        for (var i = 0; i < pool.length; i++) pool[i]()
    };
    Proxy.prototype.send = function(req) {
        var pendingRequest;
        req && this.requests.push(req);
        while (this.isReady && (pendingRequest = this.requests.shift())) {
            Proxy.pendingRequests.push(pendingRequest);
            QC.Console.log("seq no :" + pendingRequest.seq + "\u8bf7\u6c42\u53d1\u8d77" + "  ts -> " + +new Date);
            this._doSend(pendingRequest)
        }
    };
    Proxy.prototype._doSend = function(req) {};
    Proxy.prototype._preDispatch = function(_this, cstDt, seq, fmt) {
        var dt = cstDt.data || cstDt.currentTarget && cstDt.currentTarget.data || {};
        var cmd = dt.split("@@@");
        switch (cmd[0]) {
            case "invoke":
                this.invoke(cmd[1]);
                break;
            default:
                this.dispatch(cmd[1] || cstDt, seq, fmt);
                break
        }
    };
    Proxy.prototype.invoke = function(ivk) {
        var pendingInvoke;
        ivk && this.invokes.push(ivk);
        while (this.isReady && (pendingInvoke = this.invokes.shift())) this._doInvoke(pendingInvoke)
    };
    Proxy.prototype._doInvoke = function(ivk) {};
    Proxy.prototype.dispose = function() {
        _proxy = null;
        this.onDispose()
    };
    Proxy.prototype.onDispose = function() {};
    Proxy.pendingRequests = [];
    Proxy.dispatchReceive = function(seq, resText, status, fmt) {
        var pendingRequests = Proxy.pendingRequests;
        for (var i = 0; i < pendingRequests.length; i++)
            if (pendingRequests[i].seq == seq) {
                QC.Console.log("seq no :" + seq + "\u54cd\u5e94\u6536\u5230" + "  ts -> " + +new Date);
                pendingRequests[i]._onCallback({
                    status: status,
                    responseText: resText
                }, fmt, seq);
                pendingRequests.splice(i, 1);
                return
            }
    };
    Proxy.invoke =
        function() {
            var _pendingPool = [];
            return function(cmdStr) {
                cmdStr && _pendingPool.push(cmdStr);
                if (!_proxy) {
                    _qc.Console.info("Proxy\u672a\u521d\u59cb\u5316\uff0cinvoke\u5165\u6808");
                    Proxy.generateProxy();
                    return
                }
                var _crtIvk;
                while (_crtIvk = _pendingPool.shift()) _proxy._doInvoke(_crtIvk)
            }
        }();
    var _proxy;
    Proxy.generateProxy = function(_name) {
        var _solutions = {
            PMProxy: PMProxy,
            FLAProxy: FLAProxy,
            EMPProxy: EMPProxy
        };
        if (_name) return new _solutions[_name];
        if (!_proxy) _proxy = new(_solutions[config.getCrossSolution()]);
        return _proxy
    };
    Proxy.getFunction = function(cmdP) {
        var cmd;
        cmdP = cmdP.split(".");
        for (var i = 0; i < cmdP.length; i++) cmd = cmd ? cmd[cmdP[i]] : window[cmdP[i]];
        return cmd
    };
    _qc._create_fla_proxy = function() {
        _qc._create_fla_proxy = EMPTY_FUN;
        if (!(document["_qc_cross_request_flash_proxy"] || $("_qc_cross_request_flash_proxy"))) new FLAProxy
    };
    var FLAProxy = _qc.Toolkit.extend(function() {
        Proxy.apply(this, arguments)
    }, Proxy);
    _qc.Object.extend(FLAProxy.prototype, {
        prefix: "_TC_QC_flaProxy_",
        init: function() {
            var _me = this,
                conId = function() {
                    var mat =
                            window.name.match(/oauth2Login_(\d+)/),
                        __qc_wId = ~~_qc.Cookie.get("__qc_wId"),
                        ret;
                    if (mat && mat[1]) ret = mat[1];
                    else if (window._b_is_qc_cb_win) ret = 1E4 + __qc_wId;
                    else {
                        ret = __qc_wId;
                        document.cookie = ["__qc_wId=" + ret, "; path=/"].join(";")
                    }
                    _qc.Console.info("\u8de8\u57df\u7a97\u53e3\u6807\u8bc6\u53f7 __qc_wId : " + ret);
                    return ret
                }(),
                receiveId = conId < 1E4 ? conId + 1E4 : conId - 1E4;
            var flaStr = FLAProxy.getFlashHtml({
                "src": config.FLACrossPage,
                "width": "100%",
                "height": "100%",
                "allowScriptAccess": "always",
                "id": "_qc_cross_request_flash_proxy",
                "name": "_qc_cross_request_flash_proxy",
                "flashVars": "suffix=" + this.timeStamp + "&conId=" + conId + "&conId_receive=" + receiveId
            });
            var cot = this.cot = document.createElement("div");
            cot.style.cssText = "position:fixed; _position:absolute; top:-999px; left: -999px; width:1px; height:1px; margin:0; padding:0; display:none;";
            cot.innerHTML = flaStr;
            QC.Event.domReady(function() {
                document.body.appendChild(cot);
                cot.style.display = "block"
            });
            window[this.prefix + "onFlashReady_" + this.timeStamp] = function() {
                _qc.Console.info("FLAProxy\u4ee3\u7406\u521b\u5efa\u6210\u529f\uff0c\u8017\u65f6" +
                    (new Date - _me.timeStamp));
                setTimeout(function() {
                    _me.isReady = true;
                    _me.send();
                    _me.invoke()
                });
                if (!_qc.Login._check()) document["_qc_cross_request_flash_proxy"].initConn()
            };
            window[this.prefix + "onFlashRequestComplete_" + this.timeStamp] = function(cstDt, seq, fmt) {
                setTimeout(function() {
                    _me._preDispatch(_me, cstDt, seq, fmt)
                })
            };
            window[this.prefix + "onFlashInvokeBack_" + this.timeStamp] = function() {
                var arg = arguments;
                setTimeout(function() {
                    var fun = Proxy.getFunction(arg[0]);
                    var paras = arg[1];
                    arg[0].indexOf(".") > -1 ? fun.apply(null,
                        paras) : fun(paras)
                })
            }
        },
        _doSend: function(regObj) {
            var uri = regObj.uri,
                paras = _qc.QueryString.stringify(regObj.paras),
                seq = regObj.seq,
                fmt = regObj.fmt,
                method = regObj.method;
            var proxyFun = document["_qc_cross_request_flash_proxy"].httpRequest || $("_qc_cross_request_flash_proxy")
                .httpRequest;
            proxyFun ? proxyFun(uri, paras, method, fmt, seq) : ! function() {
                throw new Error("flash proxy \u521d\u59cb\u5316\u5931\u8d25");
            }()
        },
        dispatch: function(cstDt, seq, fmt) {
            var data = cstDt.currentTarget.data,
                status = cstDt.type != "complete" ? 404 :
                    200;
            Proxy.dispatchReceive(seq, data, status, fmt)
        },
        _doInvoke: function(args) {
            var fun = document["_qc_cross_request_flash_proxy"].jsCallSwf || $("_qc_cross_request_flash_proxy")
                .jsCallSwf;
            fun && fun.apply(null, args)
        }
    });
    FLAProxy.getFlashHtml = function(flashArguments, requiredVersion, flashPlayerCID) {
        var _attrs = [],
            _params = [],
            _isIE = !!window.ActiveXObject;
        requiredVersion = requiredVersion || 9;
        for (var k in flashArguments) switch (k) {
            case "noSrc":
            case "movie":
                continue;
                break;
            case "id":
            case "name":
            case "width":
            case "height":
            case "style":
                if (typeof flashArguments[k] !=
                    "undefined") _attrs.push(" ", k, '="', flashArguments[k], '"');
                break;
            case "src":
                if (_isIE) _params.push('<param name="movie" value="', flashArguments.noSrc ? "" : flashArguments[k], '"/>');
                else _attrs.push(' data="', flashArguments.noSrc ? "" : flashArguments[k], '"');
                break;
            default:
                _params.push('<param name="', k, '" value="', flashArguments[k], '" />')
        }
        if (_isIE) _attrs.push(' classid="clsid:', flashPlayerCID || "D27CDB6E-AE6D-11cf-96B8-444553540000", '"');
        else _attrs.push(' type="application/x-shockwave-flash"');
        if (location &&
            location.protocol.indexOf("https") < 0) _attrs.push(' codeBase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab#version=', requiredVersion, '"');
        return "<object" + _attrs.join("") + ">" + _params.join("") + "</object>"
    };
    var _origin = "https://graph.qq.com",
        _origin_static = "http://qzonestyle.gtimg.cn";
    var PMProxy = _qc.Toolkit.extend(function() {
        Proxy.apply(this, arguments)
    }, Proxy);
    _qc.Object.extend(PMProxy.prototype, {
        init: function() {
            var _me = this;
            _me._connFrame = document.createElement("iframe");
            _me._connFrame.style.cssText =
                "width:0px; height:0px; display:none; overflow:hidden;";
            var _frame_on_load = function() {
                _frame_on_load.fire();
                _frame_on_load.fire = EMPTY_FUN
            };
            _frame_on_load.fire = function() {
                _qc.Console.info("PMProxy\u4ee3\u7406\u521b\u5efa\u6210\u529f\uff0c\u8017\u65f6" + (new Date - _me.timeStamp));
                _me.isReady = true;
                _me.send();
                _me.invoke()
            };
            _me._connFrame.onload = _frame_on_load;
            _me._connFrame.addEventListener && _me._connFrame.addEventListener("load", _frame_on_load, false);
            _me._connFrame.attachEvent && _me._connFrame.attachEvent("onload",
                _frame_on_load);
            _me._connFrame.src = config.PMCrossPage;
            QC.Event.domReady(function() {
                document.body.appendChild(_me._connFrame)
            });
            var _preDispatchHandler = function(crsDt) {
                if (crsDt.origin && (crsDt.origin == _origin || crsDt.origin == _origin_static)) _me._preDispatch(_me, crsDt)
            };
            window.addEventListener ? window.addEventListener("message", _preDispatchHandler, false) : window.attachEvent("onmessage", _preDispatchHandler)
        },
        _doSend: function(regObj) {
            var str = _qc.QueryString.stringify({
                uri: regObj.uri,
                paras: _qc.QueryString.stringify(regObj.paras),
                fmt: regObj.fmt,
                method: regObj.method
            });
            this._connFrame.contentWindow.postMessage(str, _origin)
        },
        dispatch: function(crsDt) {
            var dt = crsDt.data,
                obj = dt.split(":<.<<#:"),
                seq = obj[0],
                status = obj[1],
                fmt = obj[2],
                data = obj[3];
            _qc.Console.log("data:\t" + data);
            Proxy.dispatchReceive(seq, data, status, fmt)
        },
        _doInvoke: function(cmdStr) {
            _qc.Console.log("invoke:\t" + cmdStr);
            if (typeof cmdStr != "string") return;
            var pas = cmdStr.split("#"),
                cmdP = pas[0],
                args = pas[1] && pas[1].split(","),
                cmd;
            cmd = Proxy.getFunction(cmdP);
            cmd.apply(null, args)
        },
        onDispose: function() {
            this._connFrame.parentNode.removeChild(this._connFrame);
            this._connFrame = null
        }
    });
    var EMPProxy = _qc.Toolkit.extend(function() {
        Proxy.apply(this, arguments)
    }, Proxy);
    _qc.Object.extend(EMPProxy.prototype, {
        init: function() {
            _qc.Console.info("init:" + arguments)
        },
        _doSend: function(regObj) {
            _qc.Console.info("_doSend:" + arguments)
        },
        dispatch: function(crsDt) {
            _qc.Console.info("dispatch:" + arguments)
        }
    });
    _qc.XHRRequest = XHRRequest;
    _qc.request = function(uri, paras, fmt, method) {
        return new XHRRequest(uri, paras,
            fmt, method)
    };
    var fun_ready_pool = [];
    _qc.api = function() {
        var _pendingPool = [];
        var bindTokenPara = function(req) {
            var TKObj = _qc.Login._getTokenKeys();
            if (appId <= 0) throw new Error("\u610f\u5916\u7684\u8c03\u7528\u4e86\u7ed1\u5b9atoken\u5230req\u7684\u65b9\u6cd5 bindTokenPara");
            req.paras.oauth_consumer_key = appId;
            req.paras.access_token = TKObj.accessToken;
            req.paras.openid = TKObj.openid;
            req.paras.format = req.fmt;
            return req
        };
        var fun = function(api, paras, fmt, method) {
            _proxy = Proxy.generateProxy();
            var defAPICfg = getAPIConfig(api);
            api = defAPICfg.api || api;
            paras = paras || {};
            method = method || defAPICfg.method;
            var req = new Request(api, paras, fmt, method);
            if (appId > 0) setTimeout(function() {
                var aToken = _qc.Login._getTokenKeys();
                if (aToken.openid && aToken.accessToken) _proxy.send(bindTokenPara(req));
                else {
                    _pendingPool.push(req);
                    _qc.Console.log("openid\u4e0eaccessToken\u4e22\u5931\uff0c\u8c03\u7528\u8bf7\u6c42\u5165\u6808 : [" + api + "]\uff0c\u6808\u5927\u5c0f\uff1a" + _pendingPool.length)
                }
            }, 10);
            else {
                _pendingPool.push(req);
                _qc.Console.log((_proxy.isReady &&
                appId < 0 ? "token\u83b7\u53d6\u5931\u8d25\uff0c\u8bf7\u8c03\u7528\u7528\u6237\u767b\u5f55\u6d41\u7a0b" : "api\u4ee3\u7406\u5c1a\u672a\u521d\u59cb\u5316\u6210\u529f") + "\uff0c\u8c03\u7528\u8bf7\u6c42\u5165\u6808 : [" + api + "]\uff0c\u6808\u5927\u5c0f\uff1a" + _pendingPool.length)
            }
            req.success(function() {
                QC.valueStat(defAPICfg.statId, 1, 0)
            })
                .error(function(response) {
                    var resp = response || {};
                    QC.valueStat(defAPICfg.statId, 1, "number" == typeof resp.ret ? resp.ret : 1)
                });
            return req
        };
        fun._ready = function() {
            _qc.Console.info("init\u6210\u529f\uff0c\u5f00\u59cb\u89e6\u53d1api\u8c03\u7528\u5806\u6808");
            var _crtReq;
            while (_crtReq = _pendingPool.shift()) _proxy.send(bindTokenPara(_crtReq))
        };
        fun.getDoc = function() {
            var DOCS = null,
                loadDocJS = function(key, fun) {
                    var script = document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "http://qzonestyle.gtimg.cn/qzone/openapi/qc_jsdkdoc.js";
                    document.body.appendChild(script);
                    window.on_qc_jsdkdoc_loaded = function(_docs) {
                        DOCS = _docs;
                        fun && fun(DOCS[key]);
                        document.body.removeChild(script);
                        script = null
                    }
                };
            return function(key, fun) {
                DOCS && fun ? fun(DOCS[key]) : loadDocJS(key,
                    fun || EMPTY_FUN)
            }
        }();
        return fun
    }();
    var Login = function() {
        var _openId, access_token, dt_cache;
        var BUTTON_STYLE = {
            A_XL: {
                styleId: 5,
                size: "230*48"
            },
            A_L: {
                styleId: 4,
                size: "170*32"
            },
            A_M: {
                styleId: 3,
                size: "120*24"
            },
            A_S: {
                styleId: 2,
                size: "105*16"
            },
            B_M: {
                styleId: 7,
                size: "63*24"
            },
            B_S: {
                styleId: 6,
                size: "50*16"
            },
            C_S: {
                styleId: 1,
                size: "16*16"
            }
        };

        function _insertButton(opts) {
            if (opts.clientId) QC.init({
                appId: opts.clientId
            });
            var appid = QC.getAppId();
            if (appid < 0) {
                QC.getAppId(arguments);
                return
            }
            opts.size = opts["size"] || "B_M";
            var btn = $(opts["btnId"]),
                sizeObj = BUTTON_STYLE[opts["size"]] || BUTTON_STYLE["B_M"],
                size = sizeObj["styleId"],
                fullWindow = opts["fullWindow"] || false,
                btnMode = opts["btnMode"] || "standard";
            opts.redirectURI = opts["redirectURI"] || redirectURI;
            var url = arguments.callee._getPopupUrl(opts);
            var parasObj = {
                size: size,
                fullWindow: fullWindow,
                url: url
            };
            if (opts && opts["btnId"])
                if (btn) {
                    btn.innerHTML = arguments.callee.getBtnHtml(parasObj, btnMode, opts);
                    var onclick = btn.firstChild.onclick;
                    if (!opts.showModal) btn.firstChild.onclick = function(_a) {
                        var crtPop, _close =
                            function() {
                                crtPop && crtPop.close();
                                QC.Cookie.del("__qc_wId")
                            };
                        window.addEventListener ? window.addEventListener("unload", _close, false) : window.attachEvent("onunload", _close);
                        return function() {
                            if (crtPop) crtPop.close();
                            crtPop = _a();
                            if (!crtPop || true) _qc._create_fla_proxy();
                            QC.pv("graph.qq.com", "/open/connect/click");
                            return false
                        }
                    }(onclick);
                    else {
                        var modal = document.createElement("DIV");
                        modal.style = "position: absolute; visibility: hidden; width: 500px;height: " + "620px; padding: 0px; margin: 0px;border:1px #ddd solid; background: white;";
                        modal.innerHTML = '<iframe id="qq_login_iframe" frameborder="0" width="100%" height="100%"></iframe>';
                        modal.style.top = 0;
                        modal.style.left = window.innerWidth / 2 - 250 + "px";
                        document.body.appendChild(modal);
                        btn.firstChild.onclick = function() {
                            var iframe = document.getElementById("qq_login_iframe");
                            if (!iframe.src) {
                                var url = "https://graph.qq.com/oauth2.0/authorize";
                                var params = "?";
                                params += "response_type=token&";
                                params += "client_id=" + appid + "&";
                                params += "redirect_uri=" + opts.redirectURI;
                                iframe.src = url + params
                            }
                            modal.style.visibility =
                                "visible"
                        }
                    }
                } else throw new Error("\u672a\u627e\u5230\u63d2\u5165\u8282\u70b9:");
        }
        _insertButton.TEMPLATE = ['<a href="javascript:;" onclick="{onclick};"><img src="{src}" alt="{alt}" border="0"/></a>'].join("");
        _insertButton.getBtnHtml = function(parasOpts, btnMode, opts) {
            return arguments.callee.MODE[btnMode] && arguments.callee.MODE[btnMode](parasOpts, opts)
        };
        _insertButton.getBtnHtml.MODE = {
            "standard": function(parasObj) {
                var windowId = ~~$Cookie.get("__qc_wId") + 1E4;
                var baseStr = $Toolkit.format(_insertButton.TEMPLATE, {
                    src: "http://" + resDomain + "/qzone/vas/opensns/res/img/Connect_logo_" + parasObj.size + ".png",
                    onclick: parasObj.fullWindow ? "return window.open('" + parasObj.url + "', 'oauth2Login_" + windowId + "');" : "return window.open('" + parasObj.url + "', 'oauth2Login_" + windowId + "' ,'height=525,width=585, toolbar=no, menubar=no, scrollbars=no, status=no, location=yes, resizable=yes')",
                    alt: "QQ\u767b\u5f55"
                });
                return baseStr
            },
            "showUserAfterLogin": function(parasObj, opts) {
                var baseStr = $JSON.stringify(opts),
                    sizeObj = BUTTON_STYLE[opts["size"]] ||
                        BUTTON_STYLE["B_M"],
                    size = sizeObj["size"].split("*"),
                    outerStr = '<iframe frameBorder="0" scrolling="no" src="http://' + mainDomain + "/qzone/openapi/frames/login_button.html#para=" + encodeURIComponent(baseStr) + '" width="' + Math.max(200, size[0]) + '" height="' + size[1] + '" allowTransparency="true"></iframe>';
                return outerStr
            }
        };
        _insertButton._getPopupUrl = function(opts) {
            var scope = opts["scope"] || "all",
                redirectURI = opts["redirectURI"] || "",
                display = opts["display"] || "",
                clientId = opts["appId"] || QC.getAppId();
            redirectURI =
                redirectURI || "http%3A%2F%2Fqzonestyle.gtimg.cn%2Fqzone%2Fopenapi%2Fredirect-1.0.1.html" || location.protocol + "//" + location.host + (location.port && location.port != "80" ? ":" + location.port : "") + "/qc_callback.html" || "";
            if (ieVer <= 6) redirectURI = "https://graph.qq.com/jsdkproxy/redirect_ie6.html#" + encodeURIComponent(redirectURI);
            var paras = ["client_id=" + clientId, "response_type=token"],
                url = "https://graph.qq.com/oauth2.0/authorize";
            if (scope) paras.push("scope=" + scope);
            if (redirectURI) {
                if (redirectURI.indexOf("://") > 0) redirectURI =
                    encodeURIComponent(redirectURI);
                paras.push("redirect_uri=" + redirectURI)
            }
            if (display == "mobile") paras.push("display=" + display);
            url = url + "?" + paras.join("&");
            return url
        };
        var _getACToken = function() {
            return access_token || function() {
                var matcher = location && location.hash.match(/access_token=([^&]*)/i),
                    _timer, _cbPool = [],
                    _keys;
                var __qc__k;
                if (__qc__k = $Cookie.get("__qc__k")) {
                    _keys = __qc__k.split("=");
                    if (__qc__k.length && _keys.length != 2) throw new Error("QQConnect -> cookie : __qc__k \u683c\u5f0f\u975e\u6cd5");
                }
                access_token =
                    matcher && matcher[1] || _keys && _keys[1]
            }()
        };
        var _getMe = function() {
            var _timer, _cbPool = [];
            _getACToken();
            var _fireCallBack = function(openId, accessToken, _dt) {
                var _crtReq;
                while (_crtReq = _cbPool.shift()) setTimeout(function(_rq) {
                    return function() {
                        _rq(openId, accessToken, _dt)
                    }
                }(_crtReq))
            };
            var _getMeError = function(error_description) {
                $Console.error(error_description + " : _getMeError");
                window.callback({
                    error_description: error_description
                })
            };
            var script, fn;
            var getOpenId = function(_cb) {
                !fn && (fn = window.callback);
                _cb && getOpenId.cbPool.push(_cb);
                window.callback = function(_dt) {
                    clearTimeout(_timer);
                    if (!_dt.openid) return;
                    dt_cache = _dt;
                    var openId = _openId = _dt.openid;
                    var aToken = access_token;
                    $Console.log(" getMe => openId & accessToken " + [openId, aToken, script ? "\u901a\u8fc7me\u63a5\u53e3" : "\u901a\u8fc7\u672c\u5730"]);
                    var cCb;
                    while (cCb = getOpenId.cbPool.shift()) cCb(openId, access_token, _dt);
                    script = null;
                    window.callback = fn
                };
                if (!_getACToken()) {
                    _getMeError("access_token\u4e22\u5931");
                    return
                }
                if (dt_cache) window.callback(dt_cache);
                else {
                    if (script) return;
                    script =
                        document.createElement("script");
                    script.type = "text/javascript";
                    script.src = "https://graph.qq.com/oauth2.0/me?access_token=" + access_token;
                    script.onerror = function() {
                        _getMeError("me\u63a5\u53e3\u8fd4\u56de\u683c\u5f0f\u9519\u8bef")
                    };
                    var _head = document.getElementsByTagName("head")[0];
                    _head && _head.appendChild(script);
                    _timer = setTimeout(function() {
                        _getMeError("me\u63a5\u53e3\u8d85\u65f6")
                    }, 5E3)
                }
            };
            getOpenId.cbPool = [];
            return function(_cb, _isInitFn) {
                _isInitFn ? _cbPool.unshift(_cb) : _cbPool.push(_cb);
                getOpenId(_fireCallBack);
                QC.valueStat(350371, 1, 0)
            }
        }();
        var _signOut = function() {
            dt_cache = null;
            access_token = undefined;
            _user_info = null;
            var logoutFun;
            for (var i = 0; i < _logoutFuns.length; i++) {
                logoutFun = _logoutFuns[i];
                logoutFun()
            }
            QC.valueStat(350370, 1, 0)
        };
        var _showPopup = function(opts) {
            var url = _insertButton._getPopupUrl(opts || {});
            QC.valueStat(350369, 1, 0);
            return window.open(url)
        };
        var _DEF_LOGIN_FUN = function(dt, opts) {
            QC.Login.fillUserInfo(opts["btnId"], dt)
        };
        var _loginFuns = [],
            _logoutFuns = [],
            _user_info;
        var retFun = function(opts, loginFun,
                              logoutFun, __outCallFlag) {
            var args = arguments;
            var result = null;
            access_token = access_token || opts.access_token;
            !__outCallFlag && logoutFun !== null && _logoutFuns.push(function(__opts) {
                return function() {
                    var argPara = [args[0], null, null, 1];
                    (logoutFun || EMPTY_FUN)(__opts);
                    _insertButton(__opts)
                }
            }(opts));
            var _loginFun;
            var loginFunFire = function() {
                for (var i = 0; i < _loginFuns.length; i++) {
                    _loginFun = _loginFuns[i];
                    _loginFun(_user_info)
                }
            };
            !__outCallFlag && loginFun !== null && _loginFuns.push(function(__opts) {
                return function(dt) {
                    (loginFun ||
                        _DEF_LOGIN_FUN)(dt, __opts)
                }
            }(opts));
            if (!_user_info) access_token ? _getMe(function(openId) {
                if (openId) QC.api("get_user_info")
                    .success(function(req) {
                        _user_info = req.data;
                        loginFunFire()
                    })
                    .error(function(req) {
                        QC.Console.error("Login => getMe \u83b7\u53d6\u6570\u636e\u5931\u8d25" + req)
                    });
                else _insertButton(opts)
            }) : _insertButton(opts);
            else _user_info && loginFunFire();
            QC.valueStat(350368, 1, 0);
            return result
        };
        $Object.extend(retFun, {
            insertButton: _insertButton,
            getMe: _getMe,
            showPopup: _showPopup,
            signOut: function() {
                _openId =
                    "";
                document.cookie = ["__qc__k=", "path=/;"].join(";");
                _signOut()
            },
            _getTokenKeys: function() {
                return {
                    openid: _openId,
                    accessToken: access_token
                }
            },
            check: function() {
                QC.valueStat(350372, 1, 0);
                return !!access_token
            },
            _check: function() {
                return !!(dt_cache && access_token && _user_info)
            },
            _onLoginBack: function(openId, aToken, notRefreshBtn) {
                if (openId && aToken) {
                    _openId = openId;
                    document.cookie = ["__qc__k=" + ["TC_MK", aToken].join("="), "path=/"].join(";")
                }
                dt_cache = {
                    client_id: dt_cache && dt_cache.client_id || -1,
                    openid: _openId
                };
                _getACToken();
                QC.Event.domReady(function() {
                    QC.init();
                    !notRefreshBtn && QC.Login({}, null, null, 1)
                })
            },
            reset: function() {
                _loginFuns = [];
                _logoutFuns = []
            },
            fillUserInfo: function(btnId, reqData) {
                var dom = $(btnId),
                    _logoutTemplate = ['<span class="qc_item figure"><img src="{figureurl}" class="{size_key}"/></span>', '<span class="qc_item nickname" style="margin-left:6px;">{nickname}</span>', '<span class="qc_item logout"><a href="javascript:QC.Login.signOut();" style="margin-left:6px;">\u9000\u51fa</a></span>'].join("");
                dom && (dom.innerHTML =
                    QC.String.format(_logoutTemplate, {
                        nickname: QC.String.escHTML(reqData.nickname),
                        figureurl: reqData.figureurl
                    }))
            }
        });
        return retFun
    };
    _qc.Login = Login();
    var appId = -1,
        tmpCfg = null,
        redirectURI = "";
    _qc.init = function(cfg) {
        cfg = cfg || tmpCfg || {};
        tmpCfg = cfg;
        var TKObj = _qc.Login._getTokenKeys();
        appId = cfg.appId;
        redirectURI = cfg.redirectURI;
        if (!TKObj.openid) {
            Proxy.invoke();
            if (fun_ready_pool.length && cfg.appId > -1)
                for (var i = 0; i < fun_ready_pool.length; i++) fun_ready_pool[i]();
            return
        }
        _qc.Login.getMe(function(oid, token, dt) {
            if (!~~dt.error &&
                (dt.client_id <= 0 || dt.client_id % 1E6 == cfg.appId % 1E6)) {
                appId = dt.client_id = cfg.appId || cfg.clientId || cfg.app_id || cfg.client_id || -1;
                _qc.api._ready && _qc.api._ready()
            } else _qc.Console.error(dt.error_description || "appId/client_id \u4e0d\u5339\u914d")
        }, true)
    };
    _qc.getAppId = function(ars) {
        if (ars) fun_ready_pool.push(function() {
            ars.callee.apply(null, ars)
        });
        return appId
    };
    _qc.invoke = function() {
        var pxy = Proxy.generateProxy("FLAProxy");
        pxy.invoke(arguments)
    };
    var getAPIConfig = function() {
        var API_DICT = {
            "get_user_info": {
                api: "https://graph.qq.com/user/get_user_info",
                method: "get",
                statId: 350373
            },
            "add_topic": {
                api: "https://graph.qq.com/shuoshuo/add_topic",
                method: "post",
                statId: 350374
            },
            "add_one_blog": {
                api: "https://graph.qq.com/blog/add_one_blog",
                method: "post",
                statId: 350375
            },
            "add_album": {
                api: "https://graph.qq.com/photo/add_album",
                method: "post",
                statId: 350376
            },
            "upload_pic": {
                api: "https://graph.qq.com/photo/upload_pic",
                method: "post",
                statId: 350377
            },
            "list_album": {
                api: "https://graph.qq.com/photo/list_album",
                method: "get",
                statId: 350391
            },
            "add_share": {
                api: "https://graph.qq.com/share/add_share",
                method: "post",
                statId: 350378
            },
            "check_page_fans": {
                api: "https://graph.qq.com/user/check_page_fans",
                method: "get",
                statId: 350379
            },
            "add_t": {
                api: "https://graph.qq.com/t/add_t",
                method: "post",
                statId: 350380
            },
            "add_pic_t": {
                api: " https://graph.qq.com/t/add_pic_t",
                method: "post",
                statId: 350381
            },
            "del_t": {
                api: "https://graph.qq.com/t/del_t",
                method: "post",
                statId: 350382
            },
            "get_repost_list": {
                api: "https://graph.qq.com/t/get_repost_list",
                method: "get",
                statId: 350383
            },
            "get_info": {
                api: "https://graph.qq.com/user/get_info",
                method: "get",
                statId: 350384
            },
            "get_other_info": {
                api: "https://graph.qq.com/user/get_other_info",
                method: "get",
                statId: 350385
            },
            "get_fanslist": {
                api: "https://graph.qq.com/relation/get_fanslist",
                method: "get",
                statId: 350386
            },
            "get_idollist": {
                api: "https://graph.qq.com/relation/get_idollist",
                method: "get",
                statId: 350387
            },
            "add_idol": {
                api: "https://graph.qq.com/relation/add_idol",
                method: "post",
                statId: 350388
            },
            "del_idol": {
                api: "https://graph.qq.com/relation/del_idol",
                method: "post",
                statId: 350389
            },
            "get_tenpay_addr": {
                api: "https://graph.qq.com/cft_info/get_tenpay_addr",
                method: "get",
                statId: 350390
            }
        };
        return function(apiKey) {
            return API_DICT[apiKey] || {}
        }
    }();
    (function() {
        var aid = getDataPara("appid");
        var rUri = getDataPara("redirecturi");
        if (aid) {
            _qc.Console.info("\u68c0\u6d4b\u5230\u81ea\u52a8\u521d\u59cb\u5316\u53c2\u6570\nappId:" + aid + "\nrUri:" + rUri);
            if (isNaN(aid)) _qc.Console.error("\u53c2\u6570appid\u9519\u8bef");
            else if (rUri && rUri.indexOf("http") != 0) _qc.Console.error("\u53c2\u6570rediectURI\u9519\u8bef");
            else _qc.Event.domReady(function() {
                    _qc.init({
                        appId: aid,
                        redirectURI: rUri
                    })
                })
        }
        var callback =
            getDataPara("callback");
        if (callback) {
            window._b_is_qc_cb_win = true;
            QC.Login.getMe(function(openId, accessToken, backData) {
                if (window.opener) {
                    QC.Console.info("cb_method_1:window.opener.QC.Login._onLoginBack");
                    try {
                        window.opener.QC.Login._onLoginBack(openId, accessToken)
                    } catch (e) {
                        QC.Console.info("cb_method_2:window.opener.postMessage");
                        try {
                            window.opener.postMessage("invoke@@@QC.Login._onLoginBack#" + [openId, accessToken].join(","), "*")
                        } catch (e1) {
                            QC.Console.info("cb_method_3:QC.invoke");
                            try {
                                QC.invoke("QC.Login._onLoginBack",
                                    openId, accessToken)
                            } catch (e2) {
                                QC.Console.info("cb_method_5:[empty]")
                            }
                        }
                    }
                } else {
                    QC.Console.info("cb_method_4:QC.invoke");
                    try {
                        QC.invoke("QC.Login._onLoginBack", openId, accessToken)
                    } catch (e3) {}
                }
                setTimeout(function() {
                    if (ieVer > 7) {
                        var wnd = window.open("about:blank", "_self");
                        wnd.close()
                    } else window.close()
                }, 1E3)
            });
            QC.pv("graph.qq.com", "/open/connect/channel/pv")
        } else if (aid && QC.Login.check()) {
            QC.Event.domReady(function() {
                QC.Login.getMe(function(openId, accessToken) {
                    QC.Login._onLoginBack(openId, accessToken, 1)
                })
            });
            QC.pv("graph.qq.com", "/open/connect/logged_in/pv");
            QC.reportBNL(11236, aid)
        } else {
            QC.pv("graph.qq.com", "/open/connect/pv");
            QC.reportBNL(11236, aid)
        }
    })()
})(QC);
(function() {
    window.qc = QC
})();
(function() {
    function use() {
        var _ver, _speedTestUrl, pvRepeatCount;
        (function() {
            function tcss(e) {
                this.url = [], this.init(e)
            }

            function loadScript(e) {
                var t = document.createElement("script"),
                    n = document.getElementsByTagName("script")[0];
                t.src = e, t.type = "text/javascript", t.async = !0, n.parentNode.insertBefore(t, n)
            }
            var _d, _l, _b, _n = "-",
                _params, _curDomain, _curUrl, _domainToSet, _refDomain, _refUrl, _image, _ext, _hurlcn, _tt, _ch = 0,
                _crossDomain = 0;
            _ver = "tcss.3.1.5", _speedTestUrl = "http://jsqmt.qq.com/cdn_djl.js", window.Tcss = {};
            var _pgvVersion = typeof tracert == "function" && typeof pgvGetColumn == "function" && typeof pgvGetTopic == "function" && typeof pgvGetDomainInfo == "function" && typeof pgvGetRefInfo == "function";
            if (typeof _rep == "undefined") var _rep = 1;
            tcss.prototype = {
                init: function init(e) {
                    e ? _params = e : _params = {}, _d = document;
                    if (!_params.statIframe && window != top) try {
                        _d = top.document
                    } catch (t) {}
                    typeof _d == "undefined" && (_d = document), _l = _d.location, _b = _d.body, _pgvVersion && (Tcss.d = _d, Tcss.l = _l), _ext = [], _hurlcn = [], _tt = []
                },
                run: function run() {
                    var e,
                        t, n;
                    e = (new Date)
                        .getTime(), _cookie.init(), this.url.push(this.getDomainInfo()), this.coverCookie(), _cookie.setCookie("ssid"), _cookie.save(), this.url.unshift("http://pingfore." + this.getCookieSetDomain(_curDomain) + "/pingd?"), this.url.push(this.getRefInfo(_params));
                    try {
                        navigator.cookieEnabled ? this.url.push("&pvid=" + _cookie.setCookie("pgv_pvid", !0)) : this.url.push("&pvid=NoCookie")
                    } catch (r) {
                        this.url.push("&pvid=NoCookie")
                    }
                    this.url.push(this.getMainEnvInfo()), this.url.push(this.getExtendEnvInfo()), Tcss.pgUserType =
                        "";
                    if (_params.pgUserType || _params.reserved2) {
                        var i = _params.pgUserType || _params.reserved2;
                        i = escape(i.substring(0, 256)), Tcss.pgUserType = i, _tt.push("pu=" + Tcss.pgUserType)
                    }
                    _pgvVersion && (pgvGetColumn(), pgvGetTopic(), this.url.push("&column=" + Tcss.column + "&subject=" + Tcss.subject), tracert()), this.url.push("&vs=" + _ver), _cookie.setCookie("ts_uid", !0), t = (new Date)
                        .getTime(), _ext.push("tm=" + (t - e)), _ch && _ext.push("ch=" + _ch), _params.extParam ? n = _params.extParam + "|" : n = "", this.url.push("&ext=" + escape(n + _ext.join(";"))),
                        this.url.push("&hurlcn=" + escape(_hurlcn.join(";"))), this.url.push("&rand=" + Math.round(Math.random() * 1E5)), typeof _speedMark == "undefined" ? this.url.push("&reserved1=-1") : this.url.push("&reserved1=" + (new Date - _speedMark));
                    var s = this.getSud();
                    s && _tt.push("su=" + escape(s.substring(0, 256))), this.url.push("&tt=" + escape(_tt.join(";"))), this.sendInfo(this.url.join(""));
                    if (_crossDomain == 1) {
                        var o = this.getParameter("tcss_rp_dm", _d.URL);
                        if (o != Tcss.dm) {
                            var u = this.url.join("")
                                .replace(/\?dm=(.*?)&/, "?dm=" + o + "&");
                            this.sendInfo(u)
                        }
                    }
                    _params.hot && (document.attachEvent ? document.attachEvent("onclick", function(e) {
                        pgvWatchClick(e)
                    }) : document.addEventListener("click", function(e) {
                        pgvWatchClick(e)
                    }, !1)), _params.repeatApplay && _params.repeatApplay == "true" && typeof _rep != "undefined" && (_rep = 1)
                },
                getSud: function getSud() {
                    if (_params.sessionUserType) return _params.sessionUserType;
                    var e = _params.sudParamName || "sessionUserType",
                        t = this.getParameter(e, _d.URL);
                    return t
                },
                coverCookie: function coverCookie() {
                    if (_params.crossDomain && _params.crossDomain ==
                        "on") {
                        var e = this.getParameter("tcss_uid", _d.URL),
                            t = this.getParameter("tcss_sid", _d.URL),
                            n = this.getParameter("tcss_refer", _d.URL),
                            r = this.getParameter("tcss_last", _d.URL);
                        t && e && (_crossDomain = 1, _cookie.setCookie("ssid", !1, t), _cookie.save(), _cookie.setCookie("ts_refer", !0, n), _cookie.setCookie("ts_last", !0, r), _cookie.setCookie("pgv_pvid", !0, e))
                    }
                },
                getDomainInfo: function getDomainInfo(e) {
                    var t, n;
                    return t = _l.hostname.toLowerCase(), _params.virtualDomain && (_hurlcn.push("ad=" + t), t = _params.virtualDomain), n = this.getCurrentUrl(),
                        Tcss.dm = t, _pgvVersion && pgvGetDomainInfo(), _curDomain = Tcss.dm, _domainToSet || (_domainToSet = this.getCookieSetDomain(_l.hostname.toLowerCase()), _pgvVersion && (Tcss.domainToSet = _domainToSet)), e && (Tcss.dm += ".hot"), "dm=" + Tcss.dm + "&url=" + Tcss.url
                },
                getCurrentUrl: function getCurrentUrl() {
                    var e = "",
                        t = _n;
                    e = _curUrl = escape(_l.pathname), _l.search != "" && (t = escape(_l.search.substr(1)));
                    if (_params.senseParam) {
                        var n = this.getParameter(_params.senseParam, _d.URL);
                        n && (e += "_" + n)
                    }
                    _params.virtualURL && (_hurlcn.push("au=" + e), e =
                        _params.virtualURL), Tcss.url = e, Tcss.arg = t
                },
                getRefInfo: function getRefInfo(e) {
                    var t = _n,
                        n = _n,
                        r = _n,
                        i = _d.referrer,
                        s, o, u;
                    s = e.tagParamName || "ADTAG", o = this.getParameter(s, _d.URL), u = i.indexOf("://");
                    if (u > -1) {
                        var a = /(\w+):\/\/([^:|\/]+)(:\d*)?(.*\/)([^#|\?|\n]+)?(#.*)?(\?.*)?/i,
                            f = i.match(a);
                        f && (t = f[2], n = f[4] + (f[5] ? f[5] : ""))
                    }
                    if (i.indexOf("?") != -1) {
                        var u = i.indexOf("?") + 1;
                        r = i.substr(u)
                    }
                    var l = t;
                    _params.virtualRefDomain && (t != _n && _hurlcn.push("ard=" + t), t = _params.virtualRefDomain), _params.virtualRefURL && (n != _n &&
                    _hurlcn.push("aru=" + escape(n)), n = _params.virtualRefURL);
                    var c;
                    o && (c = t + n, t = "ADTAG", n = o), _refDomain = t, _refUrl = escape(n);
                    if (_refDomain == _n || _refDomain == "ADTAG" && l == _n) {
                        var h = _cookie.get("ts_last=", !0);
                        h != _n && _ext.push("ls=" + h)
                    }
                    _cookie.setCookie("ts_last", !0, escape((_l.hostname + _l.pathname)
                        .substring(0, 128)));
                    var p = _cookie.get("ts_refer=", !0);
                    p != _n && _ext.push("rf=" + p);
                    var d = _l.hostname;
                    _params.inner && (d = "," + d + "," + _params.inner + ",");
                    if (!(_refDomain == _n || ("," + d + ",")
                            .indexOf(_refDomain) > -1 || _crossDomain ==
                        1)) {
                        var v = escape((_refDomain + n)
                            .substring(0, 128));
                        v != p && (_ch = 2), _cookie.setCookie("ts_refer", !0, v)
                    }
                    return Tcss.rdm = _refDomain, Tcss.rurl = _refUrl, Tcss.rarg = escape(r), _pgvVersion && pgvGetRefInfo(), c ? "&rdm=" + Tcss.rdm + "&rurl=" + Tcss.rurl + "&rarg=" + Tcss.rarg + "&or=" + c : "&rdm=" + Tcss.rdm + "&rurl=" + Tcss.rurl + "&rarg=" + Tcss.rarg
                },
                getMainEnvInfo: function getMainEnvInfo() {
                    var e = "";
                    try {
                        var t = _n,
                            n = _n,
                            r = _n,
                            i = _n,
                            s = _n,
                            o = 0,
                            u = navigator;
                        self.screen && (t = screen.width + "x" + screen.height, n = screen.colorDepth + "-bit"), u.language ? r =
                            u.language.toLowerCase() : u.browserLanguage && (r = u.browserLanguage.toLowerCase()), o = u.javaEnabled() ? 1 : 0, i = u.platform, s = (new Date)
                            .getTimezoneOffset() / 60, e = "&scr=" + t + "&scl=" + n + "&lang=" + r + "&java=" + o + "&pf=" + i + "&tz=" + s
                    } catch (a$34) {} finally {
                        return e
                    }
                },
                getExtendEnvInfo: function getExtendEnvInfo() {
                    var e = "";
                    try {
                        var t, n = _l.href,
                            r = _n;
                        e += "&flash=" + this.getFlashInfo(), _b.addBehavior && (_b.addBehavior("#default#homePage"), _b.isHomePage(n) && (e += "&hp=Y")), _b.addBehavior && (_b.addBehavior("#default#clientCaps"), r = _b.connectionType),
                            e += "&ct=" + r
                    } catch (i) {} finally {
                        return e
                    }
                },
                getFlashInfo: function getFlashInfo() {
                    var f = _n,
                        n = navigator;
                    try {
                        if (n.plugins && n.plugins.length)
                            for (var i = 0; i < n.plugins.length; i++) {
                                if (n.plugins[i].name.indexOf("Shockwave Flash") > -1) {
                                    f = n.plugins[i].description.split("Shockwave Flash ")[1];
                                    break
                                }
                            } else if (window.ActiveXObject)
                            for (var i = 12; i >= 5; i--) try {
                                var fl = window["eva" + String.fromCharCode(108)]("new ActiveXObject('ShockwaveFlash.ShockwaveFlash." + i + "');");
                                if (fl) {
                                    f = i + ".0";
                                    break
                                }
                            } catch (e) {}
                    } catch (e$35) {}
                    return f
                },
                getParameter: function getParameter(e, t) {
                    if (e && t) {
                        var n = new RegExp("(\\?|#|&)" + e + "=([^&^#]*)(#|&|$)"),
                            r = t.match(n);
                        return r ? r[2] : ""
                    }
                    return ""
                },
                getCookieSetDomain: function getCookieSetDomain(e) {
                    var t, n, r, i = [],
                        s = 0;
                    for (var o = 0; o < e.length; o++) e.charAt(o) == "." && (i[s] = o, s++);
                    return t = i.length, n = e.indexOf(".cn"), n > -1 && t--, r = "qq.com", t == 1 ? r = e : t > 1 && (r = e.substring(i[t - 2] + 1)), r
                },
                watchClick: function watchClick(e) {
                    try {
                        var t = !0,
                            n = "",
                            r;
                        r = window.event ? window.event.srcElement : e.target;
                        switch (r.tagName) {
                            case "A":
                                n = "<A href=" +
                                    r.href + ">" + r.innerHTML + "</a>";
                                break;
                            case "IMG":
                                n = "<IMG src=" + r.src + ">";
                                break;
                            case "INPUT":
                                n = "<INPUT type=" + r.type + " value=" + r.value + ">";
                                break;
                            case "BUTTON":
                                n = "<BUTTON>" + r.innerText + "</BUTTON>";
                                break;
                            case "SELECT":
                                n = "SELECT";
                                break;
                            default:
                                t = !1
                        }
                        if (t) {
                            var i = new tcss(_params),
                                s = i.getElementPos(r);
                            if (_params.coordinateId) {
                                var o = i.getElementPos(document.getElementById(_params.coordinateId));
                                s.x -= o.x
                            }
                            i.url.push(i.getDomainInfo(!0)), i.url.push("&hottag=" + escape(n)), i.url.push("&hotx=" + s.x), i.url.push("&hoty=" +
                                s.y), i.url.push("&rand=" + Math.round(Math.random() * 1E5)), i.url.unshift("http://pinghot." + this.getCookieSetDomain(_curDomain) + "/pingd?"), i.sendInfo(i.url.join(""))
                        }
                    } catch (u) {}
                },
                getElementPos: function getElementPos(e) {
                    if (e.parentNode === null || e.style.display == "none") return !1;
                    var t = navigator.userAgent.toLowerCase(),
                        n = null,
                        r = [],
                        i;
                    if (e.getBoundingClientRect) {
                        var s, o, u, a;
                        return i = e.getBoundingClientRect(), s = Math.max(document.documentElement.scrollTop, document.body.scrollTop), o = Math.max(document.documentElement.scrollLeft,
                            document.body.scrollLeft), u = document.body.clientTop, a = document.body.clientLeft, {
                            x: i.left + o - a,
                            y: i.top + s - u
                        }
                    }
                    if (document.getBoxObjectFor) {
                        i = document.getBoxObjectFor(e);
                        var f = e.style.borderLeftWidth ? Math.floor(e.style.borderLeftWidth) : 0,
                            l = e.style.borderTopWidth ? Math.floor(e.style.borderTopWidth) : 0;
                        r = [i.x - f, i.y - l]
                    } else {
                        r = [e.offsetLeft, e.offsetTop], n = e.offsetParent;
                        if (n != e)
                            while (n) r[0] += n.offsetLeft, r[1] += n.offsetTop, n = n.offsetParent;
                        if (t.indexOf("opera") > -1 || t.indexOf("safari") > -1 && e.style.position == "absolute") r[0] -=
                            document.body.offsetLeft, r[1] -= document.body.offsetTop
                    }
                    e.parentNode ? n = e.parentNode : n = null;
                    while (n && n.tagName != "BODY" && n.tagName != "HTML") r[0] -= n.scrollLeft, r[1] -= n.scrollTop, n.parentNode ? n = n.parentNode : n = null;
                    return {
                        x: r[0],
                        y: r[1]
                    }
                },
                sendClick: function sendClick() {
                    _params.hottag && (this.url.push(this.getDomainInfo(!0)), this.url.push("&hottag=" + escape(_params.hottag)), this.url.push("&hotx=9999&hoty=9999"), this.url.push("&rand=" + Math.round(Math.random() * 1E5)), this.url.unshift("http://pinghot." + this.getCookieSetDomain(_curDomain) +
                        "/pingd?"), this.sendInfo(this.url.join("")))
                },
                pgvGetArgs: function pgvGetArgs() {
                    this.getDomainInfo();
                    var e = [];
                    return e.push("tcss_rp_dm=" + Tcss.dm), e.push("tcss_uid=" + _cookie.get("pgv_pvid=", !0)), e.push("tcss_sid=" + _cookie.get("ssid=", !0)), e.push("tcss_refer=" + _cookie.get("ts_refer=", !0)), e.push("tcss_last=" + _cookie.get("ts_last=", !0)), e.join("&")
                },
                sendInfo: function sendInfo(e) {
                    _image = new Image(1, 1), Tcss.img = _image, _image.onload = _image.onerror = _image.onabort = function() {
                        _image.onload = _image.onerror =
                            _image.onabort = null, Tcss.img = null
                    }, _image.src = e
                }
            };
            var _cookie = {
                sck: [],
                sco: {},
                init: function init() {
                    var e = this.get("pgv_info=", !0);
                    if (e != _n) {
                        var t = e.split("&");
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n].split("=");
                            this.set(r[0], unescape(r[1]))
                        }
                    }
                },
                get: function get(e, t) {
                    var n = t ? _d.cookie : this.get("pgv_info=", !0),
                        r = _n,
                        i, s;
                    i = n.indexOf(e);
                    if (i > -1) {
                        i += e.length, s = n.indexOf(";", i), s == -1 && (s = n.length);
                        if (!t) {
                            var o = n.indexOf("&", i);
                            o > -1 && (s = Math.min(s, o))
                        }
                        r = n.substring(i, s)
                    }
                    return r
                },
                set: function set(e, t) {
                    this.sco[e] =
                        t;
                    var n = !1,
                        r = this.sck.length;
                    for (var i = 0; i < r; i++)
                        if (e == this.sck[i]) {
                            n = !0;
                            break
                        } n || this.sck.push(e)
                },
                setCookie: function setCookie(e, t, n) {
                    var r = _l.hostname,
                        i = _cookie.get(e + "=", t);
                    if (i == _n && !n) {
                        switch (e) {
                            case "ts_uid":
                                _ext.push("nw=1");
                                break;
                            case "ssid":
                                _ch = 1
                        }
                        t ? i = "" : i = "s";
                        var s = (new Date)
                            .getUTCMilliseconds();
                        i += Math.round(Math.abs(Math.random() - 1) * 2147483647) * s % 1E10
                    } else i = n ? n : i;
                    if (t) switch (e) {
                        case "ts_uid":
                            this.saveCookie(e + "=" + i, r, this.getExpires(1051200));
                            break;
                        case "ts_refer":
                            this.saveCookie(e +
                                "=" + i, r, this.getExpires(259200));
                            break;
                        case "ts_last":
                            this.saveCookie(e + "=" + i, r, this.getExpires(30));
                            break;
                        default:
                            this.saveCookie(e + "=" + i, _domainToSet, "expires=Sun, 18 Jan 2038 00:00:00 GMT;")
                    } else this.set(e, i);
                    return i
                },
                getExpires: function getExpires(e) {
                    var t = new Date;
                    return t.setTime(t.getTime() + e * 60 * 1E3), "expires=" + t.toGMTString()
                },
                save: function save() {
                    if (_params.sessionSpan) {
                        var e = new Date;
                        e.setTime(e.getTime() + _params.sessionSpan * 60 * 1E3)
                    }
                    var t = "",
                        n = this.sck.length;
                    for (var r = 0; r < n; r++) t += this.sck[r] +
                        "=" + this.sco[this.sck[r]] + "&";
                    t = "pgv_info=" + t.substr(0, t.length - 1);
                    var i = "";
                    e && (i = "expires=" + e.toGMTString()), this.saveCookie(t, _domainToSet, i)
                },
                saveCookie: function saveCookie(e, t, n) {
                    _d.cookie = e + ";path=/;domain=" + t + ";" + n
                }
            };
            window.pgvMain = function(e, t) {
                var n = "";
                t ? (n = t, _ver = "tcsso.3.1.5") : (n = e, _ver = "tcss.3.1.5");
                try {
                    _pgvVersion && (typeof pvRepeatCount != "undefined" && pvRepeatCount == 1 ? (_rep = 1, pvRepeatCount = 2) : _rep = 2);
                    if (_rep != 1) return;
                    _rep = 2, (new tcss(n))
                        .run()
                } catch (r) {}
            }, window.pgvSendClick = function(e) {
                (new tcss(e))
                    .sendClick()
            },
                window.pgvWatchClick = function(e) {
                    (new tcss(e))
                        .watchClick(e)
                }, window.pgvGetArgs = function(e) {
                return (new tcss(e))
                    .pgvGetArgs()
            }, loadScript(_speedTestUrl)
        })()
    }

    function use$1() {
        var _ver, _speedTestUrl, pvRepeatCount;
        (function() {
            function t(a) {
                this.url = [];
                this.init(a)
            }
            var g, l, n, f, x, w, p, B, k, q, u, y, z = 0,
                A = 0;
            _ver = "tcss.3.1.5";
            window.Tcss = {};
            var v = "function" == typeof tracert && "function" == typeof pgvGetColumn && "function" == typeof pgvGetTopic && "function" == typeof pgvGetDomainInfo && "function" == typeof pgvGetRefInfo;
            if ("undefined" ==
                typeof r) var r = 1;
            t.prototype = {
                init: function init(a) {
                    a ? f = a : f = {};
                    g = document;
                    if (!f.statIframe && window != top) try {
                        g = top.document
                    } catch (c) {}
                    "undefined" == typeof g && (g = document);
                    l = g.location;
                    n = g.body;
                    v && (Tcss.d = g, Tcss.l = l);
                    q = [];
                    u = [];
                    y = []
                },
                run: function run() {
                    var a, c, b;
                    a = (new Date)
                        .getTime();
                    h.init();
                    this.url.push(this.getDomainInfo());
                    this.coverCookie();
                    h.setCookie("ssid");
                    h.save();
                    this.url.unshift("https://pingfore." + this.getCookieSetDomain(x) + "/pingd?");
                    this.url.push(this.getRefInfo(f));
                    try {
                        navigator.cookieEnabled ?
                            this.url.push("&pvid=" + h.setCookie("pgv_pvid", !0)) : this.url.push("&pvid=NoCookie")
                    } catch (d) {
                        this.url.push("&pvid=NoCookie")
                    }
                    this.url.push(this.getMainEnvInfo());
                    this.url.push(this.getExtendEnvInfo());
                    Tcss.pgUserType = "";
                    if (f.pgUserType || f.reserved2) c = f.pgUserType || f.reserved2, c = escape(c.substring(0, 256)), Tcss.pgUserType = c, y.push("pu=" + Tcss.pgUserType);
                    v && (pgvGetColumn(), pgvGetTopic(), this.url.push("&column=" + Tcss.column + "&subject=" + Tcss.subject), tracert());
                    this.url.push("&vs=" + _ver);
                    h.setCookie("ts_uid",
                        !0);
                    c = (new Date)
                        .getTime();
                    q.push("tm=" + (c - a));
                    z && q.push("ch=" + z);
                    f.extParam ? b = f.extParam + "|" : b = "";
                    this.url.push("&ext=" + escape(b + q.join(";")));
                    this.url.push("&hurlcn=" + escape(u.join(";")));
                    this.url.push("&rand=" + Math.round(1E5 * Math.random()));
                    "undefined" == typeof _speedMark ? this.url.push("&reserved1=-1") : this.url.push("&reserved1=" + (new Date - _speedMark));
                    (a = this.getSud()) && y.push("su=" + escape(a.substring(0, 256)));
                    this.url.push("&tt=" + escape(y.join(";")));
                    this.sendInfo(this.url.join(""));
                    1 == A && (a =
                        this.getParameter("tcss_rp_dm", g.URL), a != Tcss.dm && (a = this.url.join("")
                        .replace(/\?dm=(.*?)&/, "?dm=" + a + "&"), this.sendInfo(a)));
                    f.hot && (document.attachEvent ? document.attachEvent("onclick", function(a) {
                        pgvWatchClick(a)
                    }) : document.addEventListener("click", function(a) {
                        pgvWatchClick(a)
                    }, !1));
                    f.repeatApplay && "true" == f.repeatApplay && "undefined" != typeof r && (r = 1)
                },
                getSud: function getSud() {
                    return f.sessionUserType ? f.sessionUserType : this.getParameter(f.sudParamName || "sessionUserType", g.URL)
                },
                coverCookie: function coverCookie() {
                    if (f.crossDomain &&
                        "on" == f.crossDomain) {
                        var a = this.getParameter("tcss_uid", g.URL),
                            c = this.getParameter("tcss_sid", g.URL),
                            b = this.getParameter("tcss_refer", g.URL),
                            d = this.getParameter("tcss_last", g.URL);
                        c && a && (A = 1, h.setCookie("ssid", !1, c), h.save(), h.setCookie("ts_refer", !0, b), h.setCookie("ts_last", !0, d), h.setCookie("pgv_pvid", !0, a))
                    }
                },
                getDomainInfo: function getDomainInfo(a) {
                    var c;
                    c = l.hostname.toLowerCase();
                    f.virtualDomain && (u.push("ad=" + c), c = f.virtualDomain);
                    this.getCurrentUrl();
                    Tcss.dm = c;
                    v && pgvGetDomainInfo();
                    x = Tcss.dm;
                    w || (w = this.getCookieSetDomain(l.hostname.toLowerCase()), v && (Tcss.domainToSet = w));
                    a && (Tcss.dm += ".hot");
                    return "dm=" + Tcss.dm + "&url=" + Tcss.url
                },
                getCurrentUrl: function getCurrentUrl() {
                    var a = "",
                        c = "-",
                        a = escape(l.pathname);
                    "" != l.search && (c = escape(l.search.substr(1)));
                    if (f.senseParam) {
                        var b = this.getParameter(f.senseParam, g.URL);
                        b && (a += "_" + b)
                    }
                    f.virtualURL && (u.push("au=" + a), a = f.virtualURL);
                    Tcss.url = a;
                    Tcss.arg = c
                },
                getRefInfo: function getRefInfo(a) {
                    var c = "-",
                        b = "-",
                        d = "-",
                        e = g.referrer,
                        m;
                    a = this.getParameter(a.tagParamName ||
                        "ADTAG", g.URL);
                    m = e.indexOf("://"); - 1 < m && (m = e.match(/(\w+):\/\/([^:|\/]+)(:\d*)?(.*\/)([^#|\?|\n]+)?(#.*)?(\?.*)?/i)) && (c = m[2], b = m[4] + (m[5] ? m[5] : "")); - 1 != e.indexOf("?") && (m = e.indexOf("?") + 1, d = e.substr(m));
                    e = c;
                    f.virtualRefDomain && ("-" != c && u.push("ard=" + c), c = f.virtualRefDomain);
                    f.virtualRefURL && ("-" != b && u.push("aru=" + escape(b)), b = f.virtualRefURL);
                    var k;
                    a && (k = c + b, c = "ADTAG", b = a);
                    p = c;
                    B = escape(b);
                    if ("-" == p || "ADTAG" == p && "-" == e) c = h.get("ts_last=", !0), "-" != c && q.push("ls=" + c);
                    h.setCookie("ts_last", !0, escape((l.hostname +
                        l.pathname)
                        .substring(0, 128)));
                    c = h.get("ts_refer=", !0);
                    "-" != c && q.push("rf=" + c);
                    e = l.hostname;
                    f.inner && (e = "," + e + "," + f.inner + ",");
                    "-" == p || -1 < ("," + e + ",")
                        .indexOf(p) || 1 == A || (b = escape((p + b)
                        .substring(0, 128)), b != c && (z = 2), h.setCookie("ts_refer", !0, b));
                    Tcss.rdm = p;
                    Tcss.rurl = B;
                    Tcss.rarg = escape(d);
                    v && pgvGetRefInfo();
                    return k ? "&rdm=" + Tcss.rdm + "&rurl=" + Tcss.rurl + "&rarg=" + Tcss.rarg + "&or=" + k : "&rdm=" + Tcss.rdm + "&rurl=" + Tcss.rurl + "&rarg=" + Tcss.rarg
                },
                getMainEnvInfo: function getMainEnvInfo() {
                    var a = "";
                    try {
                        var c = "-",
                            b =
                                "-",
                            d = "-",
                            e = "-",
                            f = "-",
                            h = 0,
                            g = navigator;
                        self.screen && (c = screen.width + "x" + screen.height, b = screen.colorDepth + "-bit");
                        g.language ? d = g.language.toLowerCase() : g.browserLanguage && (d = g.browserLanguage.toLowerCase());
                        h = g.javaEnabled() ? 1 : 0;
                        e = g.platform;
                        f = (new Date)
                            .getTimezoneOffset() / 60;
                        a = "&scr=" + c + "&scl=" + b + "&lang=" + d + "&java=" + h + "&pf=" + e + "&tz=" + f
                    } catch (k$36) {} finally {
                        return a
                    }
                },
                getExtendEnvInfo: function getExtendEnvInfo() {
                    var a = "";
                    try {
                        var c = l.href,
                            b = "-",
                            a = a + ("&flash=" + this.getFlashInfo());
                        n.addBehavior && (n.addBehavior("#default#homePage"),
                        n.isHomePage(c) && (a += "&hp=Y"));
                        n.addBehavior && (n.addBehavior("#default#clientCaps"), b = n.connectionType);
                        a += "&ct=" + b
                    } catch (d) {} finally {
                        return a
                    }
                },
                getFlashInfo: function getFlashInfo() {
                    var a = "-",
                        c = navigator;
                    try {
                        if (c.plugins && c.plugins.length)
                            for (var b = 0; b < c.plugins.length; b++) {
                                if (-1 < c.plugins[b].name.indexOf("Shockwave Flash")) {
                                    a = c.plugins[b].description.split("Shockwave Flash ")[1];
                                    break
                                }
                            } else if (window.ActiveXObject)
                            for (b = 12; 5 <= b; b--) try {
                                if (window["eva" + String.fromCharCode(108)]("new ActiveXObject('ShockwaveFlash.ShockwaveFlash." +
                                    b + "');")) {
                                    a = b + ".0";
                                    break
                                }
                            } catch (d) {}
                    } catch (e) {}
                    return a
                },
                getParameter: function getParameter(a, c) {
                    if (a && c) {
                        var b = c.match(new RegExp("(\\?|#|&)" + a + "=([^&^#]*)(#|&|$)"));
                        return b ? b[2] : ""
                    }
                    return ""
                },
                getCookieSetDomain: function getCookieSetDomain(a) {
                    var c, b, d = [];
                    for (b = c = 0; b < a.length; b++) "." == a.charAt(b) && (d[c] = b, c++);
                    c = d.length; - 1 < a.indexOf(".cn") && c--;
                    b = "qq.com";
                    1 == c ? b = a : 1 < c && (b = a.substring(d[c - 2] + 1));
                    return b
                },
                watchClick: function watchClick(a) {
                    try {
                        var c = !0,
                            b = "",
                            d;
                        d = window.event ? window.event.srcElement :
                            a.target;
                        switch (d.tagName) {
                            case "A":
                                b = "<A href=" + d.href + ">" + d.innerHTML + "</a>";
                                break;
                            case "IMG":
                                b = "<IMG src=" + d.src + ">";
                                break;
                            case "INPUT":
                                b = "<INPUT type=" + d.type + " value=" + d.value + ">";
                                break;
                            case "BUTTON":
                                b = "<BUTTON>" + d.innerText + "</BUTTON>";
                                break;
                            case "SELECT":
                                b = "SELECT";
                                break;
                            default:
                                c = !1
                        }
                        if (c) {
                            var e = new t(f),
                                g = e.getElementPos(d);
                            if (f.coordinateId) {
                                var h = e.getElementPos(document.getElementById(f.coordinateId));
                                g.x -= h.x
                            }
                            e.url.push(e.getDomainInfo(!0));
                            e.url.push("&hottag=" + escape(b));
                            e.url.push("&hotx=" +
                                g.x);
                            e.url.push("&hoty=" + g.y);
                            e.url.push("&rand=" + Math.round(1E5 * Math.random()));
                            e.url.unshift("https://pingfore." + this.getCookieSetDomain(x) + "/pingd?");
                            e.sendInfo(e.url.join(""))
                        }
                    } catch (k$37) {}
                },
                getElementPos: function getElementPos(a) {
                    if (null === a.parentNode || "none" == a.style.display) return !1;
                    var c = navigator.userAgent.toLowerCase(),
                        b = null,
                        d = [];
                    if (a.getBoundingClientRect) return c = a.getBoundingClientRect(), a = Math.max(document.documentElement.scrollTop, document.body.scrollTop), b = Math.max(document.documentElement.scrollLeft,
                        document.body.scrollLeft), {
                        x: c.left + b - document.body.clientLeft,
                        y: c.top + a - document.body.clientTop
                    };
                    if (document.getBoxObjectFor) c = document.getBoxObjectFor(a), d = [c.x - (a.style.borderLeftWidth ? Math.floor(a.style.borderLeftWidth) : 0), c.y - (a.style.borderTopWidth ? Math.floor(a.style.borderTopWidth) : 0)];
                    else {
                        d = [a.offsetLeft, a.offsetTop];
                        b = a.offsetParent;
                        if (b != a)
                            for (; b;) d[0] += b.offsetLeft, d[1] += b.offsetTop, b = b.offsetParent;
                        if (-1 < c.indexOf("opera") || -1 < c.indexOf("safari") && "absolute" == a.style.position) d[0] -= document.body.offsetLeft,
                            d[1] -= document.body.offsetTop
                    }
                    for (b = a.parentNode ? a.parentNode : null; b && "BODY" != b.tagName && "HTML" != b.tagName;) d[0] -= b.scrollLeft, d[1] -= b.scrollTop, b = b.parentNode ? b.parentNode : null;
                    return {
                        x: d[0],
                        y: d[1]
                    }
                },
                sendClick: function sendClick() {
                    f.hottag && (this.url.push(this.getDomainInfo(!0)), this.url.push("&hottag=" + escape(f.hottag)), this.url.push("&hotx=9999&hoty=9999"), this.url.push("&rand=" + Math.round(1E5 * Math.random())), this.url.unshift("https://pingfore." + this.getCookieSetDomain(x) + "/pingd?"), this.sendInfo(this.url.join("")))
                },
                pgvGetArgs: function pgvGetArgs() {
                    this.getDomainInfo();
                    var a = [];
                    a.push("tcss_rp_dm=" + Tcss.dm);
                    a.push("tcss_uid=" + h.get("pgv_pvid=", !0));
                    a.push("tcss_sid=" + h.get("ssid=", !0));
                    a.push("tcss_refer=" + h.get("ts_refer=", !0));
                    a.push("tcss_last=" + h.get("ts_last=", !0));
                    return a.join("&")
                },
                sendInfo: function sendInfo(a) {
                    k = new Image(1, 1);
                    Tcss.img = k;
                    k.onload = k.onerror = k.onabort = function() {
                        k.onload = k.onerror = k.onabort = null;
                        Tcss.img = null
                    };
                    k.src = a
                }
            };
            var h = {
                sck: [],
                sco: {},
                init: function init() {
                    var a = this.get("pgv_info=",
                        !0);
                    if ("-" != a)
                        for (var a = a.split("&"), c = 0; c < a.length; c++) {
                            var b = a[c].split("=");
                            this.set(b[0], unescape(b[1]))
                        }
                },
                get: function get(a, c) {
                    var b = c ? g.cookie : this.get("pgv_info=", !0),
                        d = "-",
                        e;
                    e = b.indexOf(a);
                    if (-1 < e) {
                        e += a.length;
                        d = b.indexOf(";", e); - 1 == d && (d = b.length);
                        if (!c) {
                            var f = b.indexOf("&", e); - 1 < f && (d = Math.min(d, f))
                        }
                        d = b.substring(e, d)
                    }
                    return d
                },
                set: function set(a, c) {
                    this.sco[a] = c;
                    for (var b = !1, d = this.sck.length, e = 0; e < d; e++)
                        if (a == this.sck[e]) {
                            b = !0;
                            break
                        } b || this.sck.push(a)
                },
                setCookie: function setCookie(a,
                                              c, b) {
                    var d = l.hostname,
                        e = h.get(a + "=", c);
                    if ("-" != e || b) e = b ? b : e;
                    else {
                        switch (a) {
                            case "ts_uid":
                                q.push("nw=1");
                                break;
                            case "ssid":
                                z = 1
                        }
                        c ? e = "" : e = "s";
                        b = (new Date)
                            .getUTCMilliseconds();
                        e += Math.round(2147483647 * Math.abs(Math.random() - 1)) * b % 1E10
                    }
                    if (c) switch (a) {
                        case "ts_uid":
                            this.saveCookie(a + "=" + e, d, this.getExpires(1051200));
                            break;
                        case "ts_refer":
                            this.saveCookie(a + "=" + e, d, this.getExpires(259200));
                            break;
                        case "ts_last":
                            this.saveCookie(a + "=" + e, d, this.getExpires(30));
                            break;
                        default:
                            this.saveCookie(a + "=" + e, w, "expires=Sun, 18 Jan 2038 00:00:00 GMT;")
                    } else this.set(a,
                        e);
                    return e
                },
                getExpires: function getExpires(a) {
                    var c = new Date;
                    c.setTime(c.getTime() + 6E4 * a);
                    return "expires=" + c.toGMTString()
                },
                save: function save() {
                    if (f.sessionSpan) {
                        var a = new Date;
                        a.setTime(a.getTime() + 6E4 * f.sessionSpan)
                    }
                    for (var c = "", b = this.sck.length, d = 0; d < b; d++) c += this.sck[d] + "=" + this.sco[this.sck[d]] + "&";
                    c = "pgv_info=" + c.substr(0, c.length - 1);
                    b = "";
                    a && (b = "expires=" + a.toGMTString());
                    this.saveCookie(c, w, b)
                },
                saveCookie: function saveCookie(a, c, b) {
                    g.cookie = a + ";path=/;domain=" + c + ";" + b
                }
            };
            window.pgvMain = function(a,
                                      c) {
                var b = "";
                c ? (b = c, _ver = "tcsso.3.1.5") : (b = a, _ver = "tcss.3.1.5");
                try {
                    v && ("undefined" != typeof pvRepeatCount && 1 == pvRepeatCount ? (r = 1, pvRepeatCount = 2) : r = 2), 1 == r && (r = 2, (new t(b))
                        .run())
                } catch (d) {}
            };
            window.pgvSendClick = function(a) {
                (new t(a))
                    .sendClick()
            };
            window.pgvWatchClick = function(a) {
                (new t(a))
                    .watchClick(a)
            };
            window.pgvGetArgs = function(a) {
                return (new t(a))
                    .pgvGetArgs()
            }
        })()
    }

    function validUrl(url) {
        return /^((http(s)?:)?\/\/([\w\d\-_]*\.){1,3}qq\.com)?\/([^\/]|$)/.test(url)
    }

    function getDomain() {
        var domain =
            window.location.domain;
        if (!domain) {
            var a = document.createElement("A");
            a.href = "/";
            domain = String(a.href)
                .replace(/(^http:\/\/|^https:\/\/|\/+$)/g, "")
        }
        return domain
    }

    function getPathName() {
        var url = window.location.href.replace(/^(http|https):\/\//, "");
        var posL = url.indexOf("/") + 1;
        url = posL ? url.substr(posL - 1) : "";
        var posR = url.indexOf("?") + 1;
        url = posR ? url.substr(0, posR - 1) : url;
        return url
    }

    function getSearch() {
        var search = window.location.href.split("#")[0].split("?")[1];
        return search ? "?" + search : ""
    }

    function getQueryString(name) {
        var search =
                getSearch(),
            result = search.match(new RegExp("[\\?\\&]" + name + "=([^\\&]+)", "i"));
        if (result == null || result.length < 1) return "";
        return decodeURIComponent(result[1])
    }

    function getPathQueryString(name) {
        var pathName = getPathName(),
            tmp = pathName.split("/");
        for (var i = 1, l = tmp.length; i < l; i += 2) {
            var key = tmp[i],
                value = decodeURIComponent(tmp[i + 1]);
            if (key === name) return value
        }
        return ""
    }

    function getQueryStringSet(_url) {
        var url = _url || window.location.href,
            queryString = (url.split("#")[0].split("?")[1] || "")
                .split("&"),
            queryStringSet = {};
        for (var i = 0, l = queryString.length; i < l; i++) {
            var qs = queryString[i];
            if (!qs) continue;
            var tmp = qs.split("="),
                name = tmp[0] || "",
                value = tmp[1] || "";
            queryStringSet[name] = decodeURIComponent(value)
        }
        return queryStringSet
    }

    function appendQueryString(_url, queryStringSet) {
        var modCurrent = arguments.length === 1 && Object.prototype.toString.call(arguments[0]) === "[object Object]";
        if (modCurrent) {
            queryStringSet = arguments[0];
            _url = null
        }
        var url = _url || window.location.href,
            buffer = [],
            joinedSet = getQueryStringSet(url),
            name, value;
        for (name in queryStringSet)
            if (queryStringSet.hasOwnProperty(name)) {
                value =
                    queryStringSet[name];
                joinedSet[name] = value
            } for (name in joinedSet)
            if (joinedSet.hasOwnProperty(name)) {
                value = joinedSet[name];
                buffer.push(name + "=" + encodeURIComponent(value))
            } url = url.split("#")[0].split("?")[0] + "?" + buffer.join("&");
        if (modCurrent) window.history && window.history.replaceState && window.history.replaceState(null, "", url);
        return url
    }
    var urlHelper = {
        validUrl: validUrl,
        getDomain: getDomain,
        getPathName: getPathName,
        getSearch: getSearch,
        getQueryString: getQueryString,
        getPathQueryString: getPathQueryString,
        getQueryStringSet: getQueryStringSet,
        appendQueryString: appendQueryString
    };

    function apply(func, thisArg, argArr) {
        if (typeof func === "function") func.apply(thisArg, argArr)
    }

    function throttle(func, timeSpan, thisArg) {
        var last = 0;
        return function() {
            var args = Array.prototype.splice.apply(arguments, [0]);
            var now = Date.now();
            if (now - last > timeSpan) {
                last = now;
                apply(func, thisArg, args)
            }
        }
    }

    function debounce(func, timeSpan, thisArg) {
        var timeout = null;
        return function() {
            var args = Array.prototype.splice.apply(arguments, [0]);
            if (timeout) window.clearTimeout(timeout);
            timeout = window.setTimeout(function() {
                apply(func, thisArg, args)
            }, timeSpan)
        }
    }

    function deepCopy(origin, _copy) {
        var type = Object.prototype.toString.call(origin),
            copy = origin;
        switch (type) {
            case "[object Object]":
                copy = _copy || {};
                for (var k in origin)
                    if (origin.hasOwnProperty(k)) copy[k] = deepCopy(origin[k]);
                break;
            case "[object Array]":
                copy = _copy || [];
                for (var i = 0, l = origin.length; i < l; i++) copy[i] = deepCopy(origin[i]);
                break;
            case "[object Function]":
                copy = origin;
                break
        }
        return copy
    }

    function extend(obj) {
        var length = arguments.length;
        if (length < 2 || obj == null) return obj;
        for (var index = 1; index < length; index++) {
            var source = arguments[index];
            deepCopy(source, obj)
        }
        return obj
    }
    var makeSureWindowLoaded = {
        _loaded: false,
        _loadEvent: null,
        _loadCallbacks: [],
        wrap: function wrap(func) {
            if (this._loaded) func(this._loadEvent);
            else this._loadCallbacks.push(func)
        },
        _init: function _init() {
            var _this = this;
            window.addEventListener("load", function() {
                return _this._onWindowLoad()
            })
        },
        _onWindowLoad: function _onWindowLoad(e) {
            var callbacks = this._loadCallbacks,
                callback;
            this._loaded = true;
            this._loadEvent = e;
            while (callback = callbacks.shift()) callback(e)
        }
    };
    makeSureWindowLoaded._init();

    function loadScript(src, cb) {
        makeSureWindowLoaded.wrap(function() {
            var dom = document.createElement("SCRIPT");
            dom.onload = cb;
            dom.setAttribute("type", "text/javascript");
            dom.setAttribute("src", src);
            document.body.appendChild(dom)
        })
    }
    var anonymousCallbackExposer = {
        KEY: "_anonymous_callbacks",
        _callbacks: {},
        _genCallbackID: function _genCallbackID() {
            var id = null;
            do id = "cb_" + Date.now() + "_" + String(Math.random())
                .substring(2);
            while (this._callbacks[id]);
            return id
        },
        _delCallbackID: function _delCallbackID(id) {
            delete this._callbacks[id]
        },
        expose: function expose(func, keepAfterExec) {
            var self = this,
                id = self._genCallbackID(),
                name = ["window", self.KEY, id].join(".");
            this._callbacks[id] = function() {
                if (!keepAfterExec) self._delCallbackID(id);
                func.apply(this, arguments)
            };
            var parentWindow = window.parent;
            if (parentWindow) {
                var parentCallbacks = parentWindow[self.KEY];
                if (!parentCallbacks) parentWindow[self.KEY] = self._callbacks;
                else parentCallbacks[id] =
                    self._callbacks[id]
            }
            return name
        },
        parse: function parse(name) {
            if (typeof name === "string") {
                var arr = name.split("."),
                    context = window,
                    level = 0,
                    cur;
                while (cur = arr.shift()) {
                    level++;
                    if (!(cur === "window" && level === 1)) context = context[cur]
                }
                return context
            } else return name
        },
        _init: function _init() {
            window[this.KEY] = this._callbacks
        }
    };
    anonymousCallbackExposer._init();
    var functionHelper = {
        apply: apply,
        throttle: throttle,
        debounce: debounce,
        deepCopy: deepCopy,
        extend: extend,
        makeSureWindowLoaded: makeSureWindowLoaded,
        loadScript: loadScript,
        anonymousCallbackExposer: anonymousCallbackExposer
    };

    function setCookie(key, value, expires, domain, path) {
        var values = [key + "=" + encodeURIComponent(value)];
        if (expires)
            if (typeof expires === "number") {
                var expiresTime = new Date;
                expiresTime.setMinutes(expiresTime.getMinutes() + expires);
                values.push("expires=" + expiresTime.toGMTString())
            } else values.push("expires=" + expires);
        values.push("domain=" + (domain || "ac.qq.com"));
        values.push("path=" + (path || "/"));
        document.cookie = values.join(";")
    }

    function removeCookie(key, domain,
                          path) {
        setCookie(key, "", -1440, domain, path)
    }

    function getCookie(key) {
        var allcookies = document.cookie;
        var cookiesReg = new RegExp("(^|;)\\s*" + key + "\\s*(=\\s*([^;$]*?))?(;|$)");
        var groups = cookiesReg.exec(allcookies);
        return decodeURIComponent(groups ? groups[3] || "" : "")
    }
    var cookieHelper = {
        setCookie: setCookie,
        removeCookie: removeCookie,
        getCookie: getCookie
    };
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj
    } : function(obj) {
        return obj && typeof Symbol === "function" &&
        obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj
    };

    function _toConsumableArray(arr) {
        if (Array.isArray(arr)) {
            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
            return arr2
        } else return Array.from(arr)
    }! function(e, t) {
        "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) ? module.exports = t(): "function" == typeof define && define.amd ? define([], t) : "object" == (typeof exports === "undefined" ? "undefined" :
            _typeof(exports)) ? exports.BeaconAction = t() : e.BeaconAction = t()
    }(window, function() {
        return function(e) {
            var t = {};

            function n(r) {
                if (t[r]) return t[r].exports;
                var o = t[r] = {
                    i: r,
                    l: !1,
                    exports: {}
                };
                return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports
            }
            return n.m = e, n.c = t, n.d = function(e, t, r) {
                n.o(e, t) || Object.defineProperty(e, t, {
                    enumerable: !0,
                    get: r
                })
            }, n.r = function(e) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }), Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }, n.t = function(e, t) {
                if (1 & t && (e = n(e)), 8 & t) return e;
                if (4 & t && "object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) && e && e.__esModule) return e;
                var r = Object.create(null);
                if (n.r(r), Object.defineProperty(r, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & t && "string" != typeof e)
                    for (var o in e) n.d(r, o, function(t) {
                        return e[t]
                    }.bind(null, o));
                return r
            }, n.n = function(e) {
                var t = e && e.__esModule ? function() {
                    return e.default
                } : function() {
                    return e
                };
                return n.d(t, "a", t), t
            }, n.o = function(e, t) {
                return Object.prototype.hasOwnProperty.call(e,
                    t)
            }, n.p = "", n(n.s = 31)
        }([function(e, t, n) {
            var r = n(3),
                o = Object.prototype.toString;

            function i(e) {
                return "[object Array]" === o.call(e)
            }

            function a(e) {
                return void 0 === e
            }

            function u(e) {
                return null !== e && "object" == (typeof e === "undefined" ? "undefined" : _typeof(e))
            }

            function s(e) {
                return "[object Function]" === o.call(e)
            }

            function c(e, t) {
                if (null != e)
                    if ("object" != (typeof e === "undefined" ? "undefined" : _typeof(e)) && (e = [e]), i(e))
                        for (var n = 0, r = e.length; n < r; n++) t.call(null, e[n], n, e);
                    else
                        for (var o in e) Object.prototype.hasOwnProperty.call(e,
                            o) && t.call(null, e[o], o, e)
            }
            e.exports = {
                isArray: i,
                isArrayBuffer: function isArrayBuffer(e) {
                    return "[object ArrayBuffer]" === o.call(e)
                },
                isBuffer: function isBuffer(e) {
                    return null !== e && !a(e) && null !== e.constructor && !a(e.constructor) && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)
                },
                isFormData: function isFormData(e) {
                    return "undefined" != typeof FormData && e instanceof FormData
                },
                isArrayBufferView: function isArrayBufferView(e) {
                    return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) :
                        e && e.buffer && e.buffer instanceof ArrayBuffer
                },
                isString: function isString(e) {
                    return "string" == typeof e
                },
                isNumber: function isNumber(e) {
                    return "number" == typeof e
                },
                isObject: u,
                isUndefined: a,
                isDate: function isDate(e) {
                    return "[object Date]" === o.call(e)
                },
                isFile: function isFile(e) {
                    return "[object File]" === o.call(e)
                },
                isBlob: function isBlob(e) {
                    return "[object Blob]" === o.call(e)
                },
                isFunction: s,
                isStream: function isStream(e) {
                    return u(e) && s(e.pipe)
                },
                isURLSearchParams: function isURLSearchParams(e) {
                    return "undefined" != typeof URLSearchParams &&
                        e instanceof URLSearchParams
                },
                isStandardBrowserEnv: function isStandardBrowserEnv() {
                    return ("undefined" == typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && "undefined" != typeof window && "undefined" != typeof document
                },
                forEach: c,
                merge: function e() {
                    var t = {};

                    function n(n, r) {
                        "object" == _typeof(t[r]) && "object" == (typeof n === "undefined" ? "undefined" : _typeof(n)) ? t[r] = e(t[r], n) : t[r] = n
                    }
                    for (var r = 0, o = arguments.length; r < o; r++) c(arguments[r], n);
                    return t
                },
                deepMerge: function e() {
                    var t = {};

                    function n(n, r) {
                        "object" == _typeof(t[r]) && "object" == (typeof n === "undefined" ? "undefined" : _typeof(n)) ? t[r] = e(t[r], n) : t[r] = "object" == (typeof n === "undefined" ? "undefined" : _typeof(n)) ? e({}, n) : n
                    }
                    for (var r = 0, o = arguments.length; r < o; r++) c(arguments[r], n);
                    return t
                },
                extend: function extend$$1(e, t, n) {
                    return c(t, function(t, o) {
                        e[o] = n && "function" == typeof t ? r(t, n) : t
                    }), e
                },
                trim: function trim(e) {
                    return e.replace(/^\s*/, "")
                        .replace(/\s*$/, "")
                }
            }
        }, function(e, t, n) {
            (function(t) {
                e.exports = function e(t,
                                       n, r) {
                    function o(a, u) {
                        if (!n[a]) {
                            if (!t[a]) {
                                if (i) return i(a, !0);
                                var s = new Error("Cannot find module '" + a + "'");
                                throw s.code = "MODULE_NOT_FOUND", s;
                            }
                            var c = n[a] = {
                                exports: {}
                            };
                            t[a][0].call(c.exports, function(e) {
                                var n = t[a][1][e];
                                return o(n || e)
                            }, c, c.exports, e, t, n, r)
                        }
                        return n[a].exports
                    }
                    for (var i = !1, a = 0; a < r.length; a++) o(r[a]);
                    return o
                }({
                    1: [function(e, n, r) {
                        (function(e) {
                            var t, r, o = e.MutationObserver || e.WebKitMutationObserver;
                            if (o) {
                                var i = 0,
                                    a = new o(f),
                                    u = e.document.createTextNode("");
                                a.observe(u, {
                                    characterData: !0
                                }),
                                    t = function t() {
                                        u.data = i = ++i % 2
                                    }
                            } else if (e.setImmediate || void 0 === e.MessageChannel) t = "document" in e && "onreadystatechange" in e.document.createElement("script") ? function() {
                                var t = e.document.createElement("script");
                                t.onreadystatechange = function() {
                                    f(), t.onreadystatechange = null, t.parentNode.removeChild(t), t = null
                                }, e.document.documentElement.appendChild(t)
                            } : function() {
                                setTimeout(f, 0)
                            };
                            else {
                                var s = new e.MessageChannel;
                                s.port1.onmessage = f, t = function t() {
                                    s.port2.postMessage(0)
                                }
                            }
                            var c = [];

                            function f() {
                                var e, t;
                                r = !0;
                                for (var n = c.length; n;) {
                                    for (t = c, c = [], e = -1; ++e < n;) t[e]();
                                    n = c.length
                                }
                                r = !1
                            }
                            n.exports = function(e) {
                                1 !== c.push(e) || r || t()
                            }
                        })
                            .call(this, void 0 !== t ? t : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                    }, {}],
                    2: [function(e, t, n) {
                        var r = e(1);

                        function o() {}
                        var i = {},
                            a = ["REJECTED"],
                            u = ["FULFILLED"],
                            s = ["PENDING"];

                        function c(e) {
                            if ("function" != typeof e) throw new TypeError("resolver must be a function");
                            this.state = s, this.queue = [], this.outcome = void 0, e !== o && h(this, e)
                        }

                        function f(e, t, n) {
                            this.promise = e,
                            "function" == typeof t && (this.onFulfilled = t, this.callFulfilled = this.otherCallFulfilled), "function" == typeof n && (this.onRejected = n, this.callRejected = this.otherCallRejected)
                        }

                        function l(e, t, n) {
                            r(function() {
                                var r;
                                try {
                                    r = t(n)
                                } catch (t$38) {
                                    return i.reject(e, t$38)
                                }
                                r === e ? i.reject(e, new TypeError("Cannot resolve promise with itself")) : i.resolve(e, r)
                            })
                        }

                        function d(e) {
                            var t = e && e.then;
                            if (e && ("object" == (typeof e === "undefined" ? "undefined" : _typeof(e)) || "function" == typeof e) && "function" == typeof t) return function() {
                                t.apply(e,
                                    arguments)
                            }
                        }

                        function h(e, t) {
                            var n = !1;

                            function r(t) {
                                n || (n = !0, i.reject(e, t))
                            }

                            function o(t) {
                                n || (n = !0, i.resolve(e, t))
                            }
                            var a = p(function() {
                                t(o, r)
                            });
                            "error" === a.status && r(a.value)
                        }

                        function p(e, t) {
                            var n = {};
                            try {
                                n.value = e(t), n.status = "success"
                            } catch (e$39) {
                                n.status = "error", n.value = e$39
                            }
                            return n
                        }
                        t.exports = c, c.prototype.catch = function(e) {
                            return this.then(null, e)
                        }, c.prototype.then = function(e, t) {
                            if ("function" != typeof e && this.state === u || "function" != typeof t && this.state === a) return this;
                            var n = new this.constructor(o);
                            return this.state !== s ? l(n, this.state === u ? e : t, this.outcome) : this.queue.push(new f(n, e, t)), n
                        }, f.prototype.callFulfilled = function(e) {
                            i.resolve(this.promise, e)
                        }, f.prototype.otherCallFulfilled = function(e) {
                            l(this.promise, this.onFulfilled, e)
                        }, f.prototype.callRejected = function(e) {
                            i.reject(this.promise, e)
                        }, f.prototype.otherCallRejected = function(e) {
                            l(this.promise, this.onRejected, e)
                        }, i.resolve = function(e, t) {
                            var n = p(d, t);
                            if ("error" === n.status) return i.reject(e, n.value);
                            var r = n.value;
                            if (r) h(e, r);
                            else {
                                e.state =
                                    u, e.outcome = t;
                                for (var o = -1, a = e.queue.length; ++o < a;) e.queue[o].callFulfilled(t)
                            }
                            return e
                        }, i.reject = function(e, t) {
                            e.state = a, e.outcome = t;
                            for (var n = -1, r = e.queue.length; ++n < r;) e.queue[n].callRejected(t);
                            return e
                        }, c.resolve = function(e) {
                            return e instanceof this ? e : i.resolve(new this(o), e)
                        }, c.reject = function(e) {
                            var t = new this(o);
                            return i.reject(t, e)
                        }, c.all = function(e) {
                            var t = this;
                            if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array"));
                            var n = e.length,
                                r = !1;
                            if (!n) return this.resolve([]);
                            for (var a = new Array(n), u = 0, s = -1, c = new this(o); ++s < n;) f(e[s], s);
                            return c;

                            function f(e, o) {
                                t.resolve(e)
                                    .then(function(e) {
                                        a[o] = e, ++u !== n || r || (r = !0, i.resolve(c, a))
                                    }, function(e) {
                                        r || (r = !0, i.reject(c, e))
                                    })
                            }
                        }, c.race = function(e) {
                            var t = this;
                            if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array"));
                            var n = e.length,
                                r = !1;
                            if (!n) return this.resolve([]);
                            for (var a, u = -1, s = new this(o); ++u < n;) a = e[u], t.resolve(a)
                                .then(function(e) {
                                    r || (r = !0,
                                        i.resolve(s, e))
                                }, function(e) {
                                    r || (r = !0, i.reject(s, e))
                                });
                            return s
                        }
                    }, {
                        1: 1
                    }],
                    3: [function(e, n, r) {
                        (function(t) {
                            "function" != typeof t.Promise && (t.Promise = e(2))
                        })
                            .call(this, void 0 !== t ? t : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                    }, {
                        2: 2
                    }],
                    4: [function(e, t, n) {
                        var r = "function" == typeof Symbol && "symbol" == _typeof(Symbol.iterator) ? function(e) {
                                return typeof e === "undefined" ? "undefined" : _typeof(e)
                            } : function(e) {
                                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" :
                                    typeof e === "undefined" ? "undefined" : _typeof(e)
                            },
                            o = function() {
                                try {
                                    if ("undefined" != typeof indexedDB) return indexedDB;
                                    if ("undefined" != typeof webkitIndexedDB) return webkitIndexedDB;
                                    if ("undefined" != typeof mozIndexedDB) return mozIndexedDB;
                                    if ("undefined" != typeof OIndexedDB) return OIndexedDB;
                                    if ("undefined" != typeof msIndexedDB) return msIndexedDB
                                } catch (e$40) {
                                    return
                                }
                            }();

                        function i(e, t) {
                            e = e || [], t = t || {};
                            try {
                                return new Blob(e, t)
                            } catch (o$41) {
                                if ("TypeError" !== o$41.name) throw o$41;
                                for (var n = new("undefined" != typeof BlobBuilder ?
                                    BlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder ? MozBlobBuilder : WebKitBlobBuilder), r = 0; r < e.length; r += 1) n.append(e[r]);
                                return n.getBlob(t.type)
                            }
                        }
                        "undefined" == typeof Promise && e(3);
                        var a = Promise;

                        function u(e, t) {
                            t && e.then(function(e) {
                                t(null, e)
                            }, function(e) {
                                t(e)
                            })
                        }

                        function s(e, t, n) {
                            "function" == typeof t && e.then(t), "function" == typeof n && e.catch(n)
                        }

                        function c(e) {
                            return "string" != typeof e && (e = String(e)), e
                        }

                        function f() {
                            if (arguments.length && "function" == typeof arguments[arguments.length -
                            1]) return arguments[arguments.length - 1]
                        }
                        var l = void 0,
                            d = {},
                            h = Object.prototype.toString;

                        function p(e) {
                            return "boolean" == typeof l ? a.resolve(l) : function(e) {
                                return (new a(function(t) {
                                    var n = e.transaction("local-forage-detect-blob-support", "readwrite"),
                                        r = i([""]);
                                    n.objectStore("local-forage-detect-blob-support")
                                        .put(r, "key"), n.onabort = function(e) {
                                        e.preventDefault(), e.stopPropagation(), t(!1)
                                    }, n.oncomplete = function() {
                                        var e = navigator.userAgent.match(/Chrome\/(\d+)/),
                                            n = navigator.userAgent.match(/Edge\//);
                                        t(n ||
                                            !e || parseInt(e[1], 10) >= 43)
                                    }
                                }))
                                    .catch(function() {
                                        return !1
                                    })
                            }(e)
                                .then(function(e) {
                                    return l = e
                                })
                        }

                        function v(e) {
                            var t = d[e.name],
                                n = {};
                            n.promise = new a(function(e, t) {
                                n.resolve = e, n.reject = t
                            }), t.deferredOperations.push(n), t.dbReady ? t.dbReady = t.dbReady.then(function() {
                                return n.promise
                            }) : t.dbReady = n.promise
                        }

                        function m(e) {
                            var t = d[e.name].deferredOperations.pop();
                            if (t) return t.resolve(), t.promise
                        }

                        function g(e, t) {
                            var n = d[e.name].deferredOperations.pop();
                            if (n) return n.reject(t), n.promise
                        }

                        function y(e, t) {
                            return new a(function(n,
                                                  r) {
                                if (d[e.name] = d[e.name] || {
                                    forages: [],
                                    db: null,
                                    dbReady: null,
                                    deferredOperations: []
                                }, e.db) {
                                    if (!t) return n(e.db);
                                    v(e), e.db.close()
                                }
                                var i = [e.name];
                                t && i.push(e.version);
                                var a = o.open.apply(o, i);
                                t && (a.onupgradeneeded = function(t) {
                                    var n = a.result;
                                    try {
                                        n.createObjectStore(e.storeName), t.oldVersion <= 1 && n.createObjectStore("local-forage-detect-blob-support")
                                    } catch (e$42) {
                                        if ("ConstraintError" !== e$42.name) throw e$42;
                                    }
                                }), a.onerror = function(e) {
                                    e.preventDefault(), r(a.error)
                                }, a.onsuccess = function() {
                                    n(a.result), m(e)
                                }
                            })
                        }

                        function b(e) {
                            return y(e, !1)
                        }

                        function w(e) {
                            return y(e, !0)
                        }

                        function S(e, t) {
                            if (!e.db) return !0;
                            var n = !e.db.objectStoreNames.contains(e.storeName),
                                r = e.version < e.db.version,
                                o = e.version > e.db.version;
                            if (r && (e.version, e.version = e.db.version), o || n) {
                                if (n) {
                                    var i = e.db.version + 1;
                                    i > e.version && (e.version = i)
                                }
                                return !0
                            }
                            return !1
                        }

                        function T(e) {
                            return i([function(e) {
                                for (var t = e.length, n = new ArrayBuffer(t), r = new Uint8Array(n), o = 0; o < t; o++) r[o] = e.charCodeAt(o);
                                return n
                            }(atob(e.data))], {
                                type: e.type
                            })
                        }

                        function E(e) {
                            return e &&
                                e.__local_forage_encoded_blob
                        }

                        function A(e) {
                            var t = this,
                                n = t._initReady()
                                    .then(function() {
                                        var e = d[t._dbInfo.name];
                                        if (e && e.dbReady) return e.dbReady
                                    });
                            return s(n, e, e), n
                        }

                        function _(e, t, n, r) {
                            void 0 === r && (r = 1);
                            try {
                                var o = e.db.transaction(e.storeName, t);
                                n(null, o)
                            } catch (o$43) {
                                if (r > 0 && (!e.db || "InvalidStateError" === o$43.name || "NotFoundError" === o$43.name)) return a.resolve()
                                    .then(function() {
                                        if (!e.db || "NotFoundError" === o$43.name && !e.db.objectStoreNames.contains(e.storeName) && e.version <= e.db.version) return e.db &&
                                        (e.version = e.db.version + 1), w(e)
                                    })
                                    .then(function() {
                                        return function(e) {
                                            v(e);
                                            for (var t = d[e.name], n = t.forages, r = 0; r < n.length; r++) {
                                                var o = n[r];
                                                o._dbInfo.db && (o._dbInfo.db.close(), o._dbInfo.db = null)
                                            }
                                            return e.db = null, b(e)
                                                .then(function(t) {
                                                    return e.db = t, S(e) ? w(e) : t
                                                })
                                                .then(function(r) {
                                                    e.db = t.db = r;
                                                    for (var o = 0; o < n.length; o++) n[o]._dbInfo.db = r
                                                })
                                                .catch(function(t) {
                                                    throw g(e, t), t;
                                                })
                                        }(e)
                                            .then(function() {
                                                _(e, t, n, r - 1)
                                            })
                                    })
                                    .catch(n);
                                n(o$43)
                            }
                        }
                        var C = {
                                _driver: "asyncStorage",
                                _initStorage: function _initStorage(e) {
                                    var t = this,
                                        n = {
                                            db: null
                                        };
                                    if (e)
                                        for (var r in e) n[r] = e[r];
                                    var o = d[n.name];
                                    o || (o = {
                                        forages: [],
                                        db: null,
                                        dbReady: null,
                                        deferredOperations: []
                                    }, d[n.name] = o), o.forages.push(t), t._initReady || (t._initReady = t.ready, t.ready = A);
                                    var i = [];

                                    function u() {
                                        return a.resolve()
                                    }
                                    for (var s = 0; s < o.forages.length; s++) {
                                        var c = o.forages[s];
                                        c !== t && i.push(c._initReady()
                                            .catch(u))
                                    }
                                    var f = o.forages.slice(0);
                                    return a.all(i)
                                        .then(function() {
                                            return n.db = o.db, b(n)
                                        })
                                        .then(function(e) {
                                            return n.db = e, S(n, t._defaultConfig.version) ? w(n) : e
                                        })
                                        .then(function(e) {
                                            n.db =
                                                o.db = e, t._dbInfo = n;
                                            for (var r = 0; r < f.length; r++) {
                                                var i = f[r];
                                                i !== t && (i._dbInfo.db = n.db, i._dbInfo.version = n.version)
                                            }
                                        })
                                },
                                _support: function() {
                                    try {
                                        if (!o) return !1;
                                        var e = "undefined" != typeof openDatabase && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform),
                                            t = "function" == typeof fetch && -1 !== fetch.toString()
                                                .indexOf("[native code");
                                        return (!e || t) && "undefined" != typeof indexedDB && "undefined" != typeof IDBKeyRange
                                    } catch (e$44) {
                                        return !1
                                    }
                                }(),
                                iterate: function iterate(e, t) {
                                    var n = this,
                                        r = new a(function(t, r) {
                                            n.ready()
                                                .then(function() {
                                                    _(n._dbInfo, "readonly", function(o, i) {
                                                        if (o) return r(o);
                                                        try {
                                                            var a = i.objectStore(n._dbInfo.storeName)
                                                                    .openCursor(),
                                                                u = 1;
                                                            a.onsuccess = function() {
                                                                var n = a.result;
                                                                if (n) {
                                                                    var r = n.value;
                                                                    E(r) && (r = T(r));
                                                                    var o = e(r, n.key, u++);
                                                                    void 0 !== o ? t(o) : n.continue()
                                                                } else t()
                                                            }, a.onerror = function() {
                                                                r(a.error)
                                                            }
                                                        } catch (e$45) {
                                                            r(e$45)
                                                        }
                                                    })
                                                })
                                                .catch(r)
                                        });
                                    return u(r, t), r
                                },
                                getItem: function getItem(e, t) {
                                    var n = this;
                                    e = c(e);
                                    var r = new a(function(t, r) {
                                        n.ready()
                                            .then(function() {
                                                _(n._dbInfo,
                                                    "readonly",
                                                    function(o, i) {
                                                        if (o) return r(o);
                                                        try {
                                                            var a = i.objectStore(n._dbInfo.storeName)
                                                                .get(e);
                                                            a.onsuccess = function() {
                                                                var e = a.result;
                                                                void 0 === e && (e = null), E(e) && (e = T(e)), t(e)
                                                            }, a.onerror = function() {
                                                                r(a.error)
                                                            }
                                                        } catch (e$46) {
                                                            r(e$46)
                                                        }
                                                    })
                                            })
                                            .catch(r)
                                    });
                                    return u(r, t), r
                                },
                                setItem: function setItem(e, t, n) {
                                    var r = this;
                                    e = c(e);
                                    var o = new a(function(n, o) {
                                        var i;
                                        r.ready()
                                            .then(function() {
                                                return i = r._dbInfo, "[object Blob]" === h.call(t) ? p(i.db)
                                                    .then(function(e) {
                                                        return e ? t : (n = t, new a(function(e, t) {
                                                            var r = new FileReader;
                                                            r.onerror =
                                                                t, r.onloadend = function(t) {
                                                                var r = btoa(t.target.result || "");
                                                                e({
                                                                    __local_forage_encoded_blob: !0,
                                                                    data: r,
                                                                    type: n.type
                                                                })
                                                            }, r.readAsBinaryString(n)
                                                        }));
                                                        var n
                                                    }) : t
                                            })
                                            .then(function(t) {
                                                _(r._dbInfo, "readwrite", function(i, a) {
                                                    if (i) return o(i);
                                                    try {
                                                        var u = a.objectStore(r._dbInfo.storeName);
                                                        null === t && (t = void 0);
                                                        var s = u.put(t, e);
                                                        a.oncomplete = function() {
                                                            void 0 === t && (t = null), n(t)
                                                        }, a.onabort = a.onerror = function() {
                                                            var e = s.error ? s.error : s.transaction.error;
                                                            o(e)
                                                        }
                                                    } catch (e$47) {
                                                        o(e$47)
                                                    }
                                                })
                                            })
                                            .catch(o)
                                    });
                                    return u(o, n), o
                                },
                                removeItem: function removeItem(e,
                                                                t) {
                                    var n = this;
                                    e = c(e);
                                    var r = new a(function(t, r) {
                                        n.ready()
                                            .then(function() {
                                                _(n._dbInfo, "readwrite", function(o, i) {
                                                    if (o) return r(o);
                                                    try {
                                                        var a = i.objectStore(n._dbInfo.storeName)
                                                            .delete(e);
                                                        i.oncomplete = function() {
                                                            t()
                                                        }, i.onerror = function() {
                                                            r(a.error)
                                                        }, i.onabort = function() {
                                                            var e = a.error ? a.error : a.transaction.error;
                                                            r(e)
                                                        }
                                                    } catch (e$48) {
                                                        r(e$48)
                                                    }
                                                })
                                            })
                                            .catch(r)
                                    });
                                    return u(r, t), r
                                },
                                clear: function clear(e) {
                                    var t = this,
                                        n = new a(function(e, n) {
                                            t.ready()
                                                .then(function() {
                                                    _(t._dbInfo, "readwrite", function(r, o) {
                                                        if (r) return n(r);
                                                        try {
                                                            var i = o.objectStore(t._dbInfo.storeName)
                                                                .clear();
                                                            o.oncomplete = function() {
                                                                e()
                                                            }, o.onabort = o.onerror = function() {
                                                                var e = i.error ? i.error : i.transaction.error;
                                                                n(e)
                                                            }
                                                        } catch (e$49) {
                                                            n(e$49)
                                                        }
                                                    })
                                                })
                                                .catch(n)
                                        });
                                    return u(n, e), n
                                },
                                length: function length(e) {
                                    var t = this,
                                        n = new a(function(e, n) {
                                            t.ready()
                                                .then(function() {
                                                    _(t._dbInfo, "readonly", function(r, o) {
                                                        if (r) return n(r);
                                                        try {
                                                            var i = o.objectStore(t._dbInfo.storeName)
                                                                .count();
                                                            i.onsuccess = function() {
                                                                e(i.result)
                                                            }, i.onerror = function() {
                                                                n(i.error)
                                                            }
                                                        } catch (e$50) {
                                                            n(e$50)
                                                        }
                                                    })
                                                })
                                                .catch(n)
                                        });
                                    return u(n, e), n
                                },
                                key: function key(e, t) {
                                    var n = this,
                                        r = new a(function(t, r) {
                                            e < 0 ? t(null) : n.ready()
                                                .then(function() {
                                                    _(n._dbInfo, "readonly", function(o, i) {
                                                        if (o) return r(o);
                                                        try {
                                                            var a = i.objectStore(n._dbInfo.storeName),
                                                                u = !1,
                                                                s = a.openCursor();
                                                            s.onsuccess = function() {
                                                                var n = s.result;
                                                                n ? 0 === e || u ? t(n.key) : (u = !0, n.advance(e)) : t(null)
                                                            }, s.onerror = function() {
                                                                r(s.error)
                                                            }
                                                        } catch (e$51) {
                                                            r(e$51)
                                                        }
                                                    })
                                                })
                                                .catch(r)
                                        });
                                    return u(r, t), r
                                },
                                keys: function keys(e) {
                                    var t = this,
                                        n = new a(function(e, n) {
                                            t.ready()
                                                .then(function() {
                                                    _(t._dbInfo, "readonly",
                                                        function(r, o) {
                                                            if (r) return n(r);
                                                            try {
                                                                var i = o.objectStore(t._dbInfo.storeName)
                                                                        .openCursor(),
                                                                    a = [];
                                                                i.onsuccess = function() {
                                                                    var t = i.result;
                                                                    t ? (a.push(t.key), t.continue()) : e(a)
                                                                }, i.onerror = function() {
                                                                    n(i.error)
                                                                }
                                                            } catch (e$52) {
                                                                n(e$52)
                                                            }
                                                        })
                                                })
                                                .catch(n)
                                        });
                                    return u(n, e), n
                                },
                                dropInstance: function dropInstance(e, t) {
                                    t = f.apply(this, arguments);
                                    var n = this.config();
                                    (e = "function" != typeof e && e || {})
                                        .name || (e.name = e.name || n.name, e.storeName = e.storeName || n.storeName);
                                    var r, i = this;
                                    if (e.name) {
                                        var s = e.name === n.name && i._dbInfo.db,
                                            c =
                                                s ? a.resolve(i._dbInfo.db) : b(e)
                                                    .then(function(t) {
                                                        var n = d[e.name],
                                                            r = n.forages;
                                                        n.db = t;
                                                        for (var o = 0; o < r.length; o++) r[o]._dbInfo.db = t;
                                                        return t
                                                    });
                                        r = e.storeName ? c.then(function(t) {
                                            if (t.objectStoreNames.contains(e.storeName)) {
                                                var n = t.version + 1;
                                                v(e);
                                                var r = d[e.name],
                                                    i = r.forages;
                                                t.close();
                                                for (var u = 0; u < i.length; u++) {
                                                    var s = i[u];
                                                    s._dbInfo.db = null, s._dbInfo.version = n
                                                }
                                                return (new a(function(t, r) {
                                                    var i = o.open(e.name, n);
                                                    i.onerror = function(e) {
                                                        i.result.close(), r(e)
                                                    }, i.onupgradeneeded = function() {
                                                        i.result.deleteObjectStore(e.storeName)
                                                    },
                                                        i.onsuccess = function() {
                                                            var e = i.result;
                                                            e.close(), t(e)
                                                        }
                                                }))
                                                    .then(function(e) {
                                                        r.db = e;
                                                        for (var t = 0; t < i.length; t++) {
                                                            var n = i[t];
                                                            n._dbInfo.db = e, m(n._dbInfo)
                                                        }
                                                    })
                                                    .catch(function(t) {
                                                        throw (g(e, t) || a.resolve())
                                                            .catch(function() {}), t;
                                                    })
                                            }
                                        }) : c.then(function(t) {
                                            v(e);
                                            var n = d[e.name],
                                                r = n.forages;
                                            t.close();
                                            for (var i = 0; i < r.length; i++) r[i]._dbInfo.db = null;
                                            return (new a(function(t, n) {
                                                var r = o.deleteDatabase(e.name);
                                                r.onerror = r.onblocked = function(e) {
                                                    var t = r.result;
                                                    t && t.close(), n(e)
                                                }, r.onsuccess = function() {
                                                    var e = r.result;
                                                    e &&
                                                    e.close(), t(e)
                                                }
                                            }))
                                                .then(function(e) {
                                                    n.db = e;
                                                    for (var t = 0; t < r.length; t++) m(r[t]._dbInfo)
                                                })
                                                .catch(function(t) {
                                                    throw (g(e, t) || a.resolve())
                                                        .catch(function() {}), t;
                                                })
                                        })
                                    } else r = a.reject("Invalid arguments");
                                    return u(r, t), r
                                }
                            },
                            I = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                            x = /^~~local_forage_type~([^~]+)~/,
                            B = "__lfsc__:".length,
                            O = B + "arbf".length,
                            N = Object.prototype.toString;

                        function R(e) {
                            var t, n, r, o, i, a = .75 * e.length,
                                u = e.length,
                                s = 0;
                            "=" === e[e.length - 1] && (a--, "=" === e[e.length - 2] && a--);
                            var c =
                                    new ArrayBuffer(a),
                                f = new Uint8Array(c);
                            for (t = 0; t < u; t += 4) n = I.indexOf(e[t]), r = I.indexOf(e[t + 1]), o = I.indexOf(e[t + 2]), i = I.indexOf(e[t + 3]), f[s++] = n << 2 | r >> 4, f[s++] = (15 & r) << 4 | o >> 2, f[s++] = (3 & o) << 6 | 63 & i;
                            return c
                        }

                        function k(e) {
                            var t, n = new Uint8Array(e),
                                r = "";
                            for (t = 0; t < n.length; t += 3) r += I[n[t] >> 2], r += I[(3 & n[t]) << 4 | n[t + 1] >> 4], r += I[(15 & n[t + 1]) << 2 | n[t + 2] >> 6], r += I[63 & n[t + 2]];
                            return n.length % 3 == 2 ? r = r.substring(0, r.length - 1) + "=" : n.length % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r
                        }
                        var D = {
                            serialize: function serialize(e,
                                                          t) {
                                var n = "";
                                if (e && (n = N.call(e)), e && ("[object ArrayBuffer]" === n || e.buffer && "[object ArrayBuffer]" === N.call(e.buffer))) {
                                    var r, o = "__lfsc__:";
                                    e instanceof ArrayBuffer ? (r = e, o += "arbf") : (r = e.buffer, "[object Int8Array]" === n ? o += "si08" : "[object Uint8Array]" === n ? o += "ui08" : "[object Uint8ClampedArray]" === n ? o += "uic8" : "[object Int16Array]" === n ? o += "si16" : "[object Uint16Array]" === n ? o += "ur16" : "[object Int32Array]" === n ? o += "si32" : "[object Uint32Array]" === n ? o += "ui32" : "[object Float32Array]" === n ? o += "fl32" : "[object Float64Array]" ===
                                    n ? o += "fl64" : t(new Error("Failed to get type for BinaryArray"))), t(o + k(r))
                                } else if ("[object Blob]" === n) {
                                    var i = new FileReader;
                                    i.onload = function() {
                                        var n = "~~local_forage_type~" + e.type + "~" + k(this.result);
                                        t("__lfsc__:blob" + n)
                                    }, i.readAsArrayBuffer(e)
                                } else try {
                                    t(JSON.stringify(e))
                                } catch (e$53) {
                                    t(null, e$53)
                                }
                            },
                            deserialize: function deserialize(e) {
                                if ("__lfsc__:" !== e.substring(0, B)) return JSON.parse(e);
                                var t, n = e.substring(O),
                                    r = e.substring(B, O);
                                if ("blob" === r && x.test(n)) {
                                    var o = n.match(x);
                                    t = o[1], n = n.substring(o[0].length)
                                }
                                var a =
                                    R(n);
                                switch (r) {
                                    case "arbf":
                                        return a;
                                    case "blob":
                                        return i([a], {
                                            type: t
                                        });
                                    case "si08":
                                        return new Int8Array(a);
                                    case "ui08":
                                        return new Uint8Array(a);
                                    case "uic8":
                                        return new Uint8ClampedArray(a);
                                    case "si16":
                                        return new Int16Array(a);
                                    case "ur16":
                                        return new Uint16Array(a);
                                    case "si32":
                                        return new Int32Array(a);
                                    case "ui32":
                                        return new Uint32Array(a);
                                    case "fl32":
                                        return new Float32Array(a);
                                    case "fl64":
                                        return new Float64Array(a);
                                    default:
                                        throw new Error("Unkown type: " + r);
                                }
                            },
                            stringToBuffer: R,
                            bufferToString: k
                        };

                        function P(e,
                                   t, n, r) {
                            e.executeSql("CREATE TABLE IF NOT EXISTS " + t.storeName + " (id INTEGER PRIMARY KEY, key unique, value)", [], n, r)
                        }

                        function M(e, t, n, r, o, i) {
                            e.executeSql(n, r, o, function(e, a) {
                                a.code === a.SYNTAX_ERR ? e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?", [t.storeName], function(e, u) {
                                    u.rows.length ? i(e, a) : P(e, t, function() {
                                        e.executeSql(n, r, o, i)
                                    }, i)
                                }, i) : i(e, a)
                            }, i)
                        }

                        function L(e, t, n, r) {
                            var o = this;
                            e = c(e);
                            var i = new a(function(i, a) {
                                o.ready()
                                    .then(function() {
                                        void 0 === t && (t = null);
                                        var u = t,
                                            s =
                                                o._dbInfo;
                                        s.serializer.serialize(t, function(t, c) {
                                            c ? a(c) : s.db.transaction(function(n) {
                                                M(n, s, "INSERT OR REPLACE INTO " + s.storeName + " (key, value) VALUES (?, ?)", [e, t], function() {
                                                    i(u)
                                                }, function(e, t) {
                                                    a(t)
                                                })
                                            }, function(t) {
                                                if (t.code === t.QUOTA_ERR) {
                                                    if (r > 0) return void i(L.apply(o, [e, u, n, r - 1]));
                                                    a(t)
                                                }
                                            })
                                        })
                                    })
                                    .catch(a)
                            });
                            return u(i, n), i
                        }

                        function j(e) {
                            return new a(function(t, n) {
                                e.transaction(function(r) {
                                    r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'", [],
                                        function(n, r) {
                                            for (var o = [], i = 0; i < r.rows.length; i++) o.push(r.rows.item(i)
                                                .name);
                                            t({
                                                db: e,
                                                storeNames: o
                                            })
                                        },
                                        function(e, t) {
                                            n(t)
                                        })
                                }, function(e) {
                                    n(e)
                                })
                            })
                        }
                        var F = {
                            _driver: "webSQLStorage",
                            _initStorage: function _initStorage(e) {
                                var t = this,
                                    n = {
                                        db: null
                                    };
                                if (e)
                                    for (var r in e) n[r] = "string" != typeof e[r] ? e[r].toString() : e[r];
                                var o = new a(function(e, r) {
                                    try {
                                        n.db = openDatabase(n.name, String(n.version), n.description, n.size)
                                    } catch (e$54) {
                                        return r(e$54)
                                    }
                                    n.db.transaction(function(o) {
                                        P(o, n, function() {
                                            t._dbInfo = n, e()
                                        }, function(e,
                                                    t) {
                                            r(t)
                                        })
                                    }, r)
                                });
                                return n.serializer = D, o
                            },
                            _support: "function" == typeof openDatabase,
                            iterate: function iterate(e, t) {
                                var n = this,
                                    r = new a(function(t, r) {
                                        n.ready()
                                            .then(function() {
                                                var o = n._dbInfo;
                                                o.db.transaction(function(n) {
                                                    M(n, o, "SELECT * FROM " + o.storeName, [], function(n, r) {
                                                        for (var i = r.rows, a = i.length, u = 0; u < a; u++) {
                                                            var s = i.item(u),
                                                                c = s.value;
                                                            if (c && (c = o.serializer.deserialize(c)), void 0 !== (c = e(c, s.key, u + 1))) return void t(c)
                                                        }
                                                        t()
                                                    }, function(e, t) {
                                                        r(t)
                                                    })
                                                })
                                            })
                                            .catch(r)
                                    });
                                return u(r, t), r
                            },
                            getItem: function getItem(e,
                                                      t) {
                                var n = this;
                                e = c(e);
                                var r = new a(function(t, r) {
                                    n.ready()
                                        .then(function() {
                                            var o = n._dbInfo;
                                            o.db.transaction(function(n) {
                                                M(n, o, "SELECT * FROM " + o.storeName + " WHERE key = ? LIMIT 1", [e], function(e, n) {
                                                    var r = n.rows.length ? n.rows.item(0)
                                                        .value : null;
                                                    r && (r = o.serializer.deserialize(r)), t(r)
                                                }, function(e, t) {
                                                    r(t)
                                                })
                                            })
                                        })
                                        .catch(r)
                                });
                                return u(r, t), r
                            },
                            setItem: function setItem(e, t, n) {
                                return L.apply(this, [e, t, n, 1])
                            },
                            removeItem: function removeItem(e, t) {
                                var n = this;
                                e = c(e);
                                var r = new a(function(t, r) {
                                    n.ready()
                                        .then(function() {
                                            var o =
                                                n._dbInfo;
                                            o.db.transaction(function(n) {
                                                M(n, o, "DELETE FROM " + o.storeName + " WHERE key = ?", [e], function() {
                                                    t()
                                                }, function(e, t) {
                                                    r(t)
                                                })
                                            })
                                        })
                                        .catch(r)
                                });
                                return u(r, t), r
                            },
                            clear: function clear(e) {
                                var t = this,
                                    n = new a(function(e, n) {
                                        t.ready()
                                            .then(function() {
                                                var r = t._dbInfo;
                                                r.db.transaction(function(t) {
                                                    M(t, r, "DELETE FROM " + r.storeName, [], function() {
                                                        e()
                                                    }, function(e, t) {
                                                        n(t)
                                                    })
                                                })
                                            })
                                            .catch(n)
                                    });
                                return u(n, e), n
                            },
                            length: function length(e) {
                                var t = this,
                                    n = new a(function(e, n) {
                                        t.ready()
                                            .then(function() {
                                                var r = t._dbInfo;
                                                r.db.transaction(function(t) {
                                                    M(t,
                                                        r, "SELECT COUNT(key) as c FROM " + r.storeName, [],
                                                        function(t, n) {
                                                            var r = n.rows.item(0)
                                                                .c;
                                                            e(r)
                                                        },
                                                        function(e, t) {
                                                            n(t)
                                                        })
                                                })
                                            })
                                            .catch(n)
                                    });
                                return u(n, e), n
                            },
                            key: function key(e, t) {
                                var n = this,
                                    r = new a(function(t, r) {
                                        n.ready()
                                            .then(function() {
                                                var o = n._dbInfo;
                                                o.db.transaction(function(n) {
                                                    M(n, o, "SELECT key FROM " + o.storeName + " WHERE id = ? LIMIT 1", [e + 1], function(e, n) {
                                                        var r = n.rows.length ? n.rows.item(0)
                                                            .key : null;
                                                        t(r)
                                                    }, function(e, t) {
                                                        r(t)
                                                    })
                                                })
                                            })
                                            .catch(r)
                                    });
                                return u(r, t), r
                            },
                            keys: function keys(e) {
                                var t = this,
                                    n = new a(function(e,
                                                       n) {
                                        t.ready()
                                            .then(function() {
                                                var r = t._dbInfo;
                                                r.db.transaction(function(t) {
                                                    M(t, r, "SELECT key FROM " + r.storeName, [], function(t, n) {
                                                        for (var r = [], o = 0; o < n.rows.length; o++) r.push(n.rows.item(o)
                                                            .key);
                                                        e(r)
                                                    }, function(e, t) {
                                                        n(t)
                                                    })
                                                })
                                            })
                                            .catch(n)
                                    });
                                return u(n, e), n
                            },
                            dropInstance: function dropInstance(e, t) {
                                t = f.apply(this, arguments);
                                var n = this.config();
                                (e = "function" != typeof e && e || {})
                                    .name || (e.name = e.name || n.name, e.storeName = e.storeName || n.storeName);
                                var r, o = this;
                                return u(r = e.name ? (new a(function(t) {
                                    var r;
                                    r = e.name ===
                                    n.name ? o._dbInfo.db : openDatabase(e.name, "", "", 0), e.storeName ? t({
                                        db: r,
                                        storeNames: [e.storeName]
                                    }) : t(j(r))
                                }))
                                    .then(function(e) {
                                        return new a(function(t, n) {
                                            e.db.transaction(function(r) {
                                                function o(e) {
                                                    return new a(function(t, n) {
                                                        r.executeSql("DROP TABLE IF EXISTS " + e, [], function() {
                                                            t()
                                                        }, function(e, t) {
                                                            n(t)
                                                        })
                                                    })
                                                }
                                                for (var i = [], u = 0, s = e.storeNames.length; u < s; u++) i.push(o(e.storeNames[u]));
                                                a.all(i)
                                                    .then(function() {
                                                        t()
                                                    })
                                                    .catch(function(e) {
                                                        n(e)
                                                    })
                                            }, function(e) {
                                                n(e)
                                            })
                                        })
                                    }) : a.reject("Invalid arguments"), t), r
                            }
                        };

                        function U(e,
                                   t) {
                            var n = e.name + "/";
                            return e.storeName !== t.storeName && (n += e.storeName + "/"), n
                        }

                        function G() {
                            return ! function() {
                                try {
                                    return localStorage.setItem("_localforage_support_test", !0), localStorage.removeItem("_localforage_support_test"), !1
                                } catch (e$55) {
                                    return !0
                                }
                            }() || localStorage.length > 0
                        }
                        var V = {
                                _driver: "localStorageWrapper",
                                _initStorage: function _initStorage(e) {
                                    var t = {};
                                    if (e)
                                        for (var n in e) t[n] = e[n];
                                    return t.keyPrefix = U(e, this._defaultConfig), G() ? (this._dbInfo = t, t.serializer = D, a.resolve()) : a.reject()
                                },
                                _support: function() {
                                    try {
                                        return "undefined" !=
                                            typeof localStorage && "setItem" in localStorage && !!localStorage.setItem
                                    } catch (e$56) {
                                        return !1
                                    }
                                }(),
                                iterate: function iterate(e, t) {
                                    var n = this,
                                        r = n.ready()
                                            .then(function() {
                                                for (var t = n._dbInfo, r = t.keyPrefix, o = r.length, i = localStorage.length, a = 1, u = 0; u < i; u++) {
                                                    var s = localStorage.key(u);
                                                    if (0 === s.indexOf(r)) {
                                                        var c = localStorage.getItem(s);
                                                        if (c && (c = t.serializer.deserialize(c)), void 0 !== (c = e(c, s.substring(o), a++))) return c
                                                    }
                                                }
                                            });
                                    return u(r, t), r
                                },
                                getItem: function getItem(e, t) {
                                    var n = this;
                                    e = c(e);
                                    var r = n.ready()
                                        .then(function() {
                                            var t =
                                                    n._dbInfo,
                                                r = localStorage.getItem(t.keyPrefix + e);
                                            return r && (r = t.serializer.deserialize(r)), r
                                        });
                                    return u(r, t), r
                                },
                                setItem: function setItem(e, t, n) {
                                    var r = this;
                                    e = c(e);
                                    var o = r.ready()
                                        .then(function() {
                                            void 0 === t && (t = null);
                                            var n = t;
                                            return new a(function(o, i) {
                                                var a = r._dbInfo;
                                                a.serializer.serialize(t, function(t, r) {
                                                    if (r) i(r);
                                                    else try {
                                                        localStorage.setItem(a.keyPrefix + e, t), o(n)
                                                    } catch (e$57) {
                                                        "QuotaExceededError" !== e$57.name && "NS_ERROR_DOM_QUOTA_REACHED" !== e$57.name || i(e$57), i(e$57)
                                                    }
                                                })
                                            })
                                        });
                                    return u(o, n), o
                                },
                                removeItem: function removeItem(e,
                                                                t) {
                                    var n = this;
                                    e = c(e);
                                    var r = n.ready()
                                        .then(function() {
                                            var t = n._dbInfo;
                                            localStorage.removeItem(t.keyPrefix + e)
                                        });
                                    return u(r, t), r
                                },
                                clear: function clear(e) {
                                    var t = this,
                                        n = t.ready()
                                            .then(function() {
                                                for (var e = t._dbInfo.keyPrefix, n = localStorage.length - 1; n >= 0; n--) {
                                                    var r = localStorage.key(n);
                                                    0 === r.indexOf(e) && localStorage.removeItem(r)
                                                }
                                            });
                                    return u(n, e), n
                                },
                                length: function length(e) {
                                    var t = this.keys()
                                        .then(function(e) {
                                            return e.length
                                        });
                                    return u(t, e), t
                                },
                                key: function key(e, t) {
                                    var n = this,
                                        r = n.ready()
                                            .then(function() {
                                                var t,
                                                    r = n._dbInfo;
                                                try {
                                                    t = localStorage.key(e)
                                                } catch (e$58) {
                                                    t = null
                                                }
                                                return t && (t = t.substring(r.keyPrefix.length)), t
                                            });
                                    return u(r, t), r
                                },
                                keys: function keys(e) {
                                    var t = this,
                                        n = t.ready()
                                            .then(function() {
                                                for (var e = t._dbInfo, n = localStorage.length, r = [], o = 0; o < n; o++) {
                                                    var i = localStorage.key(o);
                                                    0 === i.indexOf(e.keyPrefix) && r.push(i.substring(e.keyPrefix.length))
                                                }
                                                return r
                                            });
                                    return u(n, e), n
                                },
                                dropInstance: function dropInstance(e, t) {
                                    if (t = f.apply(this, arguments), !(e = "function" != typeof e && e || {})
                                        .name) {
                                        var n = this.config();
                                        e.name =
                                            e.name || n.name, e.storeName = e.storeName || n.storeName
                                    }
                                    var r, o = this;
                                    return u(r = e.name ? (new a(function(t) {
                                        e.storeName ? t(U(e, o._defaultConfig)) : t(e.name + "/")
                                    }))
                                        .then(function(e) {
                                            for (var t = localStorage.length - 1; t >= 0; t--) {
                                                var n = localStorage.key(t);
                                                0 === n.indexOf(e) && localStorage.removeItem(n)
                                            }
                                        }) : a.reject("Invalid arguments"), t), r
                                }
                            },
                            H = function H(e, t) {
                                for (var n, r, o = e.length, i = 0; i < o;) {
                                    if ((n = e[i]) === (r = t) || "number" == typeof n && "number" == typeof r && isNaN(n) && isNaN(r)) return !0;
                                    i++
                                }
                                return !1
                            },
                            z = Array.isArray || function(e) {
                                return "[object Array]" ===
                                    Object.prototype.toString.call(e)
                            },
                            W = {},
                            X = {},
                            q = {
                                INDEXEDDB: C,
                                WEBSQL: F,
                                LOCALSTORAGE: V
                            },
                            K = [q.INDEXEDDB._driver, q.WEBSQL._driver, q.LOCALSTORAGE._driver],
                            J = ["dropInstance"],
                            Q = ["clear", "getItem", "iterate", "key", "keys", "length", "removeItem", "setItem"].concat(J),
                            Z = {
                                description: "",
                                driver: K.slice(),
                                name: "localforage",
                                size: 4980736,
                                storeName: "keyvaluepairs",
                                version: 1
                            };

                        function Y(e, t) {
                            e[t] = function() {
                                var n = arguments;
                                return e.ready()
                                    .then(function() {
                                        return e[t].apply(e, n)
                                    })
                            }
                        }

                        function $() {
                            for (var e = 1; e < arguments.length; e++) {
                                var t =
                                    arguments[e];
                                if (t)
                                    for (var n in t) t.hasOwnProperty(n) && (z(t[n]) ? arguments[0][n] = t[n].slice() : arguments[0][n] = t[n])
                            }
                            return arguments[0]
                        }
                        var ee = new(function() {
                            function e(t) {
                                for (var n in function(e, t) {
                                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                                }(this, e), q)
                                    if (q.hasOwnProperty(n)) {
                                        var r = q[n],
                                            o = r._driver;
                                        this[n] = o, W[o] || this.defineDriver(r)
                                    } this._defaultConfig = $({}, Z), this._config = $({}, this._defaultConfig, t), this._driverSet = null, this._initDriver = null, this._ready = !1, this._dbInfo =
                                    null, this._wrapLibraryMethodsWithReady(), this.setDriver(this._config.driver)
                                    .catch(function() {})
                            }
                            return e.prototype.config = function(e) {
                                if ("object" === (void 0 === e ? "undefined" : r(e))) {
                                    if (this._ready) return new Error("Can't call config() after localforage has been used.");
                                    for (var t in e) {
                                        if ("storeName" === t && (e[t] = e[t].replace(/\W/g, "_")), "version" === t && "number" != typeof e[t]) return new Error("Database version must be a number.");
                                        this._config[t] = e[t]
                                    }
                                    return !("driver" in e) || !e.driver || this.setDriver(this._config.driver)
                                }
                                return "string" ==
                                typeof e ? this._config[e] : this._config
                            }, e.prototype.defineDriver = function(e, t, n) {
                                var r = new a(function(t, n) {
                                    try {
                                        var r = e._driver,
                                            o = new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");
                                        if (!e._driver) return void n(o);
                                        for (var i = Q.concat("_initStorage"), s = 0, c = i.length; s < c; s++) {
                                            var f = i[s];
                                            if ((!H(J, f) || e[f]) && "function" != typeof e[f]) return void n(o)
                                        }! function() {
                                            for (var t = function t(e) {
                                                return function() {
                                                    var t = new Error("Method " + e + " is not implemented by the current driver"),
                                                        n = a.reject(t);
                                                    return u(n, arguments[arguments.length - 1]), n
                                                }
                                            }, n = 0, r = J.length; n < r; n++) {
                                                var o = J[n];
                                                e[o] || (e[o] = t(o))
                                            }
                                        }();
                                        var l = function l(n) {
                                            W[r], W[r] = e, X[r] = n, t()
                                        };
                                        "_support" in e ? e._support && "function" == typeof e._support ? e._support()
                                            .then(l, n) : l(!!e._support) : l(!0)
                                    } catch (e$59) {
                                        n(e$59)
                                    }
                                });
                                return s(r, t, n), r
                            }, e.prototype.driver = function() {
                                return this._driver || null
                            }, e.prototype.getDriver = function(e, t, n) {
                                var r = W[e] ? a.resolve(W[e]) : a.reject(new Error("Driver not found."));
                                return s(r, t, n), r
                            }, e.prototype.getSerializer =
                                function(e) {
                                    var t = a.resolve(D);
                                    return s(t, e), t
                                }, e.prototype.ready = function(e) {
                                var t = this,
                                    n = t._driverSet.then(function() {
                                        return null === t._ready && (t._ready = t._initDriver()), t._ready
                                    });
                                return s(n, e, e), n
                            }, e.prototype.setDriver = function(e, t, n) {
                                var r = this;
                                z(e) || (e = [e]);
                                var o = this._getSupportedDrivers(e);

                                function i() {
                                    r._config.driver = r.driver()
                                }

                                function u(e) {
                                    return r._extend(e), i(), r._ready = r._initStorage(r._config), r._ready
                                }
                                var c = null !== this._driverSet ? this._driverSet.catch(function() {
                                        return a.resolve()
                                    }) :
                                    a.resolve();
                                return this._driverSet = c.then(function() {
                                    var e = o[0];
                                    return r._dbInfo = null, r._ready = null, r.getDriver(e)
                                        .then(function(e) {
                                            r._driver = e._driver, i(), r._wrapLibraryMethodsWithReady(), r._initDriver = function(e) {
                                                return function() {
                                                    var t = 0;
                                                    return function n() {
                                                        for (; t < e.length;) {
                                                            var o = e[t];
                                                            return t++, r._dbInfo = null, r._ready = null, r.getDriver(o)
                                                                .then(u)
                                                                .catch(n)
                                                        }
                                                        i();
                                                        var s = new Error("No available storage method found.");
                                                        return r._driverSet = a.reject(s), r._driverSet
                                                    }()
                                                }
                                            }(o)
                                        })
                                })
                                    .catch(function() {
                                        i();
                                        var e =
                                            new Error("No available storage method found.");
                                        return r._driverSet = a.reject(e), r._driverSet
                                    }), s(this._driverSet, t, n), this._driverSet
                            }, e.prototype.supports = function(e) {
                                return !!X[e]
                            }, e.prototype._extend = function(e) {
                                $(this, e)
                            }, e.prototype._getSupportedDrivers = function(e) {
                                for (var t = [], n = 0, r = e.length; n < r; n++) {
                                    var o = e[n];
                                    this.supports(o) && t.push(o)
                                }
                                return t
                            }, e.prototype._wrapLibraryMethodsWithReady = function() {
                                for (var e = 0, t = Q.length; e < t; e++) Y(this, Q[e])
                            }, e.prototype.createInstance = function(t) {
                                return new e(t)
                            },
                                e
                        }());
                        t.exports = ee
                    }, {
                        3: 3
                    }]
                }, {}, [4])(4)
            })
                .call(this, n(30))
        }, function(e, t, n) {
            var r, o;
            ! function(i, a, u) {
                "undefined" != typeof window && n(29) ? void 0 === (o = "function" == typeof(r = u) ? r.call(t, n, t, e) : r) || (e.exports = o) : e.exports ? e.exports = u() : a.exports ? a.exports = u() : a.Fingerprint2 = u()
            }(0, this, function() {
                var e = function e(_e, t) {
                        _e = [_e[0] >>> 16, 65535 & _e[0], _e[1] >>> 16, 65535 & _e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                        var n = [0, 0, 0, 0];
                        return n[3] += _e[3] + t[3], n[2] += n[3] >>> 16, n[3] &= 65535, n[2] += _e[2] + t[2], n[1] +=
                            n[2] >>> 16, n[2] &= 65535, n[1] += _e[1] + t[1], n[0] += n[1] >>> 16, n[1] &= 65535, n[0] += _e[0] + t[0], n[0] &= 65535, [n[0] << 16 | n[1], n[2] << 16 | n[3]]
                    },
                    t = function t(e, _t) {
                        e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], _t = [_t[0] >>> 16, 65535 & _t[0], _t[1] >>> 16, 65535 & _t[1]];
                        var n = [0, 0, 0, 0];
                        return n[3] += e[3] * _t[3], n[2] += n[3] >>> 16, n[3] &= 65535, n[2] += e[2] * _t[3], n[1] += n[2] >>> 16, n[2] &= 65535, n[2] += e[3] * _t[2], n[1] += n[2] >>> 16, n[2] &= 65535, n[1] += e[1] * _t[3], n[0] += n[1] >>> 16, n[1] &= 65535, n[1] += e[2] * _t[2], n[0] += n[1] >>> 16, n[1] &= 65535, n[1] += e[3] *
                            _t[1], n[0] += n[1] >>> 16, n[1] &= 65535, n[0] += e[0] * _t[3] + e[1] * _t[2] + e[2] * _t[1] + e[3] * _t[0], n[0] &= 65535, [n[0] << 16 | n[1], n[2] << 16 | n[3]]
                    },
                    n = function n(e, t) {
                        return 32 === (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32, [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
                    },
                    r = function r(e, t) {
                        return 0 === (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
                    },
                    o = function o(e, t) {
                        return [e[0] ^ t[0], e[1] ^ t[1]]
                    },
                    i = function i(e) {
                        return e = o(e, [0, e[0] >>> 1]), e = t(e, [4283543511, 3981806797]), e = o(e, [0, e[0] >>>
                        1
                        ]), e = t(e, [3301882366, 444984403]), e = o(e, [0, e[0] >>> 1])
                    },
                    a = function a(_a, u) {
                        u = u || 0;
                        for (var s = (_a = _a || "")
                            .length % 16, c = _a.length - s, f = [0, u], l = [0, u], d = [0, 0], h = [0, 0], p = [2277735313, 289559509], v = [1291169091, 658871167], m = 0; m < c; m += 16) d = [255 & _a.charCodeAt(m + 4) | (255 & _a.charCodeAt(m + 5)) << 8 | (255 & _a.charCodeAt(m + 6)) << 16 | (255 & _a.charCodeAt(m + 7)) << 24, 255 & _a.charCodeAt(m) | (255 & _a.charCodeAt(m + 1)) << 8 | (255 & _a.charCodeAt(m + 2)) << 16 | (255 & _a.charCodeAt(m + 3)) << 24], h = [255 & _a.charCodeAt(m + 12) | (255 & _a.charCodeAt(m + 13)) << 8 | (255 &
                            _a.charCodeAt(m + 14)) << 16 | (255 & _a.charCodeAt(m + 15)) << 24, 255 & _a.charCodeAt(m + 8) | (255 & _a.charCodeAt(m + 9)) << 8 | (255 & _a.charCodeAt(m + 10)) << 16 | (255 & _a.charCodeAt(m + 11)) << 24], d = t(d, p), d = n(d, 31), d = t(d, v), f = o(f, d), f = n(f, 27), f = e(f, l), f = e(t(f, [0, 5]), [0, 1390208809]), h = t(h, v), h = n(h, 33), h = t(h, p), l = o(l, h), l = n(l, 31), l = e(l, f), l = e(t(l, [0, 5]), [0, 944331445]);
                        switch (d = [0, 0], h = [0, 0], s) {
                            case 15:
                                h = o(h, r([0, _a.charCodeAt(m + 14)], 48));
                            case 14:
                                h = o(h, r([0, _a.charCodeAt(m + 13)], 40));
                            case 13:
                                h = o(h, r([0, _a.charCodeAt(m + 12)], 32));
                            case 12:
                                h = o(h, r([0, _a.charCodeAt(m + 11)], 24));
                            case 11:
                                h = o(h, r([0, _a.charCodeAt(m + 10)], 16));
                            case 10:
                                h = o(h, r([0, _a.charCodeAt(m + 9)], 8));
                            case 9:
                                h = o(h, [0, _a.charCodeAt(m + 8)]), h = t(h, v), h = n(h, 33), h = t(h, p), l = o(l, h);
                            case 8:
                                d = o(d, r([0, _a.charCodeAt(m + 7)], 56));
                            case 7:
                                d = o(d, r([0, _a.charCodeAt(m + 6)], 48));
                            case 6:
                                d = o(d, r([0, _a.charCodeAt(m + 5)], 40));
                            case 5:
                                d = o(d, r([0, _a.charCodeAt(m + 4)], 32));
                            case 4:
                                d = o(d, r([0, _a.charCodeAt(m + 3)], 24));
                            case 3:
                                d = o(d, r([0, _a.charCodeAt(m + 2)], 16));
                            case 2:
                                d = o(d, r([0, _a.charCodeAt(m + 1)],
                                    8));
                            case 1:
                                d = o(d, [0, _a.charCodeAt(m)]), d = t(d, p), d = n(d, 31), d = t(d, v), f = o(f, d)
                        }
                        return f = o(f, [0, _a.length]), l = o(l, [0, _a.length]), f = e(f, l), l = e(l, f), f = i(f), l = i(l), f = e(f, l), l = e(l, f), ("00000000" + (f[0] >>> 0)
                            .toString(16))
                            .slice(-8) + ("00000000" + (f[1] >>> 0)
                            .toString(16))
                            .slice(-8) + ("00000000" + (l[0] >>> 0)
                            .toString(16))
                            .slice(-8) + ("00000000" + (l[1] >>> 0)
                            .toString(16))
                            .slice(-8)
                    },
                    u = {
                        preprocessor: null,
                        audio: {
                            timeout: 1E3,
                            excludeIOS11: !0
                        },
                        fonts: {
                            swfContainerId: "fingerprintjs2",
                            swfPath: "flash/compiled/FontList.swf",
                            userDefinedFonts: [],
                            extendedJsFonts: !1
                        },
                        screen: {
                            detectScreenOrientation: !0
                        },
                        plugins: {
                            sortPluginsFor: [/palemoon/i],
                            excludeIE: !1
                        },
                        extraComponents: [],
                        excludes: {
                            enumerateDevices: !0,
                            pixelRatio: !0,
                            doNotTrack: !0,
                            fontsFlash: !0
                        },
                        NOT_AVAILABLE: "not available",
                        ERROR: "error",
                        EXCLUDED: "excluded"
                    },
                    s = function s(e, t) {
                        if (Array.prototype.forEach && e.forEach === Array.prototype.forEach) e.forEach(t);
                        else if (e.length === +e.length)
                            for (var n = 0, r = e.length; n < r; n++) t(e[n], n, e);
                        else
                            for (var o in e) e.hasOwnProperty(o) && t(e[o], o, e)
                    },
                    c = function c(e,
                                   t) {
                        var n = [];
                        return null == e ? n : Array.prototype.map && e.map === Array.prototype.map ? e.map(t) : (s(e, function(e, r, o) {
                            n.push(t(e, r, o))
                        }), n)
                    },
                    f = function f() {
                        return navigator.mediaDevices && navigator.mediaDevices.enumerateDevices
                    },
                    l = function l(e) {
                        var t = [window.screen.width, window.screen.height];
                        return e.screen.detectScreenOrientation && t.sort()
                            .reverse(), t
                    },
                    d = function d(e) {
                        if (window.screen.availWidth && window.screen.availHeight) {
                            var t = [window.screen.availHeight, window.screen.availWidth];
                            return e.screen.detectScreenOrientation &&
                            t.sort()
                                .reverse(), t
                        }
                        return e.NOT_AVAILABLE
                    },
                    h = function h(e) {
                        if (null == navigator.plugins) return e.NOT_AVAILABLE;
                        for (var t = [], n = 0, r = navigator.plugins.length; n < r; n++) navigator.plugins[n] && t.push(navigator.plugins[n]);
                        return v(e) && (t = t.sort(function(e, t) {
                            return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                        })), c(t, function(e) {
                            var t = c(e, function(e) {
                                return [e.type, e.suffixes]
                            });
                            return [e.name, e.description, t]
                        })
                    },
                    p = function p(e) {
                        var t = [];
                        if (Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") ||
                            "ActiveXObject" in window) t = c(["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl",
                            "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"
                        ], function(t) {
                            try {
                                return new window.ActiveXObject(t), t
                            } catch (t$60) {
                                return e.ERROR
                            }
                        });
                        else t.push(e.NOT_AVAILABLE);
                        return navigator.plugins && (t = t.concat(h(e))), t
                    },
                    v = function v(e) {
                        for (var t = !1, n = 0, r = e.plugins.sortPluginsFor.length; n < r; n++) {
                            var o = e.plugins.sortPluginsFor[n];
                            if (navigator.userAgent.match(o)) {
                                t = !0;
                                break
                            }
                        }
                        return t
                    },
                    m = function m(e) {
                        try {
                            return !!window.sessionStorage
                        } catch (t$61) {
                            return e.ERROR
                        }
                    },
                    g = function g(e) {
                        try {
                            return !!window.localStorage
                        } catch (t$62) {
                            return e.ERROR
                        }
                    },
                    y = function y(e) {
                        try {
                            return !!window.indexedDB
                        } catch (t$63) {
                            return e.ERROR
                        }
                    },
                    b = function b(e) {
                        return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : e.NOT_AVAILABLE
                    },
                    w = function w(e) {
                        return navigator.cpuClass || e.NOT_AVAILABLE
                    },
                    S = function S(e) {
                        return navigator.platform ? navigator.platform : e.NOT_AVAILABLE
                    },
                    T = function T(e) {
                        return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : e.NOT_AVAILABLE
                    },
                    E = function E() {
                        var e, t = 0;
                        void 0 !== navigator.maxTouchPoints ? t = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (t = navigator.msMaxTouchPoints);
                        try {
                            document.createEvent("TouchEvent"), e = !0
                        } catch (t$64) {
                            e = !1
                        }
                        return [t, e, "ontouchstart" in window]
                    },
                    A = function A(e) {
                        var t = [],
                            n = document.createElement("canvas");
                        n.width = 2E3, n.height = 200, n.style.display = "inline";
                        var r = n.getContext("2d");
                        return r.rect(0, 0, 10, 10), r.rect(2, 2, 6, 6), t.push("canvas winding:" + (!1 === r.isPointInPath(5, 5, "evenodd") ? "yes" : "no")), r.textBaseline = "alphabetic",
                            r.fillStyle = "#f60", r.fillRect(125, 1, 62, 20), r.fillStyle = "#069", e.dontUseFakeFontInCanvas ? r.font = "11pt Arial" : r.font = "11pt no-real-font-123", r.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03", 2, 15), r.fillStyle = "rgba(102, 204, 0, 0.2)", r.font = "18pt Arial", r.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03", 4, 45), r.globalCompositeOperation = "multiply", r.fillStyle = "rgb(255,0,255)", r.beginPath(), r.arc(50, 50, 50, 0, 2 * Math.PI, !0), r.closePath(), r.fill(), r.fillStyle = "rgb(0,255,255)", r.beginPath(),
                            r.arc(100, 50, 50, 0, 2 * Math.PI, !0), r.closePath(), r.fill(), r.fillStyle = "rgb(255,255,0)", r.beginPath(), r.arc(75, 100, 50, 0, 2 * Math.PI, !0), r.closePath(), r.fill(), r.fillStyle = "rgb(255,0,255)", r.arc(75, 75, 75, 0, 2 * Math.PI, !0), r.arc(75, 75, 25, 0, 2 * Math.PI, !0), r.fill("evenodd"), n.toDataURL && t.push("canvas fp:" + n.toDataURL()), t
                    },
                    _ = function _() {
                        var e, t = function t(_t2) {
                            return e.clearColor(0, 0, 0, 1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), "[" + _t2[0] + ", " + _t2[1] + "]"
                        };
                        if (!(e = j())) return null;
                        var n = [],
                            r = e.createBuffer();
                        e.bindBuffer(e.ARRAY_BUFFER, r);
                        var o = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                        e.bufferData(e.ARRAY_BUFFER, o, e.STATIC_DRAW), r.itemSize = 3, r.numItems = 3;
                        var i = e.createProgram(),
                            a = e.createShader(e.VERTEX_SHADER);
                        e.shaderSource(a, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"), e.compileShader(a);
                        var u = e.createShader(e.FRAGMENT_SHADER);
                        e.shaderSource(u, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"), e.compileShader(u), e.attachShader(i, a), e.attachShader(i, u), e.linkProgram(i), e.useProgram(i), i.vertexPosAttrib = e.getAttribLocation(i, "attrVertex"), i.offsetUniform = e.getUniformLocation(i, "uniformOffset"), e.enableVertexAttribArray(i.vertexPosArray), e.vertexAttribPointer(i.vertexPosAttrib, r.itemSize, e.FLOAT, !1, 0, 0), e.uniform2f(i.offsetUniform, 1, 1), e.drawArrays(e.TRIANGLE_STRIP,
                            0, r.numItems);
                        try {
                            n.push(e.canvas.toDataURL())
                        } catch (e$65) {}
                        n.push("extensions:" + (e.getSupportedExtensions() || [])
                            .join(";")), n.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))), n.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))), n.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)), n.push("webgl antialiasing:" + (e.getContextAttributes()
                            .antialias ? "yes" : "no")), n.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)), n.push("webgl depth bits:" +
                            e.getParameter(e.DEPTH_BITS)), n.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)), n.push("webgl max anisotropy:" + function(e) {
                            var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                            if (t) {
                                var n = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                                return 0 === n && (n = 2), n
                            }
                            return null
                        }(e)), n.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)), n.push("webgl max cube map texture size:" +
                            e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)), n.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)), n.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)), n.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), n.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)), n.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)), n.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)),
                            n.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)), n.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)), n.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))), n.push("webgl red bits:" + e.getParameter(e.RED_BITS)), n.push("webgl renderer:" + e.getParameter(e.RENDERER)), n.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)), n.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)),
                            n.push("webgl vendor:" + e.getParameter(e.VENDOR)), n.push("webgl version:" + e.getParameter(e.VERSION));
                        try {
                            var c = e.getExtension("WEBGL_debug_renderer_info");
                            c && (n.push("webgl unmasked vendor:" + e.getParameter(c.UNMASKED_VENDOR_WEBGL)), n.push("webgl unmasked renderer:" + e.getParameter(c.UNMASKED_RENDERER_WEBGL)))
                        } catch (e$66) {}
                        return e.getShaderPrecisionFormat ? (s(["FLOAT", "INT"], function(t) {
                            s(["VERTEX", "FRAGMENT"], function(r) {
                                s(["HIGH", "MEDIUM", "LOW"], function(o) {
                                    s(["precision", "rangeMin", "rangeMax"], function(i) {
                                        var a =
                                            e.getShaderPrecisionFormat(e[r + "_SHADER"], e[o + "_" + t])[i];
                                        "precision" !== i && (i = "precision " + i);
                                        var u = ["webgl ", r.toLowerCase(), " shader ", o.toLowerCase(), " ", t.toLowerCase(), " ", i, ":", a].join("");
                                        n.push(u)
                                    })
                                })
                            })
                        }), n) : n
                    },
                    C = function C() {
                        try {
                            var e = j(),
                                t = e.getExtension("WEBGL_debug_renderer_info");
                            return e.getParameter(t.UNMASKED_VENDOR_WEBGL) + "~" + e.getParameter(t.UNMASKED_RENDERER_WEBGL)
                        } catch (e$67) {
                            return null
                        }
                    },
                    I = function I() {
                        var e = document.createElement("div");
                        e.innerHTML = "&nbsp;", e.className = "adsbox";
                        var t = !1;
                        try {
                            document.body.appendChild(e), t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight, document.body.removeChild(e)
                        } catch (e$68) {
                            t = !1
                        }
                        return t
                    },
                    x = function x() {
                        if (void 0 !== navigator.languages) try {
                            if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2)) return !0
                        } catch (e$69) {
                            return !0
                        }
                        return !1
                    },
                    B = function B() {
                        return window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight
                    },
                    O = function O() {
                        var e, t = navigator.userAgent.toLowerCase(),
                            n = navigator.oscpu,
                            r = navigator.platform.toLowerCase();
                        if (e = t.indexOf("windows phone") >= 0 ? "Windows Phone" : t.indexOf("win") >= 0 ? "Windows" : t.indexOf("android") >= 0 ? "Android" : t.indexOf("linux") >= 0 || t.indexOf("cros") >= 0 ? "Linux" : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 ? "iOS" : t.indexOf("mac") >= 0 ? "Mac" : "Other", ("ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e) return !0;
                        if (void 0 !== n) {
                            if ((n = n.toLowerCase())
                                    .indexOf("win") >= 0 && "Windows" !==
                                e && "Windows Phone" !== e) return !0;
                            if (n.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e) return !0;
                            if (n.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e) return !0;
                            if ((-1 === n.indexOf("win") && -1 === n.indexOf("linux") && -1 === n.indexOf("mac")) != ("Other" === e)) return !0
                        }
                        return r.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e || (r.indexOf("linux") >= 0 || r.indexOf("android") >= 0 || r.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e || (r.indexOf("mac") >= 0 || r.indexOf("ipad") >= 0 || r.indexOf("ipod") >= 0 || r.indexOf("iphone") >= 0) &&
                            "Mac" !== e && "iOS" !== e || (r.indexOf("win") < 0 && r.indexOf("linux") < 0 && r.indexOf("mac") < 0 && r.indexOf("iphone") < 0 && r.indexOf("ipad") < 0) !== ("Other" === e) || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e
                    },
                    N = function N() {
                        var e, t = navigator.userAgent.toLowerCase(),
                            n = navigator.productSub;
                        if (("Chrome" === (e = t.indexOf("firefox") >= 0 ? "Firefox" : t.indexOf("opera") >= 0 || t.indexOf("opr") >= 0 ? "Opera" : t.indexOf("chrome") >= 0 ? "Chrome" : t.indexOf("safari") >= 0 ? "Safari" : t.indexOf("trident") >= 0 ? "Internet Explorer" :
                            "Other") || "Safari" === e || "Opera" === e) && "20030107" !== n) return !0;
                        var r, o = eval.toString()
                            .length;
                        if (37 === o && "Safari" !== e && "Firefox" !== e && "Other" !== e) return !0;
                        if (39 === o && "Internet Explorer" !== e && "Other" !== e) return !0;
                        if (33 === o && "Chrome" !== e && "Opera" !== e && "Other" !== e) return !0;
                        try {
                            throw "a";
                        } catch (e$71) {
                            try {
                                e$71.toSource(), r = !0
                            } catch (e$70) {
                                r = !1
                            }
                        }
                        return r && "Firefox" !== e && "Other" !== e
                    },
                    R = function R() {
                        var e = document.createElement("canvas");
                        return !(!e.getContext || !e.getContext("2d"))
                    },
                    k = function k() {
                        if (!R()) return !1;
                        var e = j();
                        return !!window.WebGLRenderingContext && !!e
                    },
                    D = function D() {
                        return "Microsoft Internet Explorer" === navigator.appName || !("Netscape" !== navigator.appName || !/Trident/.test(navigator.userAgent))
                    },
                    P = function P() {
                        return void 0 !== window.swfobject
                    },
                    M = function M() {
                        return window.swfobject.hasFlashPlayerVersion("9.0.0")
                    },
                    L = function L(e, t) {
                        window.___fp_swf_loaded = function(t) {
                            e(t)
                        };
                        var n = t.fonts.swfContainerId;
                        ! function(e) {
                            var t = document.createElement("div");
                            t.setAttribute("id", e.fonts.swfContainerId), document.body.appendChild(t)
                        }();
                        var r = {
                            onReady: "___fp_swf_loaded"
                        };
                        window.swfobject.embedSWF(t.fonts.swfPath, n, "1", "1", "9.0.0", !1, r, {
                            allowScriptAccess: "always",
                            menu: "false"
                        }, {})
                    },
                    j = function j() {
                        var e = document.createElement("canvas"),
                            t = null;
                        try {
                            t = e.getContext("webgl") || e.getContext("experimental-webgl")
                        } catch (e$72) {}
                        return t || (t = null), t
                    },
                    F = [{
                        key: "userAgent",
                        getData: function getData(e) {
                            e(navigator.userAgent)
                        }
                    }, {
                        key: "webdriver",
                        getData: function getData(e, t) {
                            e(null == navigator.webdriver ? t.NOT_AVAILABLE : navigator.webdriver)
                        }
                    }, {
                        key: "language",
                        getData: function getData(e, t) {
                            e(navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "colorDepth",
                        getData: function getData(e, t) {
                            e(window.screen.colorDepth || t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "deviceMemory",
                        getData: function getData(e, t) {
                            e(navigator.deviceMemory || t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "pixelRatio",
                        getData: function getData(e, t) {
                            e(window.devicePixelRatio || t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "hardwareConcurrency",
                        getData: function getData(e, t) {
                            e(b(t))
                        }
                    }, {
                        key: "screenResolution",
                        getData: function getData(e, t) {
                            e(l(t))
                        }
                    }, {
                        key: "availableScreenResolution",
                        getData: function getData(e, t) {
                            e(d(t))
                        }
                    }, {
                        key: "timezoneOffset",
                        getData: function getData(e) {
                            e((new Date)
                                .getTimezoneOffset())
                        }
                    }, {
                        key: "timezone",
                        getData: function getData(e, t) {
                            window.Intl && window.Intl.DateTimeFormat ? e((new window.Intl.DateTimeFormat)
                                .resolvedOptions()
                                .timeZone) : e(t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "sessionStorage",
                        getData: function getData(e, t) {
                            e(m(t))
                        }
                    }, {
                        key: "localStorage",
                        getData: function getData(e, t) {
                            e(g(t))
                        }
                    }, {
                        key: "indexedDb",
                        getData: function getData(e, t) {
                            e(y(t))
                        }
                    }, {
                        key: "addBehavior",
                        getData: function getData(e) {
                            e(!(!document.body || !document.body.addBehavior))
                        }
                    }, {
                        key: "openDatabase",
                        getData: function getData(e) {
                            e(!!window.openDatabase)
                        }
                    }, {
                        key: "cpuClass",
                        getData: function getData(e, t) {
                            e(w(t))
                        }
                    }, {
                        key: "platform",
                        getData: function getData(e, t) {
                            e(S(t))
                        }
                    }, {
                        key: "doNotTrack",
                        getData: function getData(e, t) {
                            e(T(t))
                        }
                    }, {
                        key: "plugins",
                        getData: function getData(e, t) {
                            D() ? t.plugins.excludeIE ? e(t.EXCLUDED) : e(p(t)) : e(h(t))
                        }
                    }, {
                        key: "canvas",
                        getData: function getData(e,
                                                  t) {
                            R() ? e(A(t)) : e(t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "webgl",
                        getData: function getData(e, t) {
                            k() ? e(_()) : e(t.NOT_AVAILABLE)
                        }
                    }, {
                        key: "webglVendorAndRenderer",
                        getData: function getData(e) {
                            k() ? e(C()) : e()
                        }
                    }, {
                        key: "adBlock",
                        getData: function getData(e) {
                            e(I())
                        }
                    }, {
                        key: "hasLiedLanguages",
                        getData: function getData(e) {
                            e(x())
                        }
                    }, {
                        key: "hasLiedResolution",
                        getData: function getData(e) {
                            e(B())
                        }
                    }, {
                        key: "hasLiedOs",
                        getData: function getData(e) {
                            e(O())
                        }
                    }, {
                        key: "hasLiedBrowser",
                        getData: function getData(e) {
                            e(N())
                        }
                    }, {
                        key: "touchSupport",
                        getData: function getData(e) {
                            e(E())
                        }
                    },
                        {
                            key: "fonts",
                            getData: function getData(e, t) {
                                var n = ["monospace", "sans-serif", "serif"],
                                    r = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy",
                                        "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings",
                                        "Wingdings 2", "Wingdings 3"
                                    ];
                                if (t.fonts.extendedJsFonts) r = r.concat(["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT",
                                    "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black",
                                    "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT",
                                    "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC",
                                    "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT",
                                    "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text",
                                    "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT",
                                    "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti",
                                    "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT",
                                    "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET",
                                    "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET",
                                    "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT",
                                    "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"
                                ]);
                                r = (r = r.concat(t.fonts.userDefinedFonts))
                                    .filter(function(e, t) {
                                        return r.indexOf(e) === t
                                    });
                                var o = document.getElementsByTagName("body")[0],
                                    i = document.createElement("div"),
                                    a = document.createElement("div"),
                                    u = {},
                                    s = {},
                                    c = function c() {
                                        var e = document.createElement("span");
                                        return e.style.position = "absolute", e.style.left = "-9999px", e.style.fontSize = "72px", e.style.fontStyle = "normal", e.style.fontWeight = "normal", e.style.letterSpacing = "normal", e.style.lineBreak =
                                            "auto", e.style.lineHeight = "normal", e.style.textTransform = "none", e.style.textAlign = "left", e.style.textDecoration = "none", e.style.textShadow = "none", e.style.whiteSpace = "normal", e.style.wordBreak = "normal", e.style.wordSpacing = "normal", e.innerHTML = "mmmmmmmmmmlli", e
                                    },
                                    f = function f(e, t) {
                                        var n = c();
                                        return n.style.fontFamily = "'" + e + "'," + t, n
                                    },
                                    l = function l(e) {
                                        for (var t = !1, r = 0; r < n.length; r++)
                                            if (t = e[r].offsetWidth !== u[n[r]] || e[r].offsetHeight !== s[n[r]]) return t;
                                        return t
                                    },
                                    d = function() {
                                        for (var e = [], t = 0, r = n.length; t <
                                        r; t++) {
                                            var o = c();
                                            o.style.fontFamily = n[t], i.appendChild(o), e.push(o)
                                        }
                                        return e
                                    }();
                                o.appendChild(i);
                                for (var h = 0, p = n.length; h < p; h++) u[n[h]] = d[h].offsetWidth, s[n[h]] = d[h].offsetHeight;
                                var v = function() {
                                    for (var e = {}, t = 0, o = r.length; t < o; t++) {
                                        for (var i = [], u = 0, s = n.length; u < s; u++) {
                                            var c = f(r[t], n[u]);
                                            a.appendChild(c), i.push(c)
                                        }
                                        e[r[t]] = i
                                    }
                                    return e
                                }();
                                o.appendChild(a);
                                for (var m = [], g = 0, y = r.length; g < y; g++) l(v[r[g]]) && m.push(r[g]);
                                o.removeChild(a), o.removeChild(i), e(m)
                            },
                            pauseBefore: !0
                        }, {
                            key: "fontsFlash",
                            getData: function getData(e,
                                                      t) {
                                return P() ? M() ? t.fonts.swfPath ? void L(function(t) {
                                    e(t)
                                }, t) : e("missing options.fonts.swfPath") : e("flash not installed") : e("swf object not loaded")
                            },
                            pauseBefore: !0
                        }, {
                            key: "audio",
                            getData: function getData(e, t) {
                                var n = t.audio;
                                if (n.excludeIOS11 && navigator.userAgent.match(/OS 11.+Version\/11.+Safari/)) return e(t.EXCLUDED);
                                var r = window.OfflineAudioContext || window.webkitOfflineAudioContext;
                                if (null == r) return e(t.NOT_AVAILABLE);
                                var o = new r(1, 44100, 44100),
                                    i = o.createOscillator();
                                i.type = "triangle", i.frequency.setValueAtTime(1E4,
                                    o.currentTime);
                                var a = o.createDynamicsCompressor();
                                s([
                                    ["threshold", -50],
                                    ["knee", 40],
                                    ["ratio", 12],
                                    ["reduction", -20],
                                    ["attack", 0],
                                    ["release", .25]
                                ], function(e) {
                                    void 0 !== a[e[0]] && "function" == typeof a[e[0]].setValueAtTime && a[e[0]].setValueAtTime(e[1], o.currentTime)
                                }), i.connect(a), a.connect(o.destination), i.start(0), o.startRendering();
                                var u = setTimeout(function() {
                                    return o.oncomplete = function() {}, o = null, e("audioTimeout")
                                }, n.timeout);
                                o.oncomplete = function(t) {
                                    var n;
                                    try {
                                        clearTimeout(u), n = t.renderedBuffer.getChannelData(0)
                                            .slice(4500,
                                                5E3)
                                            .reduce(function(e, t) {
                                                return e + Math.abs(t)
                                            }, 0)
                                            .toString(), i.disconnect(), a.disconnect()
                                    } catch (t$73) {
                                        return void e(t$73)
                                    }
                                    e(n)
                                }
                            }
                        }, {
                            key: "enumerateDevices",
                            getData: function getData(e, t) {
                                if (!f()) return e(t.NOT_AVAILABLE);
                                navigator.mediaDevices.enumerateDevices()
                                    .then(function(t) {
                                        e(t.map(function(e) {
                                            return "id=" + e.deviceId + ";gid=" + e.groupId + ";" + e.kind + ";" + e.label
                                        }))
                                    })
                                    .catch(function(t) {
                                        e(t)
                                    })
                            }
                        }
                    ],
                    U = function U(e) {
                        throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200");
                    };
                return U.get = function(e, t) {
                    t ? e || (e = {}) : (t = e, e = {}),
                        function(e, t) {
                            if (null == t) return e;
                            var n, r;
                            for (r in t) null == (n = t[r]) || Object.prototype.hasOwnProperty.call(e, r) || (e[r] = n)
                        }(e, u), e.components = e.extraComponents.concat(F);
                    var n = {
                            data: [],
                            addPreprocessedComponent: function addPreprocessedComponent(t, r) {
                                "function" == typeof e.preprocessor && (r = e.preprocessor(t, r)), n.data.push({
                                    key: t,
                                    value: r
                                })
                            }
                        },
                        r = -1,
                        o = function o(i) {
                            if ((r += 1) >= e.components.length) t(n.data);
                            else {
                                var a = e.components[r];
                                if (e.excludes[a.key]) o(!1);
                                else {
                                    if (!i && a.pauseBefore) return r -= 1, void setTimeout(function() {
                                        o(!0)
                                    }, 1);
                                    try {
                                        a.getData(function(e) {
                                            n.addPreprocessedComponent(a.key, e), o(!1)
                                        }, e)
                                    } catch (e$74) {
                                        n.addPreprocessedComponent(a.key, String(e$74)), o(!1)
                                    }
                                }
                            }
                        };
                    o(!1)
                }, U.getPromise = function(e) {
                    return new Promise(function(t, n) {
                        U.get(e, t)
                    })
                }, U.getV18 = function(e, t) {
                    return null == t && (t = e, e = {}), U.get(e, function(n) {
                        for (var r = [], o = 0; o < n.length; o++) {
                            var i = n[o];
                            if (i.value === (e.NOT_AVAILABLE || "not available")) r.push({
                                key: i.key,
                                value: "unknown"
                            });
                            else if ("plugins" ===
                                i.key) r.push({
                                key: "plugins",
                                value: c(i.value, function(e) {
                                    var t = c(e[2], function(e) {
                                        return e.join ? e.join("~") : e
                                    })
                                        .join(",");
                                    return [e[0], e[1], t].join("::")
                                })
                            });
                            else if (-1 !== ["canvas", "webgl"].indexOf(i.key)) r.push({
                                key: i.key,
                                value: i.value.join("~")
                            });
                            else if (-1 !== ["sessionStorage", "localStorage", "indexedDb", "addBehavior", "openDatabase"].indexOf(i.key)) {
                                if (!i.value) continue;
                                r.push({
                                    key: i.key,
                                    value: 1
                                })
                            } else i.value ? r.push(i.value.join ? {
                                key: i.key,
                                value: i.value.join(";")
                            } : i) : r.push({
                                key: i.key,
                                value: i.value
                            })
                        }
                        var u =
                            a(c(r, function(e) {
                                return e.value
                            })
                                .join("~~~"), 31);
                        t(u, r)
                    })
                }, U.x64hash128 = a, U.VERSION = "2.1.0", U
            })
        }, function(e, t, n) {
            e.exports = function(e, t) {
                return function() {
                    for (var n = new Array(arguments.length), r = 0; r < n.length; r++) n[r] = arguments[r];
                    return e.apply(t, n)
                }
            }
        }, function(e, t, n) {
            var r = n(0);

            function o(e) {
                return encodeURIComponent(e)
                    .replace(/%40/gi, "@")
                    .replace(/%3A/gi, ":")
                    .replace(/%24/g, "$")
                    .replace(/%2C/gi, ",")
                    .replace(/%20/g, "+")
                    .replace(/%5B/gi, "[")
                    .replace(/%5D/gi, "]")
            }
            e.exports = function(e, t, n) {
                if (!t) return e;
                var i;
                if (n) i = n(t);
                else if (r.isURLSearchParams(t)) i = t.toString();
                else {
                    var a = [];
                    r.forEach(t, function(e, t) {
                        null != e && (r.isArray(e) ? t += "[]" : e = [e], r.forEach(e, function(e) {
                            r.isDate(e) ? e = e.toISOString() : r.isObject(e) && (e = JSON.stringify(e)), a.push(o(t) + "=" + o(e))
                        }))
                    }), i = a.join("&")
                }
                if (i) {
                    var u = e.indexOf("#"); - 1 !== u && (e = e.slice(0, u)), e += (-1 === e.indexOf("?") ? "?" : "&") + i
                }
                return e
            }
        }, function(e, t, n) {
            e.exports = function(e) {
                return !(!e || !e.__CANCEL__)
            }
        }, function(e, t, n) {
            (function(t) {
                var r = n(0),
                    o = n(18),
                    i = {
                        "Content-Type": "application/x-www-form-urlencoded"
                    };

                function a(e, t) {
                    !r.isUndefined(e) && r.isUndefined(e["Content-Type"]) && (e["Content-Type"] = t)
                }
                var u, s = {
                    adapter: (("undefined" != typeof XMLHttpRequest || void 0 !== t && "[object process]" === Object.prototype.toString.call(t)) && (u = n(7)), u),
                    transformRequest: [function(e, t) {
                        return o(t, "Accept"), o(t, "Content-Type"), r.isFormData(e) || r.isArrayBuffer(e) || r.isBuffer(e) || r.isStream(e) || r.isFile(e) || r.isBlob(e) ? e : r.isArrayBufferView(e) ? e.buffer : r.isURLSearchParams(e) ? (a(t, "application/x-www-form-urlencoded;charset=utf-8"),
                            e.toString()) : r.isObject(e) ? (a(t, "application/json;charset=utf-8"), JSON.stringify(e)) : e
                    }],
                    transformResponse: [function(e) {
                        if ("string" == typeof e) try {
                            e = JSON.parse(e)
                        } catch (e$75) {}
                        return e
                    }],
                    timeout: 0,
                    xsrfCookieName: "XSRF-TOKEN",
                    xsrfHeaderName: "X-XSRF-TOKEN",
                    maxContentLength: -1,
                    validateStatus: function validateStatus(e) {
                        return e >= 200 && e < 300
                    }
                };
                s.headers = {
                    common: {
                        Accept: "application/json, text/plain, */*"
                    }
                }, r.forEach(["delete", "get", "head"], function(e) {
                    s.headers[e] = {}
                }), r.forEach(["post", "put", "patch"],
                    function(e) {
                        s.headers[e] = r.merge(i)
                    }), e.exports = s
            })
                .call(this, n(17))
        }, function(e, t, n) {
            var r = n(0),
                o = n(19),
                i = n(4),
                a = n(21),
                u = n(24),
                s = n(25),
                c = n(8);
            e.exports = function(e) {
                return new Promise(function(t, f) {
                    var l = e.data,
                        d = e.headers;
                    r.isFormData(l) && delete d["Content-Type"];
                    var h = new XMLHttpRequest;
                    if (e.auth) {
                        var p = e.auth.username || "",
                            v = e.auth.password || "";
                        d.Authorization = "Basic " + btoa(p + ":" + v)
                    }
                    var m = a(e.baseURL, e.url);
                    if (h.open(e.method.toUpperCase(), i(m, e.params, e.paramsSerializer), !0), h.timeout = e.timeout,
                        h.onreadystatechange = function() {
                            if (h && 4 === h.readyState && (0 !== h.status || h.responseURL && 0 === h.responseURL.indexOf("file:"))) {
                                var n = "getAllResponseHeaders" in h ? u(h.getAllResponseHeaders()) : null,
                                    r = {
                                        data: e.responseType && "text" !== e.responseType ? h.response : h.responseText,
                                        status: h.status,
                                        statusText: h.statusText,
                                        headers: n,
                                        config: e,
                                        request: h
                                    };
                                o(t, f, r), h = null
                            }
                        }, h.onabort = function() {
                        h && (f(c("Request aborted", e, "ECONNABORTED", h)), h = null)
                    }, h.onerror = function() {
                        f(c("Network Error", e, null, h)), h = null
                    }, h.ontimeout =
                        function() {
                            var t = "timeout of " + e.timeout + "ms exceeded";
                            e.timeoutErrorMessage && (t = e.timeoutErrorMessage), f(c(t, e, "ECONNABORTED", h)), h = null
                        }, r.isStandardBrowserEnv()) {
                        var g = n(26),
                            y = (e.withCredentials || s(m)) && e.xsrfCookieName ? g.read(e.xsrfCookieName) : void 0;
                        y && (d[e.xsrfHeaderName] = y)
                    }
                    if ("setRequestHeader" in h && r.forEach(d, function(e, t) {
                        void 0 === l && "content-type" === t.toLowerCase() ? delete d[t] : h.setRequestHeader(t, e)
                    }), r.isUndefined(e.withCredentials) || (h.withCredentials = !!e.withCredentials), e.responseType) try {
                        h.responseType =
                            e.responseType
                    } catch (t$76) {
                        if ("json" !== e.responseType) throw t$76;
                    }
                    "function" == typeof e.onDownloadProgress && h.addEventListener("progress", e.onDownloadProgress), "function" == typeof e.onUploadProgress && h.upload && h.upload.addEventListener("progress", e.onUploadProgress), e.cancelToken && e.cancelToken.promise.then(function(e) {
                        h && (h.abort(), f(e), h = null)
                    }), void 0 === l && (l = null), h.send(l)
                })
            }
        }, function(e, t, n) {
            var r = n(20);
            e.exports = function(e, t, n, o, i) {
                var a = new Error(e);
                return r(a, t, n, o, i)
            }
        }, function(e, t, n) {
            var r =
                n(0);
            e.exports = function(e, t) {
                t = t || {};
                var n = {},
                    o = ["url", "method", "params", "data"],
                    i = ["headers", "auth", "proxy"],
                    a = ["baseURL", "url", "transformRequest", "transformResponse", "paramsSerializer", "timeout", "withCredentials", "adapter", "responseType", "xsrfCookieName", "xsrfHeaderName", "onUploadProgress", "onDownloadProgress", "maxContentLength", "validateStatus", "maxRedirects", "httpAgent", "httpsAgent", "cancelToken", "socketPath"];
                r.forEach(o, function(e) {
                    void 0 !== t[e] && (n[e] = t[e])
                }), r.forEach(i, function(o) {
                    r.isObject(t[o]) ?
                        n[o] = r.deepMerge(e[o], t[o]) : void 0 !== t[o] ? n[o] = t[o] : r.isObject(e[o]) ? n[o] = r.deepMerge(e[o]) : void 0 !== e[o] && (n[o] = e[o])
                }), r.forEach(a, function(r) {
                    void 0 !== t[r] ? n[r] = t[r] : void 0 !== e[r] && (n[r] = e[r])
                });
                var u = o.concat(i)
                        .concat(a),
                    s = Object.keys(t)
                        .filter(function(e) {
                            return -1 === u.indexOf(e)
                        });
                return r.forEach(s, function(r) {
                    void 0 !== t[r] ? n[r] = t[r] : void 0 !== e[r] && (n[r] = e[r])
                }), n
            }
        }, function(e, t, n) {
            function r(e) {
                this.message = e
            }
            r.prototype.toString = function() {
                return "Cancel" + (this.message ? ": " + this.message : "")
            },
                r.prototype.__CANCEL__ = !0, e.exports = r
        }, function(e, t, n) {
            e.exports = n(12)
        }, function(e, t, n) {
            var r = n(0),
                o = n(3),
                i = n(13),
                a = n(9);

            function u(e) {
                var t = new i(e),
                    n = o(i.prototype.request, t);
                return r.extend(n, i.prototype, t), r.extend(n, t), n
            }
            var s = u(n(6));
            s.Axios = i, s.create = function(e) {
                return u(a(s.defaults, e))
            }, s.Cancel = n(10), s.CancelToken = n(27), s.isCancel = n(5), s.all = function(e) {
                return Promise.all(e)
            }, s.spread = n(28), e.exports = s, e.exports.default = s
        }, function(e, t, n) {
            var r = n(0),
                o = n(4),
                i = n(14),
                a = n(15),
                u = n(9);

            function s(e) {
                this.defaults =
                    e, this.interceptors = {
                    request: new i,
                    response: new i
                }
            }
            s.prototype.request = function(e) {
                "string" == typeof e ? (e = arguments[1] || {})
                    .url = arguments[0] : e = e || {}, (e = u(this.defaults, e))
                    .method ? e.method = e.method.toLowerCase() : this.defaults.method ? e.method = this.defaults.method.toLowerCase() : e.method = "get";
                var t = [a, void 0],
                    n = Promise.resolve(e);
                for (this.interceptors.request.forEach(function(e) {
                    t.unshift(e.fulfilled, e.rejected)
                }), this.interceptors.response.forEach(function(e) {
                    t.push(e.fulfilled, e.rejected)
                }); t.length;) n =
                    n.then(t.shift(), t.shift());
                return n
            }, s.prototype.getUri = function(e) {
                return e = u(this.defaults, e), o(e.url, e.params, e.paramsSerializer)
                    .replace(/^\?/, "")
            }, r.forEach(["delete", "get", "head", "options"], function(e) {
                s.prototype[e] = function(t, n) {
                    return this.request(r.merge(n || {}, {
                        method: e,
                        url: t
                    }))
                }
            }), r.forEach(["post", "put", "patch"], function(e) {
                s.prototype[e] = function(t, n, o) {
                    return this.request(r.merge(o || {}, {
                        method: e,
                        url: t,
                        data: n
                    }))
                }
            }), e.exports = s
        }, function(e, t, n) {
            var r = n(0);

            function o() {
                this.handlers = []
            }
            o.prototype.use = function(e, t) {
                return this.handlers.push({
                    fulfilled: e,
                    rejected: t
                }), this.handlers.length - 1
            }, o.prototype.eject = function(e) {
                this.handlers[e] && (this.handlers[e] = null)
            }, o.prototype.forEach = function(e) {
                r.forEach(this.handlers, function(t) {
                    null !== t && e(t)
                })
            }, e.exports = o
        }, function(e, t, n) {
            var r = n(0),
                o = n(16),
                i = n(5),
                a = n(6);

            function u(e) {
                e.cancelToken && e.cancelToken.throwIfRequested()
            }
            e.exports = function(e) {
                return u(e), e.headers = e.headers || {}, e.data = o(e.data, e.headers, e.transformRequest), e.headers =
                    r.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers), r.forEach(["delete", "get", "head", "post", "put", "patch", "common"], function(t) {
                    delete e.headers[t]
                }), (e.adapter || a.adapter)(e)
                    .then(function(t) {
                        return u(e), t.data = o(t.data, t.headers, e.transformResponse), t
                    }, function(t) {
                        return i(t) || (u(e), t && t.response && (t.response.data = o(t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t)
                    })
            }
        }, function(e, t, n) {
            var r = n(0);
            e.exports = function(e, t, n) {
                return r.forEach(n, function(n) {
                    e = n(e,
                        t)
                }), e
            }
        }, function(e, t) {
            var n, r, o = e.exports = {};

            function i() {
                throw new Error("setTimeout has not been defined");
            }

            function a() {
                throw new Error("clearTimeout has not been defined");
            }

            function u(e) {
                if (n === setTimeout) return setTimeout(e, 0);
                if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(e, 0);
                try {
                    return n(e, 0)
                } catch (t$78) {
                    try {
                        return n.call(null, e, 0)
                    } catch (t$77) {
                        return n.call(this, e, 0)
                    }
                }
            }! function() {
                try {
                    n = "function" == typeof setTimeout ? setTimeout : i
                } catch (e$79) {
                    n = i
                }
                try {
                    r = "function" == typeof clearTimeout ?
                        clearTimeout : a
                } catch (e$80) {
                    r = a
                }
            }();
            var s, c = [],
                f = !1,
                l = -1;

            function d() {
                f && s && (f = !1, s.length ? c = s.concat(c) : l = -1, c.length && h())
            }

            function h() {
                if (!f) {
                    var e = u(d);
                    f = !0;
                    for (var t = c.length; t;) {
                        for (s = c, c = []; ++l < t;) s && s[l].run();
                        l = -1, t = c.length
                    }
                    s = null, f = !1,
                        function(e) {
                            if (r === clearTimeout) return clearTimeout(e);
                            if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(e);
                            try {
                                r(e)
                            } catch (t$82) {
                                try {
                                    return r.call(null, e)
                                } catch (t$81) {
                                    return r.call(this, e)
                                }
                            }
                        }(e)
                }
            }

            function p(e, t) {
                this.fun = e, this.array = t
            }

            function v() {}
            o.nextTick = function(e) {
                var t = new Array(arguments.length - 1);
                if (arguments.length > 1)
                    for (var n = 1; n < arguments.length; n++) t[n - 1] = arguments[n];
                c.push(new p(e, t)), 1 !== c.length || f || u(h)
            }, p.prototype.run = function() {
                this.fun.apply(null, this.array)
            }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = v, o.addListener = v, o.once = v, o.off = v, o.removeListener = v, o.removeAllListeners = v, o.emit = v, o.prependListener = v, o.prependOnceListener = v, o.listeners = function(e) {
                return []
            }, o.binding = function(e) {
                throw new Error("process.binding is not supported");
            }, o.cwd = function() {
                return "/"
            }, o.chdir = function(e) {
                throw new Error("process.chdir is not supported");
            }, o.umask = function() {
                return 0
            }
        }, function(e, t, n) {
            var r = n(0);
            e.exports = function(e, t) {
                r.forEach(e, function(n, r) {
                    r !== t && r.toUpperCase() === t.toUpperCase() && (e[t] = n, delete e[r])
                })
            }
        }, function(e, t, n) {
            var r = n(8);
            e.exports = function(e, t, n) {
                var o = n.config.validateStatus;
                !o || o(n.status) ? e(n) : t(r("Request failed with status code " + n.status, n.config, null, n.request, n))
            }
        }, function(e, t, n) {
            e.exports = function(e, t, n, r,
                                 o) {
                return e.config = t, n && (e.code = n), e.request = r, e.response = o, e.isAxiosError = !0, e.toJSON = function() {
                    return {
                        message: this.message,
                        name: this.name,
                        description: this.description,
                        number: this.number,
                        fileName: this.fileName,
                        lineNumber: this.lineNumber,
                        columnNumber: this.columnNumber,
                        stack: this.stack,
                        config: this.config,
                        code: this.code
                    }
                }, e
            }
        }, function(e, t, n) {
            var r = n(22),
                o = n(23);
            e.exports = function(e, t) {
                return e && !r(t) ? o(e, t) : t
            }
        }, function(e, t, n) {
            e.exports = function(e) {
                return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)
            }
        }, function(e,
                    t, n) {
            e.exports = function(e, t) {
                return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e
            }
        }, function(e, t, n) {
            var r = n(0),
                o = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];
            e.exports = function(e) {
                var t, n, i, a = {};
                return e ? (r.forEach(e.split("\n"), function(e) {
                    if (i = e.indexOf(":"), t = r.trim(e.substr(0, i))
                        .toLowerCase(), n = r.trim(e.substr(i +
                        1)), t) {
                        if (a[t] && o.indexOf(t) >= 0) return;
                        a[t] = "set-cookie" === t ? (a[t] ? a[t] : [])
                            .concat([n]) : a[t] ? a[t] + ", " + n : n
                    }
                }), a) : a
            }
        }, function(e, t, n) {
            var r = n(0);
            e.exports = r.isStandardBrowserEnv() ? function() {
                var e, t = /(msie|trident)/i.test(navigator.userAgent),
                    n = document.createElement("a");

                function o(e) {
                    var r = e;
                    return t && (n.setAttribute("href", r), r = n.href), n.setAttribute("href", r), {
                        href: n.href,
                        protocol: n.protocol ? n.protocol.replace(/:$/, "") : "",
                        host: n.host,
                        search: n.search ? n.search.replace(/^\?/, "") : "",
                        hash: n.hash ? n.hash.replace(/^#/,
                            "") : "",
                        hostname: n.hostname,
                        port: n.port,
                        pathname: "/" === n.pathname.charAt(0) ? n.pathname : "/" + n.pathname
                    }
                }
                return e = o(window.location.href),
                    function(t) {
                        var n = r.isString(t) ? o(t) : t;
                        return n.protocol === e.protocol && n.host === e.host
                    }
            }() : function() {
                return !0
            }
        }, function(e, t, n) {
            var r = n(0);
            e.exports = r.isStandardBrowserEnv() ? {
                write: function write(e, t, n, o, i, a) {
                    var u = [];
                    u.push(e + "=" + encodeURIComponent(t)), r.isNumber(n) && u.push("expires=" + (new Date(n))
                        .toGMTString()), r.isString(o) && u.push("path=" + o), r.isString(i) && u.push("domain=" +
                        i), !0 === a && u.push("secure"), document.cookie = u.join("; ")
                },
                read: function read(e) {
                    var t = document.cookie.match(new RegExp("(^|;\\s*)(" + e + ")=([^;]*)"));
                    return t ? decodeURIComponent(t[3]) : null
                },
                remove: function remove(e) {
                    this.write(e, "", Date.now() - 864E5)
                }
            } : {
                write: function write() {},
                read: function read() {
                    return null
                },
                remove: function remove() {}
            }
        }, function(e, t, n) {
            var r = n(10);

            function o(e) {
                if ("function" != typeof e) throw new TypeError("executor must be a function.");
                var t;
                this.promise = new Promise(function(e) {
                    t =
                        e
                });
                var n = this;
                e(function(e) {
                    n.reason || (n.reason = new r(e), t(n.reason))
                })
            }
            o.prototype.throwIfRequested = function() {
                if (this.reason) throw this.reason;
            }, o.source = function() {
                var e;
                return {
                    token: new o(function(t) {
                        e = t
                    }),
                    cancel: e
                }
            }, e.exports = o
        }, function(e, t, n) {
            e.exports = function(e) {
                return function(t) {
                    return e.apply(null, t)
                }
            }
        }, function(e, t) {
            (function(t) {
                e.exports = t
            })
                .call(this, {})
        }, function(e, t) {
            var n;
            n = function() {
                return this
            }();
            try {
                n = n || (new Function("return this"))()
            } catch (e$83) {
                "object" == (typeof window ===
                "undefined" ? "undefined" : _typeof(window)) && (n = window)
            }
            e.exports = n
        }, function(e, t, n) {
            n.r(t);
            var r = function() {
                function e() {
                    var e = this;
                    this.emit = function(t, n) {
                        if (e) {
                            var r, o = e.__EventsList[t];
                            if (null == o ? void 0 : o.length) {
                                o = o.slice();
                                for (var i = 0; i < o.length; i++) {
                                    r = o[i];
                                    try {
                                        var a = r.callback.apply(e, [n]);
                                        if (1 === r.type && e.remove(t, r.callback), !1 === a) break
                                    } catch (e$84) {
                                        throw e$84;
                                    }
                                }
                            }
                            return e
                        }
                    }, this.__EventsList = {}
                }
                return e.prototype.indexOf = function(e, t) {
                    for (var n = 0; n < e.length; n++)
                        if (e[n].callback === t) return n;
                    return -1
                }, e.prototype.on = function(e, t, n) {
                    if (void 0 === n && (n = 0), this) {
                        var r = this.__EventsList[e];
                        if (r || (r = this.__EventsList[e] = []), -1 === this.indexOf(r, t)) {
                            var o = {
                                name: e,
                                type: n || 0,
                                callback: t
                            };
                            return r.push(o), this
                        }
                        return this
                    }
                }, e.prototype.one = function(e, t) {
                    this.on(e, t, 1)
                }, e.prototype.remove = function(e, t) {
                    if (this) {
                        var n = this.__EventsList[e];
                        if (!n) return null;
                        if (!t) {
                            try {
                                delete this.__EventsList[e]
                            } catch (e$85) {}
                            return null
                        }
                        if (n.length) {
                            var r = this.indexOf(n, t);
                            n.splice(r, 1)
                        }
                        return this
                    }
                }, e
            }();
            var o = function o() {};
            var _i = function i() {
                    return (_i = Object.assign || function(e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                            for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                        return e
                    })
                        .apply(this, arguments)
                },
                a = function() {
                    function e(e) {
                        var t = this;
                        this.lifeCycle = new r, this.uploadJobQueue = [], this._normalLogPipeline = function(e) {
                            if (!e || !e.reduce || !e.length) throw new TypeError("createPipeline \u65b9\u6cd5\u9700\u8981\u4f20\u5165\u81f3\u5c11\u6709\u4e00\u4e2a pipe \u7684\u6570\u7ec4");
                            return 1 ===
                            e.length ? function(t, n) {
                                e[0](t, n || o)
                            } : e.reduce(function(e, t) {
                                return function(n, r) {
                                    return void 0 === r && (r = o), e(n, function(e) {
                                        return null == t ? void 0 : t(e, r)
                                    })
                                }
                            })
                        }([function(e) {
                            t.send({
                                url: t.baseInfo.url,
                                data: e,
                                method: "post",
                                contentType: "application/json;charset=UTF-8"
                            }, function() {
                                var n = t.baseInfo.onReportSuccess;
                                "function" == typeof n && n(JSON.stringify(e.msgs[0].data.events))
                            }, function() {
                                var n = t.baseInfo.onReportFail;
                                "function" == typeof n && n(JSON.stringify(e.msgs[0].data.events))
                            })
                        }]),
                            function(e, t) {
                                if (!e) throw t instanceof
                                Error ? t : new Error(t);
                            }(Boolean(e.appkey), "appkey must be initial"), this.baseInfo = _i({
                            initTime: Date.now()
                                .toString(),
                            language: "zh-CN"
                        }, e)
                    }
                    return e.prototype.getCommonInfo = function() {
                        var e, t, n, r, o, i, a, u;
                        return {
                            deviceId: null === (e = this.baseInfo) || void 0 === e ? void 0 : e.deviceId,
                            appkey: null === (t = this.baseInfo) || void 0 === t ? void 0 : t.appkey,
                            versionCode: null === (n = this.baseInfo) || void 0 === n ? void 0 : n.versionCode,
                            initTime: null === (r = this.baseInfo) || void 0 === r ? void 0 : r.initTime,
                            channelID: null === (o = this.baseInfo) ||
                            void 0 === o ? void 0 : o.channelID,
                            sdkVersion: null === (i = this.baseInfo) || void 0 === i ? void 0 : i.sdkVersion,
                            pixel: null === (a = this.baseInfo) || void 0 === a ? void 0 : a.pixel,
                            language: null === (u = this.baseInfo) || void 0 === u ? void 0 : u.language
                        }
                    }, e
                }();

            function u(e, t) {
                try {
                    e = "__BEACON_" + e, window.localStorage.setItem(e, t)
                } catch (e$86) {}
            }

            function s(e) {
                try {
                    return e = "__BEACON_" + e, window.localStorage.getItem(e)
                } catch (e$87) {
                    return ""
                }
            }

            function c(e) {
                var t;
                return function(n) {
                    if (t) return t;
                    var r = Date.now();
                    var o = Promise.resolve(s(e));
                    return t = o.then(function(e) {
                        if (!e) return Promise.reject();
                        var t = JSON.parse(e) || {
                            sessionId: void 0,
                            sessionStart: void 0
                        };
                        return t.sessionId && t.sessionStart ? r - t.sessionStart > 3E4 ? Promise.reject() : Promise.resolve({
                            sessionId: t.sessionId,
                            sessionStart: t.sessionStart
                        }) : Promise.reject()
                    })
                        .then(function(e) {
                            return e
                        }, function() {
                            return t = {
                                sessionId: n + r.toString(),
                                sessionStart: r
                            }, setTimeout(function() {
                                return u(e, JSON.stringify(t))
                            }, 0), t;
                            var t
                        })
                }
            }
            var f = n(11),
                l = n.n(f),
                d = n(2),
                h = n.n(d),
                p = function p(e, t, n, r) {
                    return new(n ||
                        (n = Promise))(function(o, i) {
                        function a(e) {
                            try {
                                s(r.next(e))
                            } catch (e$88) {
                                i(e$88)
                            }
                        }

                        function u(e) {
                            try {
                                s(r.throw(e))
                            } catch (e$89) {
                                i(e$89)
                            }
                        }

                        function s(e) {
                            var t;
                            e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                                e(t)
                            }))
                                .then(a, u)
                        }
                        s((r = r.apply(e, t || []))
                            .next())
                    })
                },
                v = function v(e, t) {
                    var n, r, o, i, a = {
                        label: 0,
                        sent: function sent() {
                            if (1 & o[0]) throw o[1];
                            return o[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return i = {
                        next: u(0),
                        throw: u(1),
                        return: u(2)
                    }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                        return this
                    }), i;

                    function u(i) {
                        return function(u) {
                            return function(i) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; a;) try {
                                    if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1]))
                                        .done) return o;
                                    switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                        case 0:
                                        case 1:
                                            o = i;
                                            break;
                                        case 4:
                                            return a.label++, {
                                                value: i[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++, r = i[1], i = [0];
                                            continue;
                                        case 7:
                                            i = a.ops.pop(), a.trys.pop();
                                            continue;
                                        default:
                                            if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                                a.label = i[1];
                                                break
                                            }
                                            if (6 === i[0] && a.label < o[1]) {
                                                a.label = o[1],
                                                    o = i;
                                                break
                                            }
                                            if (o && a.label < o[2]) {
                                                a.label = o[2], a.ops.push(i);
                                                break
                                            }
                                            o[2] && a.ops.pop(), a.trys.pop();
                                            continue
                                    }
                                    i = t.call(e, a)
                                } catch (e$90) {
                                    i = [6, e$90], r = 0
                                } finally {
                                    n = o = 0
                                }
                                if (5 & i[0]) throw i[1];
                                return {
                                    value: i[0] ? i[1] : void 0,
                                    done: !0
                                }
                            }([i, u])
                        }
                    }
                };
            var _m, g = n(1),
                y = n.n(g),
                b = function b(e, t, n, r) {
                    return new(n || (n = Promise))(function(o, i) {
                        function a(e) {
                            try {
                                s(r.next(e))
                            } catch (e$91) {
                                i(e$91)
                            }
                        }

                        function u(e) {
                            try {
                                s(r.throw(e))
                            } catch (e$92) {
                                i(e$92)
                            }
                        }

                        function s(e) {
                            var t;
                            e.done ? o(e.value) : (t = e.value, t instanceof n ? t : new n(function(e) {
                                e(t)
                            }))
                                .then(a,
                                    u)
                        }
                        s((r = r.apply(e, t || []))
                            .next())
                    })
                },
                w = function w(e, t) {
                    var n, r, o, i, a = {
                        label: 0,
                        sent: function sent() {
                            if (1 & o[0]) throw o[1];
                            return o[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return i = {
                        next: u(0),
                        throw: u(1),
                        return: u(2)
                    }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
                        return this
                    }), i;

                    function u(i) {
                        return function(u) {
                            return function(i) {
                                if (n) throw new TypeError("Generator is already executing.");
                                for (; a;) try {
                                    if (n = 1, r && (o = 2 & i[0] ? r.return : i[0] ? r.throw || ((o = r.return) && o.call(r), 0) : r.next) && !(o = o.call(r, i[1]))
                                        .done) return o;
                                    switch (r = 0, o && (i = [2 & i[0], o.value]), i[0]) {
                                        case 0:
                                        case 1:
                                            o = i;
                                            break;
                                        case 4:
                                            return a.label++, {
                                                value: i[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++, r = i[1], i = [0];
                                            continue;
                                        case 7:
                                            i = a.ops.pop(), a.trys.pop();
                                            continue;
                                        default:
                                            if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {
                                                a.label = i[1];
                                                break
                                            }
                                            if (6 === i[0] && a.label < o[1]) {
                                                a.label = o[1], o = i;
                                                break
                                            }
                                            if (o && a.label < o[2]) {
                                                a.label = o[2], a.ops.push(i);
                                                break
                                            }
                                            o[2] && a.ops.pop(), a.trys.pop();
                                            continue
                                    }
                                    i = t.call(e, a)
                                } catch (e$93) {
                                    i = [6, e$93], r = 0
                                } finally {
                                    n = o = 0
                                }
                                if (5 & i[0]) throw i[1];
                                return {
                                    value: i[0] ? i[1] : void 0,
                                    done: !0
                                }
                            }([i, u])
                        }
                    }
                },
                S = function() {
                    function e() {
                        var e, t = this,
                            n = y.a.createInstance({
                                driver: [y.a.INDEXEDDB, y.a.WEBSQL, y.a.LOCALSTORAGE],
                                name: "Beacon",
                                version: 1,
                                size: 4980736,
                                storeName: "event_store",
                                description: "store beacon events"
                            });
                        this.store = n, null === (e = this.getEvents()) || void 0 === e || e.then(function(e) {
                            t.jobQueue = e
                        })
                    }
                    return e.prototype.concatEvents = function(e) {
                        this.jobQueue || (this.jobQueue = []), this.jobQueue = this.jobQueue.concat(e),
                            this.realStore()
                    }, e.prototype.realStore = function() {
                        var e = this;
                        if (this.jobQueue.length > 0) {
                            var t = this.jobQueue.pop();
                            if (t) {
                                var n = t.params,
                                    r = n.A99.toString() + n.A100.toString();
                                this.store.setItem(r, t)
                                    .then(function() {
                                        e.realStore()
                                    })
                            }
                        }
                    }, e.prototype.getEvents = function() {
                        return b(this, void 0, void 0, function() {
                            var e;
                            return w(this, function(t) {
                                switch (t.label) {
                                    case 0:
                                        e = [], t.label = 1;
                                    case 1:
                                        return t.trys.push([1, 3, , 4]), [4, this.store.iterate(function(t) {
                                            e.push(t)
                                        })];
                                    case 2:
                                        return t.sent(), [2, e];
                                    case 3:
                                        return t.sent(),
                                            [2, e];
                                    case 4:
                                        return [2]
                                }
                            })
                        })
                    }, e.prototype.cleanEvents = function(e) {
                        var t = this;
                        e.forEach(function(e) {
                            var n = e.params,
                                r = n.A99.toString() + n.A100.toString();
                            t.store.removeItem(r)
                        })
                    }, e
                }(),
                T = (_m = function m(e, t) {
                    return (_m = Object.setPrototypeOf || {
                            __proto__: []
                        }
                        instanceof Array && function(e, t) {
                            e.__proto__ = t
                        } || function(e, t) {
                            for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
                        })(e, t)
                }, function(e, t) {
                    function n() {
                        this.constructor = e
                    }
                    _m(e, t), e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype, new n)
                }),
                _E = function E() {
                    return (_E =
                        Object.assign || function(e) {
                            for (var t, n = 1, r = arguments.length; n < r; n++)
                                for (var o in t = arguments[n]) Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                            return e
                        })
                        .apply(this, arguments)
                },
                A = function(e) {
                    function t(t) {
                        var n = e.call(this, t) || this;
                        n.store = new S, n.send = function(e, t, r) {
                            if (!n.baseInfo.url || !n.baseInfo.appkey) throw new Error("please call init before");
                            l.a.post(n.baseInfo.url, e.data)
                                .then(function(r) {
                                    t && t(e.data), n.store.cleanEvents(e.data.msgs[0].data.events)
                                })
                                .catch(function(t) {
                                    r && r(e.data),
                                        n.store.concatEvents(e.data.msgs[0].data.events)
                                })
                        }, n.additionalParams = {}, n.initDeviceId(), n.initCommonInfo(t);
                        var r = c("session_storage_key");
                        return n.session$ = r(n.getDeviceId()), n.onDirectUserAction("rqd_js_init", {}), setTimeout(function() {
                            return n.lifeCycle.emit("init")
                        }, 0), n.cycleSend(t.delay ? t.delay : 3E3), n
                    }
                    return T(t, e), t.prototype.initCommonInfo = function(e) {
                        this.baseInfo.sdkVersion = "3.0.5", this.baseInfo.url = "http://oth.eve.mdt.qq.com:8080/analytics/upload?tp=js", "https:" === location.protocol &&
                        (this.baseInfo.url = "https://otheve.beacon.qq.com/analytics/upload?tp=js"), void 0 !== e.isDebug && e.isDebug && ("https:" === location.protocol ? this.baseInfo.url = "https://jrlts.beacon.qq.com/analytics/upload?tp=js" : this.baseInfo.url = "http://jrlt.beacon.qq.com/analytics/upload?tp=js"), this.baseInfo.language = navigator && navigator.language || "zh_cn";
                        var t = [window.screen.width, window.screen.height];
                        window.devicePixelRatio && t.push(window.devicePixelRatio), this.baseInfo.pixel = t.join("*");
                        var n = function(e) {
                            try {
                                return e =
                                    "__BEACON_" + e, window.sessionStorage.getItem(e)
                            } catch (e$94) {
                                return ""
                            }
                        }("initTime");
                        if (n) this.baseInfo.initTime = n;
                        else {
                            var r = Date.now()
                                .toString();
                            this.baseInfo.initTime = r,
                                function(e, t) {
                                    try {
                                        e = "__BEACON_" + e, window.sessionStorage.setItem(e, t)
                                    } catch (e$95) {}
                                }("initTime", r)
                        }
                    }, t.prototype.cycleSend = function(e) {
                        var t = this;
                        setTimeout(function() {
                            var n;
                            null === (n = t.store.getEvents()) || void 0 === n || n.then(function(e) {
                                e && e.length > 0 && t.realSend(e)
                            }), t.cycleSend(e)
                        }, e)
                    }, t.prototype.onUserAction = function(e, t) {
                        var n = [],
                            r = Number(s("normal_log_id"));
                        r = r || 0, t = _E(_E(_E({}, this.additionalParams), t), {
                            A102: window.location.href,
                            A99: "N",
                            A100: r,
                            openid: this.baseInfo.openid
                        }), u("normal_log_id", (++r)
                            .toString()), n.push({
                            id: e,
                            name: e,
                            params: t,
                            start: Date.now(),
                            count: 1
                        }), this.store.concatEvents(n)
                    }, t.prototype.onDirectUserAction = function(e, t) {
                        var n = [],
                            r = Number(s("direct_log_id"));
                        r = r || 0, t = _E(_E(_E({}, this.additionalParams), t), {
                            A102: window.location.href,
                            A99: "Y",
                            A100: r,
                            openid: this.baseInfo.openid
                        }), u("direct_log_id", (++r)
                            .toString()),
                            n.push({
                                id: e,
                                name: e,
                                params: t,
                                start: Date.now(),
                                count: 1
                            }), this.realSend(n)
                    }, t.prototype.realSend = function(e) {
                        var t = this;
                        if (!this.session$) throw new Error("please call init before");
                        this.session$.then(function(n) {
                            if (0 != e.length) {
                                var r = [];
                                r.push({
                                    type: 2,
                                    data: {
                                        id: n.sessionId,
                                        start: n.sessionStart,
                                        pages: [],
                                        status: 2,
                                        duration: 0,
                                        events: e
                                    }
                                });
                                var o = _E(_E({}, t.getCommonInfo()), {
                                    msgs: r
                                });
                                t._normalLogPipeline(o)
                            }
                        })
                    }, t.prototype.getDeviceId = function() {
                        return this.baseInfo.deviceId
                    }, t.prototype.setAdditionalParams =
                        function(e) {
                            this.additionalParams = _E({}, e)
                        }, t.prototype.initDeviceId = function() {
                        var e = this,
                            t = s("deviceId");
                        t || function(e) {
                            return p(this, void 0, void 0, function() {
                                return v(this, function(t) {
                                    return [2, new Promise(function(t) {
                                        h.a.get(e, function(e) {
                                            var n = e.map(function(e) {
                                                    return e.value
                                                }),
                                                r = h.a.x64hash128(n.join(""), 31);
                                            t(r)
                                        })
                                    })]
                                })
                            })
                        }({
                            screen_resolution: !0
                        })
                            .then(function(n) {
                                u("deviceId", t = n.replace(/\.|\+|\(|\)/g, "")), e.baseInfo.deviceId = t
                            }), this.baseInfo.deviceId = t || ""
                    }, t.prototype.setOpenId = function(e) {
                        this.baseInfo.openid =
                            e
                    }, t.prototype.reportPV = function() {
                        this.onDirectUserAction("rqd_js_pv", {})
                    }, t
                }(a);
            t.default = A
        }])
            .default
    });
    var pageHref = window.location.href;
    var isHttps = /^https:/i.test(pageHref);
    if (isHttps) use$1();
    else use();
    getQueryString("adtag") ? sessionStorage.setItem("__source_adTag", getQueryString("adtag")) : "";
    var __defaultOpt = {
        virtualDomain: function virtualDomain() {
            return null
        },
        virtualUrl: function virtualUrl() {
            var pathName = getPathName();
            if (/\/$/.test(pathName)) pathName += "index";
            var pathParts = pathName.split("/");
            var basePathParts = pathParts.pop()
                .split(".");
            if (basePathParts.length > 1) basePathParts.pop();
            pathParts.push(basePathParts.join("."));
            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];
            if (args.length) pathParts = [].concat(_toConsumableArray(pathParts), args);
            else pathParts.push(clientType);
            return pathParts.join("/")
        },
        withSearch: true,
        downAppTag: function downAppTag() {
            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) args[_key2] = arguments[_key2];
            return ["app_down"].concat(args, [clientType, os])
                .slice(-4)
                .join(".")
        },
        androidAppUrl: "http://m.ac.qq.com/apkSet/qqcomic_android_dm2309.apk",
        iOSAppUrl: "https://itunes.apple.com/cn/app/id569387346",
        iPadAppUrl: null
    };
    var __opt = deepCopy(__defaultOpt);
    __opt.__isInitialized = false;
    var flags = {
        autoDownLoad: true
    };

    function setAutoDown(val) {
        flags.autoDownLoad = val
    }

    function init(opt) {
        deepCopy(opt, __opt);
        __opt.__isInitialized = true;
        if (opt["reportVisit"]) reportVisit()
    }

    function reportVisit() {
        var virtualUrl = arguments.length >
        0 && arguments[0] !== undefined ? arguments[0] : getVirtualUrl();
        var virtualDomain = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getVirtualDomain();
        var params = {
            "repeatApplay": "true"
        };
        if (virtualUrl) params["virtualURL"] = virtualUrl;
        if (virtualDomain) params["virtualDomain"] = virtualDomain;
        window["pgvMain"] && window["pgvMain"](params)
    }

    function reportClick$1() {
        var hotTag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "unset_click";
        var virtualDomain = arguments.length > 1 && arguments[1] !== undefined ?
            arguments[1] : getVirtualDomain();
        var params = {};
        params["hottag"] = hotTag;
        if (virtualDomain) params["virtualDomain"] = virtualDomain;
        window["pgvSendClick"] && window["pgvSendClick"](params)
    }

    function initBeacon(params) {
        var _params$appkey = params.appkey,
            appkey = _params$appkey === undefined ? "JS0XQBWK31SRVJ" : _params$appkey,
            _params$versionCode = params.versionCode,
            versionCode = _params$versionCode === undefined ? "1.0" : _params$versionCode,
            _params$isDebug = params.isDebug,
            isDebug = _params$isDebug === undefined ? false : _params$isDebug,
            _params$delay = params.delay,
            delay = _params$delay === undefined ? 1E3 : _params$delay,
            _params$onReportSucce = params.onReportSuccess,
            onReportSuccess = _params$onReportSucce === undefined ? function(_res) {
                console.log("\u706f\u5854\u4e0a\u62a5\u6210\u529f")
            } : _params$onReportSucce,
            _params$onReportFail = params.onReportFail,
            onReportFail = _params$onReportFail === undefined ? function(_res) {
                console.warn("\u706f\u5854\u4e0a\u62a5\u5931\u8d25\uff0c\u5931\u8d25\u539f\u56e0\uff1a", _res)
            } : _params$onReportFail,
            faked_uin = 0,
            login_type =
                getCookie("login_type");
        if (login_type == 2) faked_uin = getCookie("ac_wx_user") ? JSON.parse(getCookie("ac_wx_user"))
            .faked_uid : 0;
        else if (login_type == 4) faked_uin = getCookie("faked_uin") || 0;
        window.__REPORTBEACON = BeaconAction && new BeaconAction({
            appkey: appkey,
            versionCode: versionCode,
            openid: faked_uin,
            isDebug: isDebug,
            delay: delay,
            onReportSuccess: onReportSuccess,
            onReportFail: onReportFail
        })
    }

    function reportBeacon() {
        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        var cb = arguments[1];
        var _params =
                params,
            eventName = _params.eventName,
            _params$terminal = _params.terminal,
            terminal = _params$terminal === undefined ? "" : _params$terminal,
            adtag = sessionStorage.getItem("__source_adTag") || getQueryString("adTag") || "",
            login_type = getCookie("login_type"),
            refer_url = document && document.referrer || "",
            refer_domain = "",
            _refereer = (/^\w+:\/\//.test(document.referrer) ? "" : "https://") + document.referrer,
            faked_uin = 0;
        refer_domain = document.referrer && _refereer && _refereer !== "https://" ? new URL(_refereer) ? (new URL(_refereer))
                .hostname :
            "" : "";
        terminal = terminal ? terminal : isIOS ? 8 : isAndroid ? 4 : isIPad ? 5 : "0";
        if (login_type == 2) faked_uin = getCookie("ac_wx_user") ? JSON.parse(getCookie("ac_wx_user"))
            .faked_uid : 0;
        else if (login_type == 4) faked_uin = getCookie("faked_uin") || 0;
        if (window.__REPORTBEACON && window.__REPORTBEACON.onDirectUserAction) {
            var beacon = window.__REPORTBEACON;
            console.log("\u4e0a\u62a5\u706f\u5854\u6570\u636e");
            console.log("params", params);
            params = Object.assign(params, {
                refer_url: refer_url,
                faked_uin: faked_uin,
                adtag: adtag,
                terminal: terminal,
                refer_domain: refer_domain
            });
            beacon.onDirectUserAction(eventName, params)
        } else if (BeaconAction) {
            initBeacon({
                onReportSuccess: function onReportSuccess(res) {
                    console.log("\u4e0a\u62a5\u706f\u5854\u6570\u636e\u6210\u529f\u4e86~~");
                    console.log("reportBeaconSuccess:", res);
                    if (cb && typeof cb == "function") cb()
                },
                onReportFail: function onReportFail(res) {
                    console.log("\u4e0a\u62a5\u706f\u5854\u6570\u636e\u5931\u8d25\u4e86~~");
                    console.log("reportBeaconFail:", res)
                }
            });
            console.log("\u6267\u884c\u4e0a\u62a5\u706f\u5854\u6570\u636e");
            console.log("params", params);
            params = Object.assign(params, {
                refer_url: refer_url,
                faked_uin: faked_uin,
                adtag: adtag,
                terminal: terminal
            });
            window.__REPORTBEACON && window.__REPORTBEACON.onDirectUserAction(eventName, params)
        } else console.warn("\u706f\u5854\u4e0a\u62a5SDK\u6216\u672a\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u8bf7\u68c0\u67e5\u76f8\u5173\u4ee3\u7801")
    }

    function downAppAndReport() {
        var appUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getAdUrl();
        var downAppTag = arguments.length > 1 && arguments[1] !==
        undefined ? arguments[1] : getDownAppTag();
        var virtualDomain = arguments[2];
        reportClick$1(downAppTag, virtualDomain);
        window.setTimeout(function() {
            window.location.href = appUrl
        }, 100)
    }

    function setAdUrls(_ref) {
        var iPad = _ref.url_ipad,
            iOS = _ref.url_ios,
            android = _ref.url_android;
        __opt.iPadAppUrl = iPad;
        __opt.iOSAppUrl = iOS;
        __opt.androidAppUrl = android
    }

    function getDefaultVirtualDomain() {
        var virtualDomain = __defaultOpt.virtualDomain;
        if (typeof virtualDomain === "function") {
            for (var _len3 = arguments.length, args = Array(_len3), _key3 =
                0; _key3 < _len3; _key3++) args[_key3] = arguments[_key3];
            virtualDomain = virtualDomain.apply(window, args)
        }
        return virtualDomain
    }

    function getVirtualDomain() {
        var virtualDomain = __opt.virtualDomain;
        if (typeof virtualDomain === "function") {
            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) args[_key4] = arguments[_key4];
            virtualDomain = virtualDomain.apply(window, args)
        }
        return virtualDomain
    }

    function getDefaultVirtualUrl() {
        var virtualUrl = __defaultOpt.virtualUrl;
        if (typeof virtualUrl === "function") {
            for (var _len5 =
                arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) args[_key5] = arguments[_key5];
            virtualUrl = virtualUrl.apply(window, args)
        }
        return virtualUrl
    }

    function getVirtualUrl() {
        var virtualUrl = __opt.virtualUrl;
        if (typeof virtualUrl === "function") {
            for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) args[_key6] = arguments[_key6];
            virtualUrl = virtualUrl.apply(window, args)
        }
        return virtualUrl
    }

    function getDefaultDownAppTag() {
        var downAppTag = __defaultOpt.downAppTag();
        if (typeof downAppTag ===
            "function") {
            for (var _len7 = arguments.length, args = Array(_len7), _key7 = 0; _key7 < _len7; _key7++) args[_key7] = arguments[_key7];
            downAppTag = downAppTag.apply(window, args)
        }
        return downAppTag
    }

    function getDownAppTag() {
        var downAppTag = __opt.downAppTag();
        if (typeof downAppTag === "function") {
            for (var _len8 = arguments.length, args = Array(_len8), _key8 = 0; _key8 < _len8; _key8++) args[_key8] = arguments[_key8];
            downAppTag = downAppTag.apply(window, args)
        }
        return downAppTag
    }

    function getDefaultAdUrl() {
        var iPadAppUrl = __defaultOpt.iPadAppUrl,
            iOSAppUrl = __defaultOpt.iOSAppUrl,
            androidAppUrl = __defaultOpt.androidAppUrl;
        return isIPad ? iPadAppUrl || iOSAppUrl : isIOS ? iOSAppUrl : androidAppUrl
    }

    function getAdUrl() {
        var iPadAppUrl = __opt.iPadAppUrl,
            iOSAppUrl = __opt.iOSAppUrl,
            androidAppUrl = __opt.androidAppUrl;
        return isIPad ? iPadAppUrl || iOSAppUrl : isIOS ? iOSAppUrl : androidAppUrl
    }
    var pingHelper = {
        flags: flags,
        setAutoDown: setAutoDown,
        init: init,
        reportVisit: reportVisit,
        reportClick: reportClick$1,
        initBeacon: initBeacon,
        reportBeacon: reportBeacon,
        downAppAndReport: downAppAndReport,
        setAdUrls: setAdUrls,
        getDefaultVirtualDomain: getDefaultVirtualDomain,
        getVirtualDomain: getVirtualDomain,
        getDefaultVirtualUrl: getDefaultVirtualUrl,
        getVirtualUrl: getVirtualUrl,
        getDefaultDownAppTag: getDefaultDownAppTag,
        getDownAppTag: getDownAppTag,
        getDefaultAdUrl: getDefaultAdUrl,
        getAdUrl: getAdUrl
    };
    var doms = null;

    function callbackPusher(cbs) {
        return {
            or: function or(cb) {
                if (typeof cb !== "function") throw new Error("catch \u5904\u7406\u5fc5\u987b\u662f\u51fd\u6570\uff0c\u7528\u6765\u5904\u7406\u547c\u8d77\u5931\u8d25\u7684\u60c5\u51b5");
                setAutoDown(false);
                cbs.push(cb);
                return this
            }
        }
    }

    function callCallbacks(cbs) {
        return function() {
            cbs.forEach(function(cb) {
                cb && typeof cb == "function" && cb()
            })
        }
    }

    function loadScheme(msgPre, ccb, needUniversal) {
        var msg = msgPre.replace(/{protocol}/, "txcomicout://");
        if (needUniversal && isIOS) {
            var msg2 = msgPre.replace(/{protocol}/, "http://universallink.m.ac.qq.com/");
            commonLoadScheme(msg2);
            setTimeout(function() {
                ccb()
            }, 2500)
        } else if (clientType == CLIENT.WEIXIN) {
            var callSchemeInWX = function callSchemeInWX() {
                WeixinJSBridge.invoke("launchApplication", {
                    schemeUrl: msg
                }, function(res) {
                    if (res.err_msg == "launchApplication:ok") return;
                    if ("launchApplication:fail" == res.err_msg) ccb()
                })
            };
            if (window.WeixinJSBridge && typeof WeixinJSBridge.invoke == "function") callSchemeInWX();
            else if (document.addEventListener) document.addEventListener("WeixinJSBridgeReady", callSchemeInWX, false);
            else if (document.attachEvent) {
                document.attachEvent("WeixinJSBridgeReady", callSchemeInWX);
                document.attachEvent("onWeixinJSBridgeReady", callSchemeInWX)
            }
        } else if (clientType == CLIENT.QQ) {
            var onGotApi =
                function onGotApi() {
                    if (isAndroid) mqq.app.isAppInstalled("com.qq.ac.android", function(result) {
                        if (result) commonLoadScheme(msg);
                        else ccb()
                    });
                    else {
                        mqq.app.launchApp({
                            name: msg
                        });
                        setTimeout(function() {
                            ccb()
                        }, 2500)
                    }
                };
            typeof mqq != "undefined" ? onGotApi() : loadScript("https://pub.idqqimg.com/qqmobile/qqapi.js", onGotApi)
        } else {
            commonLoadScheme(msg);
            setTimeout(function() {
                ccb()
            }, 2500)
        }
    }

    function commonLoadScheme(msg) {
        var ua = window.navigator.userAgent,
            isMQQBrowser = clientType == CLIENT.QQBROWSER,
            isChrome = (ua.match(/Chrome\/([\d.]+)/) ||
                ua.match(/CriOS\/([\d.]+)/)) && !isMQQBrowser,
            isSafari = ua.match(/Safari\/([\d.]+)\s*$/) && !isMQQBrowser,
            domType = isIOS && isSafari || isAndroid && isChrome ? "A" : "IFRAME",
            total = 10;
        if (!doms) {
            doms = {
                box: null,
                lastUsed: 0,
                list: []
            };
            var box = doms.box = document.createElement("div");
            box.className = "call-client-doms";
            box.style.display = "none";
            document.body.appendChild(box);
            for (var i = 0; i < total; i++) {
                var dom = document.createElement(domType);
                doms.list.push(dom);
                box.appendChild(dom)
            }
        }
        var index = (doms.lastUsed + 1) % total,
            dom = doms.list[index];
        doms.lastUsed = index;
        if (isIOS && isSafari) location.href = msg;
        else if (domType == "A") {
            dom.href = msg;
            dom.click()
        } else dom.src = msg
    }
    var callClient = function(msg, cb, needUniversal) {
        var cbs = [cb],
            ccb = callCallbacks(cbs);
        setTimeout(function() {
            loadScheme(msg, ccb, needUniversal)
        }, 0);
        return callbackPusher(cbs)
    };
    var UA$1 = window.navigator.userAgent;
    var _VER_NUMBER = 0;
    var ms$1 = /WITH_QQAC_UNIFY_API\/([0-9.]*)/i.exec(UA$1);
    var verStr$1 = ms$1 && ms$1[1];
    if (verStr$1) _VER_NUMBER = Number(verStr$1);
    var VER_NUMBER = _VER_NUMBER;
    var keyList = {};
    var callbackList = {};
    var Pre_Callbacks = {
        unLogin: function unLogin(res) {
            if (window.Dialog) Dialog.alert("\u767b\u5f55\u624d\u80fd\u53c2\u4e0e\u54e6~~", " ", "\u53bb\u767b\u5f55~")
                .then(function() {
                    ek.ac.User.Login()
                });
            else {
                alert("\u767b\u5f55\u624d\u80fd\u53c2\u4e0e\u54e6~~");
                ek.ac.User.Login()
            }
        },
        missApi: function missApi(res) {
            if (window.Dialog) Dialog.alert("\u5f53\u524d\u7248\u672cAPP\u4e0d\u652f\u6301\u6b64\u64cd\u4f5c\uff0c<br>\u8bf7\u66f4\u65b0\u5230\u6700\u65b0\u7248\u817e\u8baf\u52a8\u6f2bAPP<br>iOS\u7528\u6237\u8bf7\u5728App Store\u66f4\u65b0\u54e6~",
                "\u63d0\u793a", "\u66f4\u65b0\u817e\u8baf\u52a8\u6f2bAPP")
                .then(function() {
                    ek.ping.downAppAndReport()
                });
            else {
                alert("\u5f53\u524d\u7248\u672cAPP\u4e0d\u652f\u6301\u6b64\u64cd\u4f5c\n,\u8bf7\u66f4\u65b0\u5230\u6700\u65b0\u7248\u817e\u8baf\u52a8\u6f2bAPP");
                ek.ping.downAppAndReport()
            }
        },
        mistake: function mistake(res) {
            if (window.Dialog) Dialog.alert(res.msg);
            else alert(res.msg)
        },
        discardApi: function discardApi(res) {
            if (window.Dialog) Dialog.alert("\u9875\u9762\u9519\u8befQAQ<br>\u622a\u56fe\u8054\u7cfbQQ\uff1a1931804005\uff1b<br>\u9875\u9762\u7f51\u5740\uff1a" +
                window.location.href);
            else alert("\u9875\u9762\u9519\u8befQAQ\n\u622a\u56fe\u8054\u7cfbQQ\uff1a1931804005\uff1b\n\u9875\u9762\u7f51\u5740\uff1a" + window.location.href)
        }
    };
    var port = 0;
    var controlList = [];
    var txcomicOut = {
        User: {
            PopUpSignDialog: 2
        },
        Client: {
            CallUpComicDetail: 2,
            CallUpAnimationView_v3: 2,
            CallUpLiveQT: 2,
            CallUpLiveNow: 2,
            CallUpLeagueDetail: 2,
            CallUpTopicInComic: 2,
            CallUpTopicInLeague: 2,
            CallUpCategory: 2,
            CallUpBookshelfOfCollect: 2,
            CallUpBookshelfOfHistory: 2,
            CallUpBookshelfOfDownload: 2,
            CallUpUserMessage: 2,
            CallUpRank: 2,
            CallUpDailyGift: 2,
            CallUpSpecialGift: 2,
            CallUpFriendsGift: 2,
            CallUpComicList: 2,
            CallUpFeedback: 2,
            CallUpComicDownload: 2,
            CallUpTopicDetailOfV: 2,
            CallUpCommunityKOL: 2,
            CallUpCommunityFollow: 2,
            CallUpCooperationWangZhe: 2,
            CallUpComicViewContinue: 2,
            CallUpComicViewChapter: 2,
            CallUpHomeOfUpdate: 2,
            CallUpNovelDetail: 2,
            CallUpNovelViewChapter: 2,
            CallUpNovelViewContinue: 2,
            CallUpHomeTab: 2,
            CallUpTopicList: 2,
            CallUpCommunityIndoorsy: 2
        },
        WebView: {
            OpenUrl: 2
        },
        Action: {
            Go: 2
        }
    };
    if (isIOSApp) {
        var iframes = {
            box: null,
            lastUsed: 0,
            list: []
        };
        var total = 10;
        var createIframes = function createIframes() {
            if (iframes.box) return;
            var box = document.createElement("div");
            iframes.box = box;
            box.className = "call-client-iframes";
            box.style.display = "none";
            document.body.appendChild(box);
            for (var i = 0; i < total; i++) {
                var iframe = document.createElement("IFRAME");
                iframes.list.push(iframe);
                box.appendChild(iframe)
            }
        };
        document.addEventListener("DOMContentLoaded", createIframes, false);
        var callClientForiOS = function callClientForiOS(href, port) {
            if (!iframes.box) createIframes();
            for (var i = 0; i < total; i++)
                if (!iframes.list[i].src || iframes.list[i].getAttribute("data-use") == "true") {
                    iframes.list[i].src = href;
                    iframes.list[i].setAttribute("data-port", port);
                    iframes.list[i].setAttribute("data-use", "false");
                    return false
                }
        }
    }

    function acOutput(msg, detail) {
        var key = "[AC_API V" + VER_NUMBER + "]";
        if (window.SimpleLogger) {
            key = ['<span style="color: #1a83a6">', key, "</span>"].join("");
            var output = {};
            output[key] = msg;
            output.detail = detail;
            console.info(output)
        } else console.info(key + " " + msg, detail)
    }

    function reportClick$$1(className,
                            methodName, type) {
        reportClick$1("acApi." + className + "." + methodName + "." + type)
    }

    function checkParams(key, val, className, methodName) {
        console.log(key + "," + val);

        function showMistake(val, str) {
            var res = {
                msg: "\u64cd\u4f5c\u5931\u8d25 {" + key + ":" + val + "} \u53c2\u6570\u9519\u8bef," + str,
                status: -1
            };
            Pre_Callbacks.mistake(res)
        }
        switch (key) {
            case "comic_id":
            {
                val = Number(val) ? Number(val) : val;
                if (Number.isInteger(val) && val > 0 && val < 999999999);
                else {
                    showMistake(val, "\u8d85\u51fa\u8303\u56f4");
                    return false
                }
                break
            }
            case "rank_id":
            {
                val =
                    Number(val) ? Number(val) : val;
                if (Number.isInteger(val) && val > 0 && val < 100);
                else {
                    showMistake(val, "\u8d85\u51fa\u8303\u56f4");
                    return false
                }
                break
            }
            case "animation_id":
            case "topic_id":
            case "room_id":
            case "league_id":
            case "target_id":
            case "gift_id":
            case "uin":
            {
                val = Number(val) ? Number(val) : val;
                if (Number.isInteger(val) && val > 0);
                else {
                    showMistake(val, "\u975e\u6b63\u6574\u6570\u7c7b\u578b");
                    return false
                }
                break
            }
            case "vid":
            case "title":
            case "content":
            case "text":
            {
                if (typeof val == "string");
                else {
                    showMistake(val, "\u975estring\u7c7b\u578b");
                    return false
                }
                break
            }
            case "key":
            {
                if (className == "Client" && methodName == "CallUpComicList")
                    if (typeof val == "string");
                    else {
                        showMistake(val, "\u975e\u5b57\u7b26\u4e32\u7c7b\u578b");
                        return false
                    } break
            }
            case "tap":
            {
                if (className == "Client" && methodName == "CallUpComicDetail")
                    if (val == "info" || val == "catalog");
                    else {
                        showMistake(val, "\u975e\u679a\u4e3e\u53c2\u6570");
                        return false
                    } break
            }
            case "visible_type":
            case "screen_type":
            {
                if (val == 1 || val == 2);
                else {
                    showMistake(val, "\u975e\u679a\u4e3e\u7c7b\u578b");
                    return false
                }
                break
            }
            case "type":
            {
                if (className ==
                    "Client" && methodName == "CallUpComicList")
                    if (val == 1 || val == 2);
                    else {
                        showMistake(val, "\u975e\u679a\u4e3e\u7c7b\u578b");
                        return false
                    } if (className == "WebView" && methodName == "Toast")
                if (val == "success" || val == "warn" || val == "normal");
                else {
                    showMistake(val, "\u975e\u679a\u4e3e\u7c7b\u578b");
                    return false
                } break
            }
            case "url":
            {
                var reg = /(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g;
                if (reg.test(val));
                else {
                    showMistake(val, "\u975e\u94fe\u63a5\u5730\u5740");
                    return false
                }
                break
            }
            case "source":
            {
                if (className == "Pay")
                    if (typeof val ==
                        "string");
                    else {
                        showMistake(val, "\u975e\u5b57\u7b26\u4e32\u7c7b\u578b");
                        return false
                    }
                else {
                    val = Number(val) ? Number(val) : val;
                    if (Number.isInteger(val) && val > 0);
                    else {
                        showMistake(val, "\u975e\u6b63\u6574\u6570\u7c7b\u578b");
                        return false
                    }
                }
                break
            }
            default:
            {
                if (key.indexOf("_list") > 0) {
                    var flag = true;
                    var keyType = key.replace("_list", "");
                    for (var i = 0; i < val.length; i++) flag = checkParams(keyType, val[i], className, methodName) && flag;
                    return flag
                }
                break
            }
        }
        return true
    }

    function setInterface(obj) {
        var className = obj.className;
        var methodName =
            obj.methodName;
        var params = obj.params;
        var callback = obj.callback;
        var paramsType = obj.paramsType;
        var business = obj.business;
        if (!className) {
            console.error("convertInterface\u8f6c\u6362\u51fd\u6570\u7f3a\u5c11Method\u540d\u5b57\u6216\u7c7b\u578b\u9519\u8bef");
            return false
        }
        if (!methodName) {
            console.error("convertInterface\u8f6c\u6362\u51fd\u6570\u7f3a\u5c11Method\u540d\u5b57\u6216\u7c7b\u578b\u9519\u8bef");
            return false
        }
        if (!params) {
            params = {};
            console.warn("\u6ce8\u610f\uff0c\u8c03\u7528\u4e86" + className + "." + methodName +
                "\u65b9\u6cd5\uff0c\u6ca1\u6709\u4f20\u9012\u53c2\u6570")
        } else if (typeof params == "function") {
            callback = params;
            params = {};
            console.warn("\u6ce8\u610f\uff0c\u8c03\u7528\u4e86" + className + "." + methodName + "\u65b9\u6cd5\uff0c\u6ca1\u6709\u4f20\u9012\u53c2\u6570")
        } else if (Object.prototype.toString.call(params) != "[object Object]") {
            console.error("params\u53c2\u6570\u5fc5\u987b\u662f\u5bf9\u8c61\u7c7b\u578b");
            return false
        }
        if (!callback) console.warn("\u6ce8\u610f\uff0c\u8c03\u7528\u4e86" + className + "." + methodName +
            "\u65b9\u6cd5\uff0c\u6ca1\u6709\u4f20\u9012\u56de\u8c03\u51fd\u6570");
        else if (typeof callback != "function") {
            console.error("\u56de\u8c03\u51fd\u6570\u4e0d\u662ffunction\u7c7b\u578b\uff0c\u7c7b\u578b\u4f20\u9012\u51fa\u9519");
            return false
        }
        if (business) params.business = business;
        port++;
        controlList[port] = {
            callback: callback || function() {
                console.warn("\u5f53\u524d\u5e8f\u53f7\u4e3a" + port + "\u7684\u63a5\u53e3\u6ca1\u6709\u4f20\u5165\u56de\u8c03\u51fd\u6570")
            },
            interfaceName: className + "|" + methodName
        };
        var paramsStr =
            "";
        var reg = /callback_\w*/;
        if (paramsType == "json") {
            params._UserLoginInfo = true;
            params._DeviceInfo = true;
            params.keyList = keyList;
            for (var i in params)
                if ((i === "callback" || i.indexOf("callback_") === 0) && typeof params[i] === "function") {
                    var _callbackName = i.split("callback")[1] || "callback";
                    callbackList[className + "_" + methodName + "_" + port + _callbackName] = params[i];
                    params[i] = "ek.ac.callbackList." + className + "_" + methodName + "_" + port + _callbackName
                } paramsStr = "params=" + encodeURIComponent(JSON.stringify(params))
        } else {
            for (var _i in params)
                if (_i)
                    if ((_i ==
                        "callback" || reg.test(_i)) && typeof params[_i] == "function") {
                        var callbackName = _i.split("callback")[1] || "";
                        callbackList[className + "_" + methodName + "_" + port + callbackName] = params[_i];
                        paramsStr = paramsStr + "&" + _i + "=" + encodeURIComponent("ek.ac.callbackList." + className + "_" + methodName + "_" + port + callbackName)
                    } else if (checkParams(_i, params[_i], className, methodName))
                        if (_i.indexOf("_list") > 0) paramsStr = paramsStr + "&" + _i + "=" + encodeURIComponent(JSON.stringify(params[_i]));
                        else paramsStr = paramsStr + "&" + _i + "=" + encodeURIComponent(params[_i]);
                    else return {
                            or: function or() {}
                        };
            paramsStr = paramsStr.substring(1)
        }

        function consoleTxcomic(appType, interfaceType) {
            acOutput("\u8c03\u7528 " + className + "|" + methodName + " - " + port, {
                send: interfaceType + "://" + className + ":" + port + "/" + methodName + "?" + decodeURIComponent(paramsStr)
            })
        }
        if (isAndroidApp) {
            reportClick$$1(className, methodName, "in" + business);
            if (VER_NUMBER >= 2) {
                consoleTxcomic("Android", "txcomicin");
                window.prompt("txcomicin://" + className + ":" + port + "/" + methodName + "?" + paramsStr)
            } else if (VER_NUMBER == 1) {
                consoleTxcomic("Android",
                    "txcomic");
                window.prompt("txcomic://" + className + ":" + port + "/" + methodName + "?" + paramsStr)
            }
            return {
                or: function or() {}
            }
        } else if (isIOSApp) {
            reportClick$$1(className, methodName, "in" + business);
            if (VER_NUMBER >= 12) {
                consoleTxcomic("iOS", "txcomicin");
                window.prompt("txcomicin://" + className + ":" + port + "/" + methodName + "?" + paramsStr, port)
            } else if (VER_NUMBER >= 2) {
                consoleTxcomic("iOS", "txcomicin");
                callClientForiOS("txcomicin://" + className + ":" + port + "/" + methodName + "?" + paramsStr, port)
            } else if (VER_NUMBER == 1) {
                consoleTxcomic("iOS",
                    "txcomic");
                callClientForiOS("txcomic://" + className + ":" + port + "/" + methodName + "?" + paramsStr, port)
            }
            return {
                or: function or() {}
            }
        } else {
            reportClick$$1(className, methodName, "out" + business);
            if (txcomicOut[className] && txcomicOut[className][methodName] == 2) {
                consoleTxcomic("\u5916\u90e8\u63a5\u53e3", "txcomicout");
                return callClient("{protocol}" + className + ":" + port + "/" + methodName + "?" + paramsStr, function() {
                    if (flags.autoDownLoad)
                        if (window.showDownAppLink) window.showDownAppLink();
                        else if (window.toAssignHtml) window.location.href =
                            window.toAssignHtml;
                        else if (window.ModalBlocker) {
                            var __afterActionModalBlocker = new ModalBlocker({
                                content: "\u6253\u5f00\u201c\u817e\u8baf\u52a8\u6f2b\u201dAPP\uff0c\u9605\u8bfb\u8d85\u6e05\u6f2b\u753b",
                                props: {
                                    closeBtn: true,
                                    className: "after-action-guiding-blocker"
                                },
                                onOk: {
                                    text: "\u524d\u5f80\u5b89\u88c5",
                                    callback: function(cb) {
                                        downAppAndReport();
                                        cb()
                                    }
                                }
                            });
                            __afterActionModalBlocker.show()
                        } else {
                            alert("\u6b64\u6d3b\u52a8\u53ea\u80fd\u5728App\u5185\u53c2\u4e0e\u54e6~~");
                            downAppAndReport()
                        }
                }, false)
            } else console.warn("\u6b64\u63a5\u53e3:" +
                className + "." + methodName + "\u6ca1\u6709\u5916\u90e8\u63a5\u53e3")
        }
    }
    var inform = function inform(port, res, resDes) {
        resDes = resDes || {};
        acOutput("\u56de\u8c03 " + controlList[port]["interfaceName"] + " - " + port, {
            res: res,
            resDes: resDes
        });
        var iframe = document.querySelector('iframe[data-port="' + port + '"]');
        if (iframe) iframe.setAttribute("data-use", "true");
        if (resDes.from_server) controlList[port]["callback"].call(this, res);
        else if (res.status == 1) controlList[port]["callback"].call(this, res, controlList[port]["interfaceName"]);
        else if (res.status == 2) {
            if (res.data && res.data.key) keyList[controlList[port]["interfaceName"]] = res.data.key;
            controlList[port]["callback"].call(this, res)
        } else if (res.status == -99) Pre_Callbacks.unLogin.call(this, res, controlList[port]["interfaceName"]);
        else if (res.status == -2) Pre_Callbacks.missApi.call(this, res, controlList[port]["interfaceName"]);
        else if (res.status == -1) Pre_Callbacks.mistake.call(this, res, controlList[port]["interfaceName"]);
        else if (res.status == -3) Pre_Callbacks.discardApi.call(this, res, controlList[port]["interfaceName"])
    };

    function registerInterface(name, business) {
        return {
            User: function User(params, callback) {
                return setInterface({
                    className: "User",
                    methodName: name,
                    params: params,
                    callback: callback,
                    business: business
                })
            },
            Client: function Client(params, callback) {
                return setInterface({
                    className: "Client",
                    methodName: name,
                    params: params,
                    callback: callback,
                    business: business
                })
            },
            Pay: function Pay(params, callback) {
                return setInterface({
                    className: "Pay",
                    methodName: name,
                    params: params,
                    callback: callback,
                    business: business
                })
            },
            Share: function Share(params,
                                  callback) {
                return setInterface({
                    className: "Share",
                    methodName: name,
                    params: params,
                    callback: callback,
                    business: business
                })
            },
            WebView: function WebView(params, callback) {
                return setInterface({
                    className: "WebView",
                    methodName: name,
                    params: params,
                    callback: callback,
                    business: business
                })
            },
            Connect: function Connect(params, callback) {
                return setInterface({
                    className: "Connect",
                    methodName: name,
                    params: params,
                    callback: callback,
                    paramsType: "json",
                    business: business
                })
            },
            Device: function Device(params, callback) {
                return setInterface({
                    className: "Device",
                    methodName: name,
                    params: params,
                    callback: callback,
                    business: business,
                    paramsType: "json"
                })
            },
            Business: function Business(params, callback) {
                return setInterface({
                    className: "Business",
                    methodName: name,
                    params: params,
                    callback: callback,
                    paramsType: "json"
                })
            },
            Action: function Action(params, callback) {
                return setInterface({
                    className: "Action",
                    methodName: name,
                    params: params,
                    callback: callback,
                    paramsType: "json"
                })
            }
        }
    }

    function sample(params, callback) {}

    function interfaceLowerCase(name) {
        var name_start = name.charAt(0);
        var name_content =
            name.substring(1);
        return name_start.toLowerCase() + name_content
    }
    var User = {
        HasLogin: sample,
        Login: sample,
        UserCenter: sample,
        HasReadComic: sample,
        HasWatchAnimation: sample,
        HasSign: sample,
        HasTopicInComic: sample,
        HasTopicInLeague: sample,
        HasWatchLive: sample,
        HasShareComic: sample,
        HasFollowLeague: sample,
        HasCollect: sample,
        AddCollect: sample,
        RemoveCollect: sample,
        GetReadDuration: sample,
        PopUpSignDialog: sample,
        AddTopicInComic: sample,
        AddTopicInLeague: sample,
        SendGiftOfReadTicket: sample,
        ComicListOnWait: sample,
        TodayTask: sample,
        ComicMonthTicketDetail: sample,
        HasComment: sample,
        UpdateHistory: sample,
        UpdateCollect: sample
    };
    var UserUpdate = {
        HasWatchAnimation: "HasWatchAnimation_v2",
        HasReadComic: "HasReadComic_v2",
        HasTopicInComic: "HasTopicInComic_v2",
        HasTopicInLeague: "HasTopicInLeague_v2",
        HasWatchLive: "HasWatchLive_v2",
        HasShareComic: "HasShareComic_v2"
    };
    for (var i$1 in User) {
        User[i$1] = registerInterface(i$1)["User"];
        User[interfaceLowerCase(i$1)] = registerInterface(i$1)["User"];
        for (var j in UserUpdate)
            if (j == i$1) {
                User[i$1] = registerInterface(UserUpdate[j])["User"];
                User[interfaceLowerCase(i$1)] = registerInterface(UserUpdate[j])["User"]
            }
    }
    var Client = {
        CallUpComicDetail: sample,
        CallUpComicViewChapter: sample,
        CallUpComicViewContinue: sample,
        CallUpAnimationView: sample,
        CallUpLiveQT: sample,
        CallUpLiveNow: sample,
        CallUpLeagueDetail: sample,
        CallUpTopicInComic: sample,
        CallUpTopicInLeague: sample,
        CallUpCategory: sample,
        CallUpBookshelfOfCollect: sample,
        CallUpBookshelfOfHistory: sample,
        CallUpBookshelfOfDownload: sample,
        CallUpUserMessage: sample,
        CallUpRank: sample,
        CallUpDailyGift: sample,
        CallUpSpecialGift: sample,
        CallUpFriendsGift: sample,
        CallUpComicList: sample,
        CallUpFeedback: sample,
        CallUpComicDownload: sample,
        CallUpCooperationWangZhe: sample,
        CallUpTopicDetailOfV: sample,
        CallUpVCenterDetail: sample,
        CallUpCommunityKOL: sample,
        CallUpCommunityFollow: sample,
        CallUpCustomWebview: sample,
        CallUpNovelDetail: sample,
        CallUpNovelViewChapter: sample,
        CallUpNovelViewContinue: sample,
        CallUpHomeTab: sample,
        CallUpTopicList: sample,
        CallUpCommunityIndoorsy: sample
    };
    var ClientUpdate = {
        CallUpAnimationView: "CallUpAnimationView_v3"
    };
    for (var _i2 in Client) {
        Client[_i2] = registerInterface(_i2)["Client"];
        Client[interfaceLowerCase(_i2)] = registerInterface(_i2)["Client"];
        for (var _j in ClientUpdate)
            if (_j == _i2) {
                Client[_i2] = registerInterface(ClientUpdate[_j])["Client"];
                Client[interfaceLowerCase(_i2)] = registerInterface(ClientUpdate[_j])["Client"]
            }
    }
    var Pay = {
        VipPage: sample,
        PointTicketPage: sample,
        ReadBagPage: sample,
        MonthPage: sample,
        VipDialog: sample,
        PointTicketDialog: sample,
        ReadBagDialog: sample,
        MonthDialog: sample,
        ReadTicketPage: sample,
        CoinPage: sample,
        MonthTicketPage: sample,
        CoinDialog: sample,
        PropDialog: sample,
        VClubBuy: sample,
        VClubSubscribe: sample
    };
    var PayUpdate = {
        CoinDialog: "CoinDialog_v2"
    };
    for (var _i3 in Pay) {
        Pay[_i3] = registerInterface(_i3)["Pay"];
        Pay[interfaceLowerCase(_i3)] = registerInterface(_i3)["Pay"];
        for (var _j2 in PayUpdate)
            if (_j2 == _i3) {
                Pay[_i3] = registerInterface(PayUpdate[_j2])["Pay"];
                Pay[interfaceLowerCase(_i3)] = registerInterface(PayUpdate[_j2])["Pay"]
            }
    }
    var Share = {
        SetConfig: sample,
        PopUp: sample,
        Screenshot: sample
    };
    for (var _i4 in Share) {
        Share[_i4] =
            registerInterface(_i4)["Share"];
        Share[interfaceLowerCase(_i4)] = registerInterface(_i4)["Share"]
    }
    var WebView = {
        PopTopBar: sample,
        PopNativeEditor: sample,
        ChangeOrientation: sample,
        OpenUrl: sample,
        Close: sample,
        Back: sample,
        SupportList: sample,
        Update: sample,
        SetAppearConfig: sample,
        SetActiveConfig: sample,
        Toast: sample,
        SetWebBackConfig: sample,
        Screenshot: sample,
        SetScreenOn: sample,
        GetBasicInfo: sample,
        ShareImage: sample,
        SaveImage: sample,
        SetDomSnapshot: sample,
        GetLoadConfig: sample,
        FinishLoadPage: sample
    };
    var WebViewUpdate = {
        Back: "Back_v2"
    };
    for (var _i5 in WebView) {
        WebView[_i5] = registerInterface(_i5)["WebView"];
        WebView[interfaceLowerCase(_i5)] = registerInterface(_i5)["WebView"];
        for (var _j3 in WebViewUpdate)
            if (_j3 == _i5) {
                WebView[_i5] = registerInterface(WebViewUpdate[_j3])["WebView"];
                WebView[interfaceLowerCase(_i5)] = registerInterface(WebViewUpdate[_j3])["WebView"]
            }
    }
    var Connect = {
        Get: sample,
        Post: sample,
        NativeWebInterface: sample,
        Report: sample,
        Timing: sample
    };
    for (var _i6 in Connect) {
        Connect[_i6] = registerInterface(_i6)["Connect"];
        Connect[interfaceLowerCase(_i6)] = registerInterface(_i6)["Connect"]
    }
    var Device = {
        GetDeviceConfig: sample,
        AddUpdateData: sample,
        DeleteData: sample,
        SelectData: sample,
        GetAllData: sample,
        GetIdentityCode: sample
    };
    for (var _i7 in Device) {
        Device[_i7] = registerInterface(_i7)["Device"];
        Device[interfaceLowerCase(_i7)] = registerInterface(_i7)["Device"]
    }
    var Business = {
        TodayTaskReadComic: sample,
        TodayTaskShareComic: sample,
        TodayTaskCommunityKOLAddLike: sample,
        CallUpGashaponMachine: sample,
        CallUpGashaponList: sample,
        GetPayInfo: sample,
        SendMessage: sample,
        CallUpDetectFace: sample,
        CallUpComplexAnimation: sample,
        GetDeviceInfo: sample,
        InitDownloadApp: sample,
        StartDownloadApp: sample,
        PauseDownloadApp: sample,
        OpenDownloadApp: sample
    };
    for (var _i8 in Business) {
        Business[_i8] = registerInterface(_i8)["Business"];
        Business[interfaceLowerCase(_i8)] = registerInterface(_i8)["Business"]
    }
    Business.TodayTaskShareComic = registerInterface("CallUpBookshelfOfCollect", "TodayTask")["Client"];
    Business.TodayTaskCommunityKOLAddLike = registerInterface("CallUpCommunityKOL",
        "TodayTask")["Client"];
    var Action = {
        Go: sample,
        SendMessage: sample,
        Fix: function Fix(params, callback) {
            registerInterface(params.func)[params.class](params.params, callback)
        },
        Out: sample
    };
    for (var _i9 in Action)
        if (_i9 != "Fix") {
            Action[_i9] = registerInterface(_i9)["Action"];
            Action[interfaceLowerCase(_i9)] = registerInterface(_i9)["Action"]
        } var acApp = {
        VER_NUMBER: VER_NUMBER,
        keyList: keyList,
        callbackList: callbackList,
        Pre_Callbacks: Pre_Callbacks,
        txcomicOut: txcomicOut,
        inform: inform,
        User: User,
        Client: Client,
        Pay: Pay,
        Share: Share,
        WebView: WebView,
        Connect: Connect,
        Device: Device,
        Business: Business,
        Action: Action
    };
    var CLIENT = {
        QQAC_ANDROID: "QQAC_Android",
        QQAC_IOS: "QQAC_iOS",
        WEIXIN: "Weixin",
        QQ: "MobileQQ",
        MYAPP: "MyApp",
        WEIBO: "Weibo",
        QZONE: "QZone",
        QQNEWS: "QQNews",
        QQVIDEO: "QQVideo",
        QQBROWSER_HD: "QQBrowser_HD",
        QQBROWSER: "QQBrowser",
        UCBROWSER: "UCBrowser",
        MANGOTV: "MangoTV",
        OTHER: "Other"
    };
    var RULES = {
        QQAC_ANDROID: /(^| )QQAC_Client_Android( |\/|$)/i,
        QQAC_IOS: /(^| )QQAC_Client_iOS( |\/|$)/i,
        WEIXIN: /(^| )MicroMessenger( |\/|$)/i,
        QQ: /(^| )(QQ)( |\/|$)/i,
        MYAPP: /(^| |\/)(QQDownloader)( |\/|$)/i,
        WEIBO: /(^| )(Weibo)( |\/|$|\()/i,
        QZONE: /(^| )(Qzone)( |\/|$)/i,
        QQNEWS: /(^| )(QQNews)( |\/|$)/i,
        QQVIDEO: /(^| )(QQLiveBrowser)( |\/|$)/i,
        QQBROWSER_HD: /iPad.*?(^| )(MQQBrowser)( |\/|$)/i,
        QQBROWSER: /(^| )(MQQBrowser)( |\/|$)/i,
        UCBROWSER: /(^| )(UCBrowser)( |\/|$)/i,
        MANGOTV: /(^| )(ImgoTV-iphone|ImgoTV-aPhone)( |\/|$)/i
    };
    var _clientType = CLIENT.OTHER;
    var UA = window.navigator.userAgent;
    for (var type in CLIENT) {
        if (!CLIENT.hasOwnProperty(type) || !RULES.hasOwnProperty(type)) continue;
        if (RULES[type].test(UA)) {
            _clientType = CLIENT[type];
            break
        }
    }
    var clientType = _clientType;
    var isAndroid = /(^| |\()(android)(;| |\/|$)/i.test(UA);
    var isIOS = /(^| |\()(iPhone|iPad)(;| |\/|$)/i.test(UA);
    var os = isAndroid ? "Android" : isIOS ? "iOS" : "Other";
    var isIPad = /(^| |\()(iPad)(;| |\/|$)/i.test(UA);
    var isAndroidApp = clientType == CLIENT.QQAC_ANDROID;
    var isIOSApp = clientType === CLIENT.QQAC_IOS;
    var isApp = isAndroidApp || isIOSApp;
    var isWeixin = clientType == CLIENT.WEIXIN;
    var isQQ = clientType == CLIENT.QQ;
    var isQZone = clientType ==
        CLIENT.QZONE;
    var isSNS = isWeixin || isQQ || isQZone;
    var _appVerStr = "not_qqac_client";
    var _appVer = 0;
    var _appVers = [0];
    if (isApp) {
        var ms = /QQAC_Client_(Android|iOS)\/([0-9.]*)/i.exec(UA);
        var verStr = ms && ms[2];
        if (verStr) {
            _appVerStr = verStr;
            _appVer = parseFloat(verStr);
            _appVers = verStr.split(".")
        }
    }
    var appVerStr = _appVerStr;
    var appVer = _appVer;
    var appVers = _appVers;
    var base = {
        CLIENT: CLIENT,
        RULES: RULES,
        clientType: clientType,
        isAndroid: isAndroid,
        isIOS: isIOS,
        os: os,
        isIPad: isIPad,
        isAndroidApp: isAndroidApp,
        isIOSApp: isIOSApp,
        isApp: isApp,
        isWeixin: isWeixin,
        isQQ: isQQ,
        isQZone: isQZone,
        isSNS: isSNS,
        appVerStr: appVerStr,
        appVer: appVer,
        appVers: appVers
    };

    function encodeHTML(text) {
        var temp = document.createElement("div");
        temp.textContent != null ? temp.textContent = text : temp.innerText = text;
        var output = temp.innerHTML;
        temp = null;
        return output
    }

    function decodeHTML(html) {
        var temp = document.createElement("div");
        temp.innerHTML = html;
        var output = temp.innerText || temp.textContent;
        temp = null;
        return output
    }

    function preventHTML(text) {
        return text.replace(/</g,
            "&lt;")
    }
    var base64EncodeChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    var base64DecodeChars = new Array(-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1);

    function encodeBase64(str) {
        var out, i, len;
        var c1, c2, c3;
        len = str.length;
        i = 0;
        out = "";
        while (i < len) {
            c1 = str.charCodeAt(i++) & 255;
            if (i == len) {
                out += base64EncodeChars.charAt(c1 >> 2);
                out += base64EncodeChars.charAt((c1 & 3) << 4);
                out += "==";
                break
            }
            c2 = str.charCodeAt(i++);
            if (i == len) {
                out += base64EncodeChars.charAt(c1 >> 2);
                out += base64EncodeChars.charAt((c1 & 3) << 4 | (c2 & 240) >> 4);
                out += base64EncodeChars.charAt((c2 & 15) << 2);
                out += "=";
                break
            }
            c3 = str.charCodeAt(i++);
            out += base64EncodeChars.charAt(c1 >> 2);
            out += base64EncodeChars.charAt((c1 & 3) <<
                4 | (c2 & 240) >> 4);
            out += base64EncodeChars.charAt((c2 & 15) << 2 | (c3 & 192) >> 6);
            out += base64EncodeChars.charAt(c3 & 63)
        }
        return out
    }

    function decodeBase64(str) {
        var c1, c2, c3, c4;
        var i, len, out;
        len = str.length;
        i = 0;
        out = "";
        while (i < len) {
            do c1 = base64DecodeChars[str.charCodeAt(i++) & 255]; while (i < len && c1 == -1);
            if (c1 == -1) break;
            do c2 = base64DecodeChars[str.charCodeAt(i++) & 255]; while (i < len && c2 == -1);
            if (c2 == -1) break;
            out += String.fromCharCode(c1 << 2 | (c2 & 48) >> 4);
            do {
                c3 = str.charCodeAt(i++) & 255;
                if (c3 == 61) return out;
                c3 = base64DecodeChars[c3]
            } while (i <
            len && c3 == -1);
            if (c3 == -1) break;
            out += String.fromCharCode((c2 & 15) << 4 | (c3 & 60) >> 2);
            do {
                c4 = str.charCodeAt(i++) & 255;
                if (c4 == 61) return out;
                c4 = base64DecodeChars[c4]
            } while (i < len && c4 == -1);
            if (c4 == -1) break;
            out += String.fromCharCode((c3 & 3) << 6 | c4)
        }
        return out
    }

    function utf16To8(str) {
        var out, i, len, c;
        out = "";
        len = str.length;
        for (i = 0; i < len; i++) {
            c = str.charCodeAt(i);
            if (c >= 1 && c <= 127) out += str.charAt(i);
            else if (c > 2047) {
                out += String.fromCharCode(224 | c >> 12 & 15);
                out += String.fromCharCode(128 | c >> 6 & 63);
                out += String.fromCharCode(128 | c >> 0 &
                    63)
            } else {
                out += String.fromCharCode(192 | c >> 6 & 31);
                out += String.fromCharCode(128 | c >> 0 & 63)
            }
        }
        return out
    }

    function utf8To16(str) {
        var out, i, len, c;
        var char2, char3;
        out = "";
        len = str.length;
        i = 0;
        while (i < len) {
            c = str.charCodeAt(i++);
            switch (c >> 4) {
                case 0:
                case 1:
                case 2:
                case 3:
                case 4:
                case 5:
                case 6:
                case 7:
                    out += str.charAt(i - 1);
                    break;
                case 12:
                case 13:
                    char2 = str.charCodeAt(i++);
                    out += String.fromCharCode((c & 31) << 6 | char2 & 63);
                    break;
                case 14:
                    char2 = str.charCodeAt(i++);
                    char3 = str.charCodeAt(i++);
                    out += String.fromCharCode((c & 15) << 12 | (char2 &
                        63) << 6 | (char3 & 63) << 0);
                    break
            }
        }
        return out
    }

    function fromJSON(json) {
        try {
            return (new Function("return (" + json + ")"))()
        } catch (e) {
            return null
        }
    }

    function toJSON(obj, _last) {
        var buffer = [],
            type = Object.prototype.toString.call(obj),
            last = _last || [];
        if (last.indexOf(obj) >= 0) throw new Error("Converting circular structure to JSON");
        last.push(obj);
        switch (type) {
            case "[object Function]":
                break;
            case "[object Array]":
                buffer.push("[");
                for (var i = 0, l = obj.length; i < l; i++) {
                    buffer.push(toJSON(obj[i], last));
                    buffer.push(",")
                }
                if (buffer[buffer.length -
                1] == ",") buffer.pop();
                buffer.push("]");
                break;
            case "[object Object]":
                buffer.push("{");
                for (var k in obj)
                    if (obj.hasOwnProperty(k)) {
                        buffer.push('"');
                        buffer.push(k);
                        buffer.push('":');
                        buffer.push(toJSON(obj[k], last));
                        buffer.push(",")
                    } if (buffer[buffer.length - 1] == ",") buffer.pop();
                buffer.push("}");
                break;
            case "[object String]":
                buffer.push('"');
                buffer.push(obj.replace(/"/g, '\\"'));
                buffer.push('"');
                break;
            default:
                buffer.push(String(obj));
                break
        }
        last.pop();
        return buffer.join("")
    }
    var encodingHelper = {
        encodeHTML: encodeHTML,
        decodeHTML: decodeHTML,
        preventHTML: preventHTML,
        encodeBase64: encodeBase64,
        decodeBase64: decodeBase64,
        utf16To8: utf16To8,
        utf8To16: utf8To16,
        fromJSON: fromJSON,
        toJSON: toJSON
    };
    var _createClass = function() {
        function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor)
            }
        }
        return function(Constructor,
                        protoProps, staticProps) {
            if (protoProps) defineProperties(Constructor.prototype, protoProps);
            if (staticProps) defineProperties(Constructor, staticProps);
            return Constructor
        }
    }();

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function");
    }

    function ajax(_options) {
        var options = convertArgs(Array.prototype.slice.call(arguments, 0)),
            ajaxEntity = new AjaxEntity(options);
        window.setTimeout(function() {
            ajaxEntity.send()
        }, 0);
        return ajaxEntity
    }
    var convertArgs = function convertArgs(args) {
        var param = {
                url: "/action/",
                type: "get",
                data: {},
                timeout: 0,
                async: true,
                rawResult: false,
                pathArgs: false,
                success: function success() {},
                error: function error() {}
            },
            _param = null,
            i, p, t;
        if (Object.prototype.toString.call(args[0]) === "[object Object]") {
            _param = args[0];
            for (i in _param) {
                if (!_param.hasOwnProperty(i)) continue;
                param[i] = _param[i]
            }
        } else {
            var _prop = ["url", "type", "data", "timeout", "async", "rawResult", "pathArgs", "success", "error"],
                _type = ["string", "string", "object", "number",
                    "boolean", "boolean", "boolean", "function", "function"
                ];
            for (i = 0;
                 (p = _prop[i]) && (t = _type[i]); i++) {
                var _t = Object.prototype.toString.call(args[0]);
                if (_t.replace(/^\[object (.*?)]$/, "$1")
                    .toLowerCase() === t) param[p] = args.splice(0, 1)[0]
            }
        }
        return param
    };
    var AjaxEntity = function() {
        function AjaxEntity(options) {
            _classCallCheck(this, AjaxEntity);
            if (!(this instanceof AjaxEntity)) return new AjaxEntity(options);
            var self = this;
            self.options = options;
            self.status = {};
            self.data = options.data
        }
        _createClass(AjaxEntity, [{
            key: "send",
            value: function send(_data) {
                var self = this,
                    options = self.options,
                    status = self.status;
                self.data = _data ? options.data = _data : options.data;
                var xhr = self.createXHR(),
                    undefined = void 0,
                    url = String(options.url),
                    type = String(options.type || options.method)
                        .toLowerCase(),
                    async = !!options.async, timeout = parseInt(options.timeout), isGet = type === "get", isPost = type === "post", stamp = "t=" + String((new Date)
                        .getTime()), sp = url.indexOf("?") < 0 ? "?" : "&", finalUrl = url + sp + stamp, encodedData = status.encodedData = self.encodeData(), finalData = undefined;
                if (status.completed === false) throw new Error("\u8bf7\u6c42\u5c1a\u672a\u5b8c\u6210\uff0c\u6682\u65f6\u65e0\u6cd5\u518d\u6b21\u8bf7\u6c42");
                status.completed = false;
                if (isGet) finalUrl += "&" + encodedData;
                status.finalUrl = finalUrl;
                status.encodedData = encodedData;
                xhr.open(type.toUpperCase(), finalUrl, async);
                if (isPost) {
                    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                    finalData = encodedData
                }
                xhr.onreadystatechange = function() {
                    if (xhr.readyState == 4) self._xhrFinish(xhr.status, xhr.responseText)
                };
                timeout && self._abortTimeout(timeout);
                xhr.send(finalData);
                xhr.async = options.async
            }
        }, {
            key: "_xhrFinish",
            value: function _xhrFinish(code, res) {
                var self = this,
                    options = self.options,
                    status = self.status;
                if (status.completed) return;
                if (code == 200) {
                    if (!options.rawResult) try {
                        res = JSON.parse(res)
                    } catch (ex) {
                        self._complete(-1001, res, ex);
                        return
                    }
                    self._complete(code, res)
                } else {
                    var err = new Error("\u56de\u590d\u72b6\u6001\u5f02\u5e38");
                    self._complete(code, res, err)
                }
            }
        }, {
            key: "_abortTimeout",
            value: function _abortTimeout(time) {
                var self =
                        this,
                    status = self.status;
                status.abortTimeout = window.setTimeout(function() {
                    delete status.abortTimeout;
                    if (status.completed) return;
                    var err = new Error("\u8bf7\u6c42\u8d85\u65f6");
                    self._complete(-1E3, "", err)
                }, time)
            }
        }, {
            key: "_complete",
            value: function _complete(code, res, ex) {
                var self = this,
                    options = self.options,
                    status = self.status,
                    abortTimeout = status.abortTimeout;
                if (status.completed) return;
                status.completed = true;
                abortTimeout && window.clearTimeout(abortTimeout);
                delete status.abortTimeout;
                var success = options.success,
                    error = options.error;
                if (code == 200) success.apply(this, [res]);
                else error.apply(this, [code, res, ex])
            }
        }, {
            key: "createXHR",
            value: function createXHR() {
                var xhr = null;
                if (window.XMLHttpRequest) {
                    xhr = new XMLHttpRequest;
                    if (xhr.overrideMimeType) xhr.overrideMimeType("text/xml")
                } else if (window.ActiveXObject) try {
                    xhr = new ActiveXObject("Msxml2.XMLHTTP")
                } catch (e$96) {
                    try {
                        xhr = new ActiveXObject("Microsoft.XMLHTTP")
                    } catch (e) {}
                }
                if (!xhr) throw "\u65e0\u6cd5\u521b\u5efaXMLHttpRequest\u5bf9\u8c61";
                return xhr
            }
        }, {
            key: "encodeData",
            value: function encodeData() {
                var self = this,
                    data = self.data,
                    enJson = window.JSON && JSON.stringify,
                    buffer = [];
                if (data)
                    for (var key in data) {
                        if (!data.hasOwnProperty(key)) continue;
                        var value = data[key];
                        if (enJson && typeof value !== "string") value = enJson(value);
                        value = encodeURIComponent(value);
                        buffer.push(key + "=" + value)
                    }
                return buffer.join("&")
            }
        }]);
        return AjaxEntity
    }();
    var myAjax = {
        ajax: ajax
    };
    var inform$1 = inform;
    var CB = {
        callback2string: function callback2string(callback, keepAfterExec) {
            return anonymousCallbackExposer.expose(callback,
                keepAfterExec)
        },
        string2callback: function string2callback(func) {
            if (typeof func == "string") func = func.anonymousCallbackExposer.parse(func);
            return func
        },
        string2obj: function string2obj(obj) {
            if (typeof obj == "string") obj = JSON.parse(obj || "{}");
            return obj
        },
        parseCallbackRes: function parseCallbackRes(callback) {
            return function(res) {
                res = CB.string2obj(res);
                callback(res)
            }
        }
    };
    var _prompt = function() {
        if (isAndroidApp) return function(params, forceAsync) {
            var callback = params.callback;
            if (forceAsync) {
                delete params.callback;
                var res = window["prompt"](JSON.stringify(params));
                res = CB.string2obj(res);
                callback(res);
                return null
            } else {
                params.callback = CB.callback2string(function(res) {
                    res = CB.string2obj(res);
                    callback = CB.string2callback(callback);
                    callback.apply(params, arguments)
                });
                return window["prompt"](JSON.stringify(params))
            }
        };
        else if (isIOSApp) {
            var iframes = {
                box: null,
                lastUsed: 0,
                list: []
            };
            var total = 10,
                createIframes = function createIframes() {
                    if (iframes.box) return;
                    var box = document.createElement("div");
                    box.className = "call-client-iframes";
                    box.style.display = "none";
                    document.body.appendChild(box);
                    for (var i = 0; i < total; i++) {
                        var iframe = document.createElement("IFRAME");
                        iframes.list.push(iframe);
                        box.appendChild(iframe)
                    }
                    iframes.box = box
                };
            document.addEventListener("DOMContentLoaded", createIframes, false);
            return window["callClient"] = function(params, forceAsync) {
                if (!iframes.box)
                    if (document.body) createIframes();
                    else {
                        var args = [].slice.call(arguments, 0);
                        window.setTimeout(function() {
                            window["callClient"].apply(window, args)
                        }, 100);
                        return
                    } if (typeof params.callback ==
                    "function") params.callback = CB.callback2string(params.callback);
                var url = "callClient://".toLowerCase() + encodeURIComponent(JSON.stringify(params));
                var index = (iframes.lastUsed + 1) % total;
                iframes.list[index].src = url;
                iframes.lastUsed = index
            }
        } else return function() {
            console.log("_prompt: (%s)", JSON.stringify(Array.prototype.slice.call(arguments, 0)))
        }
    }();
    window["_prompt"] = _prompt;

    function isAppLogin(_callback) {
        var json = {
            "interface": "isLogin",
            "callback": function callback(response) {
                var obj = response;
                obj = CB.string2obj(obj);
                _callback = CB.string2callback(_callback);
                if (obj && obj.ret == 1) _callback(obj);
                else {
                    console.warn("[isLogin] result: ", response);
                    _callback(null)
                }
            }
        };
        _prompt(json, true)
    }

    function appLogin(callback) {
        var json = {
            "interface": "appLogin",
            "callback": callback
        };
        if (isAndroidApp) {
            json.callback = function(response) {
                var obj = response;
                obj = CB.string2obj(obj);
                callback = CB.string2callback(callback);
                if (obj && obj.ret == 1) isAppLogin(callback);
                else callback(null)
            };
            var obj = _prompt(json);
            obj = CB.string2obj(obj);
            if (obj && obj.ret == 1) isAppLogin(callback)
        } else _prompt(json)
    }

    function appRelogin(loginShowType, _callback2) {
        if (arguments.length == 1) {
            _callback2 = arguments[0];
            loginShowType = 1
        }
        var json = {
            "interface": "app_relogin",
            "login_show_type": loginShowType,
            "callback": function callback(response) {
                console.log("app_relogin callback: ", response);
                var obj = response;
                obj = CB.string2obj(obj);
                _callback2 = CB.string2callback(_callback2);
                if (obj && obj.ret == 1) isAppLogin(_callback2);
                else _callback2(null)
            }
        };
        console.log("app_relogin prompt: ", json);
        _prompt(json)
    }

    function goComicDetail(comicId) {
        if (!comicId) return;
        var json = {
            "interface": "goComicDetail",
            "data": {
                id: comicId
            }
        };
        _prompt(json)
    }

    function goUserCenter() {
        if (isIOS || isAndroid && appVer >= 5.2) {
            var json = {
                "interface": "goUserCenter",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goUserCenter \u63a5\u53e3")
    }

    function goVisitorCenter(uin) {
        if (isIOS || isAndroid && appVer >= 5.3) {
            var json = {
                "interface": "goVisitorCenter",
                "data": {
                    uin: uin
                }
            };
            _prompt(json, true)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goVisitorCenter \u63a5\u53e3")
    }

    function refreshUserCenter() {
        if (isIOS || isAndroid && appVer >= 5.5) {
            var json = {
                "interface": "refreshUserCenter",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 refreshUserCenter \u63a5\u53e3")
    }

    function goGround() {
        if (isIOS || isAndroid && appVer >= 5.4) {
            var json = {
                "interface": "goGround",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goGround \u63a5\u53e3")
    }

    function goHistory() {
        if (isIOS || isAndroid && appVer >= 5.4) {
            var json = {
                "interface": "goHistory",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goHistory \u63a5\u53e3")
    }

    function goHomePage() {
        if (isIOS || isAndroid && appVer >= 6.3) {
            var json = {
                "interface": "goHomePage",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goHomePage \u63a5\u53e3")
    }

    function goAnimationList() {
        if (isIOS || isAndroid && appVer >= 6.3) {
            var json = {
                "interface": "goAnimationList",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goAnimationList \u63a5\u53e3")
    }

    function goSignin() {
        if (isIOS || isAndroid && appVer >= 6.3) {
            var json = {
                "interface": "goSignin",
                "data": {}
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goSignin \u63a5\u53e3")
    }

    function goTopicDetail(id, topicId) {
        if (isIOS || isAndroid && appVer >= 5.4) {
            if (arguments.length == 1) {
                topicId = arguments[0];
                id = null
            }
            var json = {
                "interface": "goTopicDetail",
                "data": {
                    id: id,
                    topic_id: topicId
                }
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goTopicDetail \u63a5\u53e3")
    }

    function goLeague(leagueId) {
        if (isIOS ||
            isAndroid && appVer >= 6.1) {
            var json = {
                "interface": "goLeague",
                "data": {
                    league_id: leagueId
                }
            };
            _prompt(json)
        } else console.error("\u6b64\u7248\u672c\u6682\u4e0d\u652f\u6301 goLeague \u63a5\u53e3")
    }

    function collectComic(comicId, title, coverUrl, latedSeqno, callback) {
        if (!comicId || !title || !coverUrl) return;
        if (isIOS || isAndroid && appVer >= 5.2) {
            var json = {
                "interface": "collectComic",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    comic_id: comicId,
                    title: title,
                    cover_url: coverUrl,
                    lated_seqno: latedSeqno
                }
            };
            _prompt(json, true)
        }
    }

    function isComicCollected(comicId, callback) {
        if (!comicId) return;
        if (isIOS || isAndroid && appVer >= 5.2) {
            var json = {
                "interface": "isComicCollected",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    comic_id: comicId
                }
            };
            _prompt(json, true)
        }
    }

    function cancelComicCollected(comicId, callback) {
        if (!comicId) return;
        if (isIOS || isAndroid && appVer >= 5.2) {
            var json = {
                "interface": "cancelComicCollected",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    comic_id: comicId
                }
            };
            _prompt(json, true)
        }
    }

    function getReadHistory(comicId, callback) {
        if (!comicId) return;
        if (isIOS || isAndroid && appVer >= 5.2) {
            var json = {
                "interface": "getReadHistory",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    comic_id: comicId
                }
            };
            _prompt(json, true)
        }
    }

    function setReadHistory(comicId, title, coverUrl, cid, seq, callback) {
        if (!comicId) return;
        if (isIOS || isAndroid && appVer >= 5.2) {
            var json = {
                "interface": "setReadHistory",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    comic_id: comicId,
                    title: title,
                    cover_url: coverUrl,
                    chapter_id: cid,
                    seq_no: seq
                }
            };
            _prompt(json, true)
        }
    }

    function share(params) {
        var callback = params.callback;
        if (typeof callback == "function") callback = CB.callback2string(callback, true);
        var json = {
            "interface": "appShare",
            "callback": callback || "",
            "data": {
                "imgurl": params.imgurl,
                "title": params.title,
                "content": params.content,
                "pageurl": params.pageurl
            }
        };
        _prompt(json)
    }

    function setShareInfo(params) {
        if (isIOS || isAndroid && appVer >= 5.1) window.setTimeout(function() {
            var callback = params.callback;
            if (typeof callback == "function") callback = CB.callback2string(callback, true);
            var json = {
                "interface": "setShareInfo",
                "callback": callback ||
                    "",
                "data": {
                    "imgurl": params.imgurl,
                    "title": params.title,
                    "content": params.content,
                    "pageurl": params.pageurl
                }
            };
            _prompt(json)
        }, 100)
    }

    function deviceInfo(callback) {
        var json = {
            "interface": "device_info",
            "callback": CB.parseCallbackRes(callback)
        };
        _prompt(json, true)
    }

    function getAppNetWorkState(_callback3) {
        var json = {
            "interface": "getAppNetWorkState",
            "callback": function callback(getAppNetWorkState) {
                var obj = getAppNetWorkState;
                obj = CB.string2obj(obj);
                _callback3(obj)
            }
        };
        _prompt(json, true)
    }

    function webFinish() {
        var json = {
            "interface": "web_finish"
        };
        _prompt(json)
    }

    function goMidasDq(dq, canChange, pf, callback) {
        if (isIOS || isAndroid && appVer >= 5.4) {
            if (typeof pf === "function") {
                callback = pf;
                pf = null
            }
            pf = pf || "20120321";
            var json = {
                "interface": "goMidasDq",
                "callback": callback,
                "data": {
                    dq: dq,
                    pf: pf,
                    canChange: canChange
                }
            };
            _prompt(json)
        }
    }

    function goMidasVIP(month, aid, callback) {
        if (isIOS || isAndroid && appVer >= 5.4) {
            var productId = {
                1: "MHVIPD1",
                3: "MHVIPB3",
                6: "MHVIPC6",
                12: "MHVIPA12"
            } [month];
            if (!productId) throw new Error("\u5f00\u901a\u6708\u4efd\u6570\u6709\u8bef\uff0c\u4e0d\u80fd\u4e3a " +
                month);
            var json = {
                "interface": "goMidasVIP",
                "callback": callback,
                "data": {
                    productId: productId,
                    aid: aid
                }
            };
            _prompt(json)
        }
    }

    function goMidasVIPList(aid, callback) {
        if (isIOS || isAndroid && appVer >= 5.4) {
            var json = {
                "interface": "goMidasVIPList",
                "callback": callback,
                "data": {
                    aid: aid
                }
            };
            _prompt(json)
        }
    }

    function readBagPage(pf, callback) {
        if (arguments.length == 1) {
            callback = arguments[0];
            pf = ""
        }
        if (isIOS || isAndroid && appVer >= 6.2) {
            var json = {
                "interface": "read_bag_page",
                "callback": callback,
                "data": {
                    "pf": pf
                }
            };
            _prompt(json)
        }
    }

    function readBagPurchase(pf,
                             readBagId, callback) {
        if (arguments.length == 2) {
            callback = arguments[1];
            readBagId = arguments[0];
            pf = ""
        }
        if (isIOS || isAndroid && appVer >= 6.2) {
            var json = {
                "interface": "read_bag_purchase",
                "callback": callback,
                "data": {
                    "pf": pf,
                    "read_bag_id": readBagId
                }
            };
            _prompt(json)
        }
    }

    function changeOrientation(screenType, callback) {
        if (isIOS || isAndroid && appVer >= 6.2) {
            var json = {
                "interface": "event_orientation",
                "data": {
                    screen_type: screenType
                },
                "callback": callback || ""
            };
            _prompt(json)
        }
    }

    function nativeEditor(visibleType, callback) {
        if (isIOS || isAndroid &&
            appVer >= 6.2) {
            if (typeof callback == "function") callback = CB.callback2string(callback, true);
            var json = {
                "interface": "event_editor",
                "data": {
                    "visible_type": visibleType
                },
                "callback": callback || ""
            };
            _prompt(json)
        }
    }

    function setTopBarState(visibleType, callback) {
        if (isIOS || isAndroid && appVer >= 6.2) {
            var json = {
                "interface": "event_topBarState",
                "data": {
                    "visible_type": visibleType
                },
                "callback": callback || ""
            };
            _prompt(json)
        }
    }

    function dqIap(dq, callback) {
        if (isIOS) {
            var json = {
                "interface": "dqIap",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    dq: dq
                }
            };
            _prompt(json)
        }
    }

    function readBagIap(readBagId, isVip, callback) {
        if (isIOS) {
            isVip = isVip === undefined ? 0 : isVip;
            var priceList = {
                1010: [1, 1],
                8040: [8, 6]
            };
            var json = {
                "interface": "readBagIap",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    read_bag_price: priceList[readBagId][isVip],
                    read_bag_id: readBagId
                }
            };
            _prompt(json)
        }
    }

    function payVipIap(month, callback) {
        if (isIOS) {
            var json = {
                "interface": "payVipIap",
                "callback": CB.parseCallbackRes(callback),
                "data": {
                    month: month
                }
            };
            _prompt(json)
        }
    }
    var appPlus = {
        isAppLogin: isAppLogin,
        appRelogin: appRelogin,
        getAppNetWorkState: getAppNetWorkState,
        inform: inform$1,
        appLogin: appLogin,
        goComicDetail: goComicDetail,
        goUserCenter: goUserCenter,
        goVisitorCenter: goVisitorCenter,
        refreshUserCenter: refreshUserCenter,
        goGround: goGround,
        goHistory: goHistory,
        goHomePage: goHomePage,
        goAnimationList: goAnimationList,
        goSignin: goSignin,
        goTopicDetail: goTopicDetail,
        goLeague: goLeague,
        collectComic: collectComic,
        isComicCollected: isComicCollected,
        cancelComicCollected: cancelComicCollected,
        getReadHistory: getReadHistory,
        setReadHistory: setReadHistory,
        share: share,
        setShareInfo: setShareInfo,
        deviceInfo: deviceInfo,
        webFinish: webFinish,
        goMidasDq: goMidasDq,
        goMidasVIP: goMidasVIP,
        goMidasVIPList: goMidasVIPList,
        readBagPage: readBagPage,
        readBagPurchase: readBagPurchase,
        changeOrientation: changeOrientation,
        nativeEditor: nativeEditor,
        setTopBarState: setTopBarState,
        dqIap: dqIap,
        readBagIap: readBagIap,
        payVipIap: payVipIap
    };
    var shareConfig = window["shareConfig"] || {
        img_url: "http://ac.gtimg.com/h5_phone/logo-app_54661c9c1c4b5bfb.png",
        title: document.title ||
            "\u7cbe\u5f69\u6761\u6f2b - \u817e\u8baf\u52a8\u6f2b",
        desc: "\u4e2d\u56fd\u6700\u5927\u6700\u6743\u5a01\u7684\u6b63\u7248\u52a8\u6f2b\u7f51\u7ad9",
        link: window.location.href,
        callback: function callback(res) {
            console.log("onAppShare: ", res)
        }
    };

    function setShare(_shareConfig) {
        if (Object.prototype.toString.call(arguments[0]) === "[object Object]")
            for (var k in _shareConfig) {
                if (_shareConfig.hasOwnProperty(k)) shareConfig[k] = _shareConfig[k]
            } else if (typeof arguments[0] === "string" && arguments[1]) {
            var key = arguments[0],
                value = arguments[1];
            shareConfig && (shareConfig[key] = value)
        } setQQShare();
        setWxShare();
        setQQBrowserShare();
        if (isApp) setAppShare()
    }

    function readMeta(itemProp) {
        return document.querySelector('meta[itemprop="' + itemProp + '"]')
            .getAttribute("content")
    }

    function appShare(cb) {
        var _callback = shareConfig.callback;
        if (VER_NUMBER > 0) Share.PopUp();
        else share({
            "imgurl": shareConfig.img_url,
            "title": shareConfig.title,
            "content": shareConfig.desc,
            "pageurl": shareConfig.link,
            "callback": function callback(res) {
                if (typeof _callback ==
                    "string") {
                    var name = _callback.replace(/^window\./i, "");
                    _callback = window[name]
                }
                if (typeof _callback == "function") _callback(res);
                cb && cb(res)
            }
        })
    }

    function setAppShare() {
        if (VER_NUMBER > 0) Share.SetConfig({
            "imgurl": shareConfig.img_url,
            "title": shareConfig.title,
            "content": shareConfig.desc,
            "pageurl": shareConfig.link,
            "callback": shareConfig.callback
        });
        else setShareInfo({
            "imgurl": shareConfig.img_url,
            "title": shareConfig.title,
            "content": shareConfig.desc,
            "pageurl": shareConfig.link,
            "callback": shareConfig.callback
        })
    }
    var wxShareContent = {};

    function setWxShare() {
        var callback = shareConfig.callback;
        callback = typeof callback === "string" ? window[callback] : callback;
        callback = typeof callback === "function" ? callback : null;
        wxShareContent = {
            "img_url": shareConfig.img_url,
            "img_width": 120,
            "img_height": 120,
            "link": shareConfig.link,
            "desc": shareConfig.desc,
            "title": shareConfig.title,
            "title_raw": shareConfig.title,
            "callback": callback
        };
        var _share = function _share() {
            try {
                WeixinJSBridge.on("menu:share:timeline", function(argv) {
                    var shareContent = wxShareContent,
                        callback =
                            shareContent.callback;
                    shareContent.title = shareConfig.title_timeline || shareContent.title;
                    WeixinJSBridge.invoke("shareTimeline", shareContent, function(res) {
                        callback && callback(res)
                    })
                });
                WeixinJSBridge.on("menu:share:appmessage", function(argv) {
                    var shareContent = wxShareContent,
                        callback = shareContent.callback;
                    shareContent.title = shareConfig.title_raw || shareContent.title;
                    WeixinJSBridge.invoke("sendAppMessage", shareContent, function(res) {
                        callback && callback(res)
                    })
                })
            } catch (e) {}
        };
        if (window.WeixinJSBridge && typeof WeixinJSBridge.invoke ==
            "function") _share();
        else if (document.addEventListener) document.addEventListener("WeixinJSBridgeReady", _share, false);
        else if (document.attachEvent) {
            document.attachEvent("WeixinJSBridgeReady", _share);
            document.attachEvent("onWeixinJSBridgeReady", _share)
        }
    }

    function setQQShare() {
        if (clientType !== CLIENT.QQ) return;
        var callback = shareConfig.callback;
        callback = typeof callback === "string" ? window[callback] : callback;
        callback = typeof callback === "function" ? callback : null;
        _setQQShare2({
            "share_url": shareConfig.link,
            "title": shareConfig.title,
            "desc": shareConfig.desc,
            "image_url": shareConfig.img_url
        }, callback)
    }
    var _setQQShare2 = function _setQQShare() {
        _setQQShare2.cache = arguments
    };
    if (clientType === CLIENT.QQ) typeof mqq != "undefined" ? onGotApi() : loadScript("https://pub.idqqimg.com/qqmobile/qqapi.js", onGotApi);

    function onGotApi() {
        var cache = _setQQShare2.cache,
            mqqData = window["mqq"] && window["mqq"].data,
            setShare = mqqData && mqqData.setShareInfo;
        cache && setShare.apply(setShare || window, cache);
        _setQQShare2 = setShare
    }

    function setQQBrowserShare() {
        if (clientType !==
            CLIENT.QQBROWSER) return;
        var callback = shareConfig.callback;
        callback = typeof callback === "string" ? window[callback] : callback;
        callback = typeof callback === "function" ? callback : null;
        _setQQBrowserShare2({
            "url": shareConfig.link,
            "title": shareConfig.title,
            "description": shareConfig.desc,
            "img_url": shareConfig.img_url
        }, callback)
    }
    var _setQQBrowserShare2 = function _setQQBrowserShare() {
        _setQQBrowserShare2.cache = arguments
    };

    function QQBrowserShare() {
        if (clientType !== CLIENT.QQBROWSER) return;
        var callback = shareConfig.callback;
        callback = typeof callback === "string" ? window[callback] : callback;
        callback = typeof callback === "function" ? callback : null;
        _QQBrowserShare2({
            "url": shareConfig.link,
            "title": shareConfig.title,
            "description": shareConfig.desc,
            "img_url": shareConfig.img_url
        }, callback)
    }
    var _QQBrowserShare2 = function _QQBrowserShare() {
        _QQBrowserShare2.cache = arguments
    };
    if (clientType === CLIENT.QQBROWSER) loadScript("http://jsapi.qq.com/get?api=app.canShareTo,app.setShareInfo,app.share", function() {
        var cache1 = _setQQBrowserShare2.cache,
            cache2 =
                _QQBrowserShare2.cache,
            browserApp = window["browser"] && window["browser"].app,
            setShare = browserApp && browserApp.setShareInfo,
            share$$1 = browserApp && browserApp.share;
        cache1 && setShare.apply(browserApp || window, cache1);
        cache2 && share$$1.apply(browserApp || window, cache2);
        _setQQBrowserShare2 = setShare;
        _QQBrowserShare2 = share$$1
    });
    var _shareToQZone = function _shareToQZone() {
        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        var siteUrl = "http://" + getDomain() + "/";
        var defaultParams = {
            uin: "",
            skey: "",
            lskey: "",
            sid: "",
            title: "\u817e\u8baf\u52a8\u6f2b",
            summary: "\u817e\u8baf\u52a8\u6f2b",
            desc: "\u817e\u8baf\u52a8\u6f2b",
            imageUrl: "",
            url: siteUrl,
            site: siteUrl,
            successUrl: siteUrl,
            page: "qzshare.html",
            loginpage: "loginindex.html",
            logintype: "qzone"
        };
        var actionUrl = "http://openmobile.qq.com/api/check2";
        var formContent = [];
        for (var key in defaultParams) {
            if (!defaultParams.hasOwnProperty(key)) continue;
            var value = params[key];
            if (value === undefined) value = defaultParams[key];
            formContent.push('<input type="hidden" name="' +
                key + '" value="' + value + '" />')
        }
        var div = document.createElement("div");
        div.className = "qzone-share-form";
        document.body.appendChild(div);
        var form = document.createElement("form");
        form.action = actionUrl;
        form.method = "GET";
        form.innerHTML = formContent.join("\n");
        div.appendChild(form);
        form.submit();
        box.removeChild(form)
    };

    function shareToQZone(user) {
        user = user || {};
        var uin = user.uin || "";
        var skey = user.skey || "";
        var lskey = user.lskey || "";
        var sid = user.sid || "";
        var url = shareConfig.link;
        var title = shareConfig.title;
        var img =
            shareConfig.img_url;
        var desc = shareConfig.desc;
        var summary = shareConfig.title;
        var prefix = url.indexOf("?") + 1 ? "&" : "?";
        var successUrl = shareConfig.successUrl || url + (typeof shareConfig.callback === "string" ? prefix + "shareCallback=" + shareConfig.callback : "");
        _shareToQZone({
            uin: uin,
            skey: skey,
            lskey: lskey,
            sid: sid,
            title: title,
            desc: desc,
            imageUrl: img,
            url: url,
            summary: summary,
            successUrl: successUrl
        })
    }
    var shareHelper = {
        shareConfig: shareConfig,
        setShare: setShare,
        readMeta: readMeta,
        appShare: appShare,
        setAppShare: setAppShare,
        setWxShare: setWxShare,
        setQQShare: setQQShare,
        setQQBrowserShare: setQQBrowserShare,
        QQBrowserShare: QQBrowserShare,
        shareToQZone: shareToQZone
    };

    function frontPage() {
        return callClient("txcomic://frontpage/path")
    }

    function web(url, title) {
        return callClient("txcomic://web/path?url=" + encodeURIComponent(url) + "&title=" + encodeURIComponent(title))
    }

    function topic(topicId) {
        return callClient("txcomic://topic/path?topic_id=" + topicId)
    }

    function prpr(pid) {
        return callClient("txcomic://prpr/path?pid=" + pid)
    }

    function detail(comicId) {
        return callClient("txcomic://detail/comic?comic_id=" +
            comicId)
    }

    function cartoon(cartoonId, cartoonTitle) {
        return callClient("txcomic://cartoon/path?cartoon_id=" + encodeURIComponent(cartoonId) + "&cartoon_title=" + encodeURIComponent(cartoonTitle))
    }

    function league(leagueId) {
        return callClient("txcomic://league/path?league_id=" + encodeURIComponent(leagueId))
    }
    var appScheme = {
        frontPage: frontPage,
        web: web,
        topic: topic,
        prpr: prpr,
        detail: detail,
        cartoon: cartoon,
        league: league
    };
    (function() {
        var pt_logout = {
            ret: 0,
            appDomain: "",
            mainDomain: "",
            httpWhiteDomain: {
                "qq.com": 1,
                "soso.com": 1,
                "paipai.com": 1,
                "tenpay.com": 1,
                "taotao.com": 1,
                "tencent.com": 1,
                "oa.com": 1,
                "webdev.com": 1,
                "3366.com": 1,
                "imqq.com": 1,
                "pengyou.com": 1,
                "qplus.com": 1,
                "qzone.com": 1,
                "server.com": 1,
                "myapp.com": 1,
                "kuyoo.cn": 1,
                "weiyun.com": 1,
                "wechatapp.com": 1,
                "51buy.com": 1,
                "yixun.com": 1,
                "qcloud.com": 1,
                "wechat.com": 1,
                "weishi.com": 1,
                "superfix.cn": 1,
                "bkcloud.cc": 1,
                "bkclouds.cc": 1
            },
            getCookie: function getCookie$$1(o) {
                var t = document.cookie.match(new RegExp("(^| )" + o + "=([^;]*)(;|$)"));
                return t ? decodeURIComponent(t[2]) : ""
            },
            delCookie: function delCookie(o,
                                          t, n) {
                document.cookie = o + "=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path=" + (n ? n : "/") + "; " + (t ? "domain=" + t + ";" : "")
            },
            jsonp: function jsonp(o) {
                var t = document.createElement("script");
                t.setAttribute("src", o), document.getElementsByTagName("head")[0].appendChild(t), t.onerror = function() {
                    t.onerror = null, pt_logout.set_ret(0, "")
                }
            },
            nlog: function nlog(o, t, n) {
                if (Math.random() <= (n || 1)) {
                    var e = "https:" == location.protocol ? "https://ssl.qq.com/ptlogin/cgi-bin/ptlogin_report?" : "http://log.wtlogin.qq.com/cgi-bin/ptlogin_report?",
                        p = location.href,
                        i = encodeURIComponent(o + "|_|" + p + "|_|" + window.navigator.userAgent),
                        l = e + "mid=" + t + "&msg=" + i + "&v=" + Math.random(),
                        u = new Image;
                    u.src = l
                }
            },
            init: function init() {
                var o = location.hostname.match(/\w*\.(cc|com|cn|com\.cn)$/);
                pt_logout.mainDomain = o ? o[0] : "", pt_logout.httpWhiteDomain[pt_logout.mainDomain] || pt_logout.nlog("\u516c\u53f8\u5916\u90e8\u57df\u540d\u5f15\u7528logout", "350448");
                var t = location.hostname.match(/\w+(\.\w+)\.(cc|com|cn|com\.cn)$/);
                pt_logout.appDomain = t ? t[0] : "", "qq.com" != pt_logout.mainDomain &&
                (pt_logout.appDomain = pt_logout.mainDomain), pt_logout.nlog("logout pv", "365716", .05)
            },
            getLogoutUrl: function getLogoutUrl(o) {
                var t = pt_logout.getCookie("pt4_token"),
                    n = pt_logout.getCookie("skey"),
                    e = pt_logout.time33(n),
                    p = pt_logout.getCookie("ptcz"),
                    i = pt_logout.hash33(p),
                    l = "",
                    u = o ? "qq.com" : pt_logout.mainDomain;
                return l = ("https:" == location.protocol ? "https://ssl." : "http://") + "ptlogin2." + u + "/logout?", l += "pt4_token=" + t + "&pt4_hkey=" + e + "&pt4_ptcz=" + i + "&deep_logout=1"
            },
            time33: function time33(o) {
                for (var t = 0, n = 0,
                         e = o.length; e > n; n++) t = 33 * t + o.charCodeAt(n);
                return t % 4294967296
            },
            hash33: function hash33(o) {
                for (var t = 0, n = 0, e = o.length; e > n; ++n) t += (t << 5) + o.charCodeAt(n);
                return 2147483647 & t
            },
            clearCookie: function clearCookie(o) {
                o = o || pt_logout.appDomain, pt_logout.delCookie("p_uin", o), pt_logout.delCookie("p_skey", o), pt_logout.delCookie("p_luin", o), pt_logout.delCookie("p_lskey", o), pt_logout.delCookie("pt4_token", o), pt_logout.delCookie("pt_mbkey", pt_logout.mainDomain || "qq.com"), "" != pt_logout.appDomain && "" != pt_logout.getCookie("skey_m") &&
                (pt_logout.delCookie("uin_m", pt_logout.appDomain), pt_logout.delCookie("skey_m", pt_logout.appDomain))
            },
            set_ret: function set_ret(o, t) {
                try {
                    var n = pt_logout.getCookie("pt4_token");
                    pt_logout.clearCookie(t), o > 0 || (pt_logout.delCookie("uin", pt_logout.mainDomain), pt_logout.delCookie("skey", pt_logout.mainDomain), pt_logout.nlog("logout fail", "285851", .1)), "function" == typeof pt_logout.callback && pt_logout.callback(2), "" != t && t != pt_logout.appDomain && pt_logout.nlog("domain unsame:n=" + o + ":pt4_token=" + n + ":cgi_domain=" +
                        t + ":js_domain=" + pt_logout.appDomain, "285852", .1)
                } catch (e) {
                    return
                }
            },
            logout: function logout(o, t) {
                pt_logout.init();
                var n = pt_logout.getCookie("pt4_token"),
                    e = pt_logout.getCookie("skey"),
                    p = pt_logout.getCookie("ptcz");
                "function" == typeof o && (pt_logout.callback = o);
                var i = pt_logout.getLogoutUrl(t);
                n || e || p ? pt_logout.jsonp(i) : ("function" == typeof o && o(2), pt_logout.nlog("logout without cookie", 365715))
            },
            logoutQQCom: function logoutQQCom(o) {
                pt_logout.logout(o, !0), pt_logout.delCookie("uin", pt_logout.mainDomain), pt_logout.delCookie("skey",
                    pt_logout.mainDomain)
            }
        };
        window.pt_logout = pt_logout;
        window.qc_logout = QC.Login.signOut
    })();

    function login(backUrl, useOneKey) {
        if (Object.prototype.toString.call(arguments[0]) === "[object Object]") {
            var opts = arguments[0];
            backUrl = opts["backUrl"];
            useOneKey = opts["useOneKey"]
        }
        backUrl = encodeURIComponent(backUrl || window.location);
        var redirect_uri = encodeURIComponent(window.location.protocol + "//m.ac.qq.com/loginSuccess.html?back_url=") + backUrl;
        window.location.href = "https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101483258&redirect_uri=" +
            redirect_uri
    }

    function isLogin() {
        var uin = getCookie("uin");
        uin = String(Number(uin.replace(/^[^0-9]/, "")));
        var skey = getCookie("skey"),
            lskey = getCookie("lskey"),
            login_type = getCookie("login_type"),
            open_id = getCookie("open_id"),
            access_token = getCookie("access_token");
        if (login_type) return {
            open_id: open_id,
            access_token: access_token
        };
        else if (uin && uin != 0) return {
            uin: uin,
            skey: skey,
            lskey: lskey
        };
        else return null
    }

    function isLogin_async(callback) {
        window.setTimeout(function() {
            var user = isLogin();
            callback(user)
        }, 0)
    }

    function logout(backUrl) {
        removeCookie("ac_wx_user",
            ".qq.com", "/");
        var wlh = backUrl || "http://" + window.location.host;
        removeCookie("access_token", ".qq.com", "/");
        removeCookie("open_id", ".qq.com", "/");
        removeCookie("login_type", ".qq.com", "/");
        removeCookie("faked_uin", ".qq.com", "/");
        removeCookie("qq_head", ".qq.com", "/");
        removeCookie("nick_name", ".qq.com", "/");
        qc_logout();
        removeCookie("access_token", ".ac.qq.com", "/");
        removeCookie("open_id", ".ac.qq.com", "/");
        removeCookie("login_type", ".ac.qq.com", "/");
        pt_logout.logout(function() {
            removeCookie("luin", ".qq.com",
                "/");
            removeCookie("lskey", ".qq.com", "/")
        });
        pt_logout.clearCookie();
        if (backUrl !== false) setTimeout(function() {
            window.location.href = wlh
        }, 200)
    }
    var loginLite = {
        login: login,
        isLogin: isLogin,
        isLogin_async: isLogin_async,
        logout: logout
    };
    ! function() {
        function e(e) {
            var n, i = e.source;
            for (var t in f) f[t].contentWindow === i && (n = t);
            if (n) {
                var o, a = f[n];
                try {
                    o = JSON.parse(e.data)
                } catch (e$97) {}
                o && a._handle(o.action, o.data)
            }
        }

        function n() {
            v.forEach(function(e) {
                e.resize()
            })
        }

        function i(e, n, i) {
            var t = document.getElementsByTagName("head")[0],
                o = document.createElement("script"),
                a = function a() {
                    if (o) {
                        try {
                            o.src = ""
                        } catch (e$98) {}
                        o.removeEventListener("load", a), t.removeChild(o), o = null, "function" == typeof n && n(i, !0)
                    }
                };
            o.addEventListener("load", a), o.src = e, t.insertBefore(o, t.firstChild)
        }

        function t(e, n) {
            var i = {};
            return n.forEach(function(n) {
                void 0 !== e[n] ? i[n] = encodeURIComponent(e[n]) : void 0 !== e["@raw-" + n] && (i[n] = e["@raw-" + n])
            }), i
        }

        function o(e, n) {
            var i = [];
            for (var t in e) i.push(t + "=" + (n ? encodeURIComponent(e[t]) : e[t]));
            return i.join("&")
        }

        function a(e) {
            for (var n =
                1; n <= arguments.length; n++)
                for (var i in arguments[n]) e[i] = arguments[n][i];
            return e
        }

        function s(e) {
            var n = document.cookie.match(new RegExp("(?:^|;\\s)" + e + "=(.*?)(?:;\\s|$)"));
            return n ? n[1] : ""
        }

        function r(e, n, i) {
            function t(e, n) {
                if (!e) return "";
                var i = [];
                for (var t in e) "undefined" == typeof e[t] && null == e[t] || i.push(t + "=" + (n ? encodeURIComponent(e[t]) : e[t]));
                return i.join("&")
            }
            i = i || {};
            var o = window.webkitPerformance || window.performance;
            i = a({
                6: 10,
                7: 0,
                8: n ? encodeURIComponent(t(n, !0)) : "",
                13: E++,
                21: e,
                29: b,
                31: "stdV2.13.12.1",
                35: o && o.timing && o.timing.navigationStart ? o.timing.navigationStart : "",
                36: "",
                38: (new Date)
                    .getTime(),
                42: encodeURIComponent(location.href.split("#")[0].substr(0, 1E3)),
                50: navigator.userAgent
            }, i);
            var s = [];
            for (var r in i) s.push(r + "=" + encodeURIComponent(i[r]));
            setTimeout(function() {
                var e = "https://szmg.qq.com/cgi-bin/log_data.fcg",
                    n = new XMLHttpRequest;
                n.timeout = 1E4, n.onerror = function() {}, n.open("POST", e, !0), n.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), n.send("offer_id=15499&num=1&record0=" +
                    encodeURIComponent(s.join("|")) + "&rr=" + Math.random())
            }, 0)
        }

        function c(e) {
            function n(e) {
                e = e.split(".");
                for (var n, i = window, t = 0; t < e.length && (n = i, i = i[e[t]], i); t++);
                return i ? {
                    fn: i,
                    scope: n
                } : null
            }
            if (0 === e.indexOf("mqq.")) {
                var i = n(e),
                    t = Array.prototype.slice.call(arguments, 1);
                i ? i.fn.apply(i.scope, t) : d(function() {
                    var i = n(e);
                    i.fn.apply(i.scope, t)
                })
            }
        }

        function d(e) {
            i(S + "//pub.idqqimg.com/qqmobile/qqapi.js?_bid=152", function() {
                e()
            })
        }

        function l(e, n) {
            var i, t = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
                o = t,
                a = [];
            if (n = n || o.length, e)
                for (i = 0; i < e; i++) a[i] = o[0 | Math.random() * n];
            else {
                var s;
                for (a[8] = a[13] = a[18] = a[23] = "-", a[14] = "4", i = 0; i < 36; i++) a[i] || (s = 0 | 16 * Math.random(), a[i] = o[19 == i ? 3 & s | 8 : s])
            }
            return a.join("")
        }

        function p(e) {
            function n() {
                WeixinJSBridge.invoke("launchApplication", {
                    schemeUrl: e
                }, function(n) {
                    "launchApplication:ok" !== n.err_msg && (/Android/.test(navigator.userAgent) ? location.href = e : WeixinJSBridge.invoke("launchApplication", {
                        appID: "mqqapi",
                        parameter: e.replace(/^mqqapi:\/\//, "")
                    }, function() {}))
                })
            }

            function i(e, n) {
                if (e && n) {
                    for (var i = e.split("."), t = n.split("."), o = Math.min(i.length, t.length), a = 0, s = 0; a < o && 0 == (s = parseInt(i[a]) - parseInt(t[a]));) a++;
                    return s = 0 != s ? s : i.length - t.length
                }
                return -1
            }
            var t = / MicroMessenger\/([0-9\.]+)/i.exec(navigator.userAgent);
            t && t[1] && i(t[1], "6.5.6") >= 0 ? window.WeixinJSBridge ? n() : document.addEventListener("WeixinJSBridgeReady", n) : location.href = e
        }

        function m(e, n) {
            c("mqq.data.getUserInfo", function(i) {
                e.userId = i.uin, c("mqq.invoke", "pay", "launchWechatPaySign", e, n)
            })
        }

        function u(e) {
            return 1 ==
                e.hideUi && 1 == e.as && (/ MicroMessenger\/([0-9\.]+)/i.test(navigator.userAgent) && "wechat" === e.directChannel || / QQ\/([0-9\.]+)/i.test(navigator.userAgent) && "qqwallet" === e.directChannel)
        }
        var f = {},
            h = 0,
            g = ["closeOnSuccess", "dc", "groupid", "hidePrice", "mpid", "openid", "openkey", "pfkey", "qqAppid", "schema", "schema_url", "sessionid", "sessiontype", "shownick", "supercoupons", "u", "wxAppid", "wxAppid2", "wx_openid", "aid"],
            b = l() + (new Date)
                .getTime(),
            y = function y(e) {
                this.name = "midas_iframe_" + h, e.name = this.name, this.iframeDom =
                    e, this.contentWindow = e.contentWindow, f[this.name] = this, this.handlers = {}, h++
            };
        y.prototype = {
            on: function on(e, n, i) {
                this.handlers[e] = this.handlers[e] || [], this.handlers[e].push({
                    handler: n,
                    self: i
                })
            },
            off: function off(e, n) {
                if (this.handlers[e])
                    if (n) {
                        for (var i = this.handlers[e].length - 1; i >= 0; i--) {
                            var t = this.handlers[e][i];
                            t.handler === n && this.handlers[e].splice(i, 1)
                        }
                        this.handlers[e].length || delete this.handlers[e]
                    } else delete this.handlers[e]
            },
            postMessage: function postMessage(e) {
                this.contentWindow.postMessage(JSON.stringify(e),
                    "*"), window.console && console.log("\nSend cross orign stream \nFROM:" + location.href + '\nTO:frames["' + this.name + '"]\nDATA:' + JSON.stringify(e) + "\n")
            },
            close: function close() {
                delete f[this.name]
            },
            _handle: function _handle(e, n) {
                var i = this;
                this.handlers[e] && this.handlers[e].forEach(function(e) {
                    e.handler.call(e.self || i, n)
                })
            }
        }, window.addEventListener("message", e);
        var w = function w(e) {
            e = e || {};
            var n = e.zIndex || "999",
                i = this.section = document.createElement("div");
            i.style.cssText = ["position:absolute;left:0;top:0;z-index:" +
            n + ";background:rgba(0,0,0," + ("number" == typeof e.alpha ? e.alpha : "0.7") + ");"
            ].join(""), this.resize(), document.body.appendChild(i)
        };
        w.prototype = {
            resize: function resize() {
                this.section && (this.section.style.display = "none", this.section.style.height = Math.max(document.documentElement.scrollHeight, document.documentElement.clientHeight, document.body.scrollHeight) + "px", this.section.style.width = Math.max(document.documentElement.scrollWidth, document.documentElement.clientWidth, document.body.scrollWidth) + "px", this.section.style.display =
                    "")
            },
            remove: function remove() {
                this.section && (document.body.removeChild(this.section), this.section = null)
            },
            hide: function hide() {
                this.section && (this.section.style.display = "none")
            },
            show: function show() {
                this.section && (this.section.style.display = "")
            }
        };
        var _ = function _() {
            var e = this.section = document.createElement("div");
            e.className = "fpm-loading", e.innerHTML = _.loadingHtml, document.body.appendChild(e)
        };
        _.loadingHtml = '<div class="fpm-loading-dots"><i class="fpm-loading-dot"></i><i class="fpm-loading-dot"></i><i class="fpm-loading-dot"></i></div>',
            _.slowTipsHtml = '<div class="fpm-loading-text-area"><p class="fpm-loading-txt-w">\u52aa\u529b\u52a0\u8f7d\u4e2d\uff0c\u8bf7\u7a0d\u5019</p></div>', _.TooSlowTipsHtml = '<div class="fpm-loading-text-area"><p class="fpm-loading-txt-w">\u5f53\u524d\u7f51\u7edc\u72b6\u6001\u4e0d\u4f73\uff0c\u8bf7\u60a8\u7ee7\u7eed\u7b49\u5f85\u6216\u53d6\u6d88\u91cd\u8bd5</p><button class="fpm-loading-btn">\u53d6\u6d88</button></div>', _.prototype = {
            hide: function hide() {
                this.section && (document.body.removeChild(this.section),
                    this.section = null)
            },
            showSlowTips: function showSlowTips() {
                this.section && (this.section.innerHTML = _.loadingHtml + _.slowTipsHtml)
            },
            showTooSlowTips: function showTooSlowTips(e) {
                this.section && !this.isSlowTipsShowed && (this.section.innerHTML = _.loadingHtml + _.TooSlowTipsHtml, this.section.addEventListener("click", function(n) {
                    "BUTTON" === n.target.tagName && e()
                }), this.isTooSlowTipsShowed = !0)
            }
        },
            function(e) {
                var n;
                document.createStyleSheet ? (n = document.createStyleSheet(), n.cssText = e) : (n = document.createElement("style"),
                    n.type = "text/css", n.innerHTML = e, document.getElementsByTagName("head")[0].appendChild(n))
            }([".fpm-loading {padding:0;margin:0;border:0;outline:0;font-weight:inherit;font-style:inherit;font-family:inherit;font-size:100%;vertical-align:baseline;width:100%;box-sizing:border-box;text-align:center;position:fixed;left:0;top:50%;transform:translateY(-50%);z-index:1000}", ".fpm-loading-dot {background:#9e9e9e;display:inline-block;*display:inline;*zoom:1;width:12px;height:12px;border-radius:12px;margin-right:15px;-webkit-animation-name:fpm-loadingAnim;animation-name:fpm-loadingAnim;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-timing-function:ease;animation-timing-function:ease;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-delay:0.3s;animation-delay:0.3s;}",
                ".fpm-loading-dot:first-child {-webkit-animation-delay:0s;animation-delay:0s;}", ".fpm-loading-dot:last-child {-webkit-animation-delay:0.6s;animation-delay:0.6s;margin-right:0;}", "@-webkit-keyframes fpm-loadingAnim {0% {opacity:0.5;}100% {opacity:1;}}", "@keyframes fpm-loadingAnim {0% {opacity:0.5;}100% {opacity:1;}}", ".fpm-loading-text-area {margin-top:20px;text-align:center;}", ".fpm-loading-txt-b,.fpm-loading-txt-w {display:inline-block;margin:0;text-align:left;font-size:15px;}", ".fpm-loading-txt-b {color:#808080;}",
                ".fpm-loading-txt-w {color:#fff;}", ".fpm-loading-btn {position:relative;display:block;margin:20px auto 0;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#fff;padding:0;width:8em;height:2.5em;line-height:2.5em;font-size:14px;border:0;background-color:transparent;}", ".fpm-loading-btn:after {position:absolute;content:'';left:0;top:0;width:200%;height:200%;border:1px solid #fff;border-radius:8px;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scale(0.5);transform:scale(0.5);}",
                ".fpm-loading-btn:active {opacity:.8;}", ".fpm-btn,[class*=fpm]{-webkit-tap-highlight-color:transparent}", ".fpm-btn{-webkit-appearance:none;border:none;position:relative;display:block;width:100%;text-decoration:none;text-align:center;height:44px;line-height:44px;border-radius:3px;font-size:16px}", ".fpm-btn:active,.fpm-btn:focus{outline:0}", ".fpm-btn-wrap{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}", ".fpm-btn-wrap .fpm-btn{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}",
                ".fpm-btn.fpm-default{background-color:#338aec;color:#fff}", ".fpm-btn.fpm-default:active{background-color:#2e7cd4}", ".fpm-btn.fpm-primary{background-color:#fff;color:grey}", ".fpm-btn.fpm-primary:active{background-color:#e5e5e5}", ".fpm-btn.fpm-default.fpm-dis{background-color:#99c4f5}", ".fpm-btn.fpm-default.fpm-dis:after{border-color:#88b4e5}", ".fpm-btn.fpm-primary.fpm-dis{background-color:#fff;color:#c6c6c6}", ".fpm-btn.fpm-primary.fpm-dis:after{border-color:#e0e0e0}", ".fpm-btn.fpm-default:after,.fpm-btn.fpm-primary:after{position:absolute;left:0;top:0;content:'';width:200%;height:200%;border-radius:6px;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;transform-origin:0 0;border-width:1px;border-style:solid;box-sizing:border-box}",
                ".fpm-btn.fpm-default:after{border-color:#1169cc}", ".fpm-btn.fpm-primary:after{border-color:#bebebe}", ".fpm-btn+.fpm-btn{margin-left:8px}", ".fpm-btn-span{font-size:13px}", ".fpm-hint{margin:0;display:inline-block;text-align:left;color:#000;font-size:15px;line-height:20px}", ".fpm-hint-box{padding:16px 0;text-align:center}", ".fusion-pm-fl-wrapper{position:fixed;width:90%;left:50%;top:50%;transform:translate(-50%,-50%);background-color:#fbfbfc;border-radius:5px;overflow-x:hidden;line-height:1;z-index:3000}",
                ".fusion-pm-hd{position:relative;width:100%;height:48px;z-index:3}", ".fusion-pm-hd:after{content:'';position:absolute;bottom:0;left:0;width:200%;height:1px;background-color:#e0e0e0;-webkit-transform:scale(.5,.5);transform:scale(.5,.5);-webkit-transform-origin:0 0;transform-origin:0 0}", ".fusion-pm-hd .fpm-hd-btn{position:absolute;width:48px;height:100%;top:0}", ".fusion-pm-hd .fpm-hd-btn:first-child{left:0}", ".fusion-pm-hd .fpm-hd-btn:last-child{right:0}", ".fusion-pm-hd .fpm-hd-tit{margin:0;padding-left:50px;padding-right:50px;height:48px;line-height:48px;font-size:17px;font-weight:400;text-align:center;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}",
                ".fusion-pm-bd{padding-bottom:16px;width:100%;background-color:#fbfbfc}", ".fpm-item{margin-top:10px;padding:0 16px}"
            ].join("\r\n"));
        var v = [],
            x = function x(e) {
                var n, i = navigator.userAgent;
                i.indexOf("Android") > -1 && (n = parseFloat(i.slice(i.indexOf("Android") + 8))), this.iframeDom = document.createElement("iframe"), this.iframeDom.style.cssText = ["border:0;position:", n < 4 ? "absolute" : "fixed", ";left:0;top:0px;width:100%;height:", document.documentElement.clientHeight, "px;z-index:2000;"].join(""), this.iframeDom.scrolling =
                    "auto", this.iframeDom.src = e.url, document.body.appendChild(this.iframeDom), this.iframeDom.onload = this.iframeDom.onerror = function() {
                    e.onLoad && e.onLoad(), o.iframeDom.onload = o.iframeDom.onerror = null
                }, this.stream = new y(this.iframeDom), this.shader = new w({
                    alpha: e.transparentShader ? 0 : null
                }), this.loading = new _;
                for (var t in e.methods) this.stream.on(t, e.methods[t], this);
                v.push(this);
                var o = this,
                    a = !1;
                this.slowInterval = setTimeout(function() {
                    a || (o.loading && o.loading.showSlowTips(), o.tooSlowInterval = setTimeout(function() {
                        a ||
                        (o.loading && o.loading.showTooSlowTips(function() {
                            e.methods.close.call(o)
                        }), o.iframeDom.style.display = "none", e.onTooSlow && e.onTooSlow())
                    }, 1E4))
                }, 5E3), this.on("ready", function() {
                    o.loading && (o.loading.hide(), o.loading = null), a = !0, o.iframeDom.style.display = "", o.clearSlowInterval()
                }), this.status = x.STATUS.NORMAL
            };
        x.STATUS = {
            NORMAL: "NORMAL",
            HIDDEN: "HIDDEN",
            CLOSED: "CLOSED"
        }, x.prototype = {
            close: function close() {
                document.body.removeChild(this.iframeDom), this.iframeDom = null, this.stream.close(), this.stream = null,
                    this.shader.remove(), this.shader = null, this.loading && (this.loading.hide(), this.loading = null), this.clearSlowInterval(), v.splice(v.indexOf(this), 1), this.status = x.STATUS.CLOSED
            },
            clearSlowInterval: function clearSlowInterval() {
                this.slowInterval && (clearTimeout(this.slowInterval), this.slowInterval = null), this.tooSlowInterval && (clearTimeout(this.tooSlowInterval), this.tooSlowInterval = null)
            },
            on: function on(e, n, i) {
                this.stream.on(e, n, i)
            },
            off: function off(e, n) {
                this.stream.off(e, n)
            },
            postMessage: function postMessage(e) {
                this.stream.postMessage(e)
            },
            resize: function resize() {
                this.shader.resize();
                var e = document.documentElement.clientHeight;
                this.iframeDom.style.height = e + "px", this.postMessage({
                    action: "resize",
                    data: {
                        height: document.documentElement.clientHeight
                    }
                })
            },
            hide: function hide() {
                this.status === x.STATUS.NORMAL && (this.iframeDom.style.display = "none", this.shader.hide(), this.status = x.STATUS.HIDDEN)
            },
            show: function show() {
                this.status === x.STATUS.HIDDEN && (this.iframeDom.style.display = "", this.shader.show(), this.status = x.STATUS.NORMAL)
            }
        }, window.addEventListener("resize",
            n), window.addEventListener("beforeunload", function() {
            window.removeEventListener("resize", n)
        });
        var q = window.Midas = window.Midas || {};
        q.API_VERSION = 5;
        var S = "https:",
            k = q.buyGoods = function(e) {
                if (!(e.params || e.productid && e.zoneid && e.appid && e.n)) return alert("Midas.buyGoods params or productid & zoneid & appid & n not specified."), !1;
                if (!e.pf) return alert("Midas.buyGoods pf not specified."), !1;
                var n = {
                    m: "buy",
                    c: "goods",
                    dialog: "1",
                    midasApiVersion: q.API_VERSION,
                    transactionid: b,
                    dh: "1",
                    tmp_pf: e.pf
                };
                e.params ? n.params =
                    encodeURIComponent(e.params) : a(n, t(e, ["productid", "n", "appid", "zoneid", "pf"])), 1 == e.sandbox ? n.sandbox = 1 : 2 == e.sandbox && (n.sandbox = 2), "function" == typeof e.onQueryResult && (n.notifyQuery = "1"), u({
                    as: 1,
                    hideUi: e.hideUi,
                    directChannel: e.directChannel
                }) && (n.hideUi = 1), a(n, t(e, g.concat(["sid", "showprovide", "shownick", "drm_info", "directChannel", "_version", "wcp", "channelStyle", "editableSupercoupons", "showCoin", "buyGameInfo", "realPrice", "change_wx_openid"]))), setTimeout(function() {
                    var i = "unknow";
                    if (e.params) {
                        var t =
                            /^\/[^\/]+\/[^\/]+\/([^\/]+)\/mobile_goods_info/.exec(decodeURIComponent(e.params));
                        t && t[1] && (i = t && t[1] || "unknow")
                    } else e.appid && (i = e.appid);
                    r("midas_h5.goods.jsapi.create.pv", {
                        cookie_uin: s("uin")
                    }, {
                        24: i,
                        36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                    })
                }, 100), k._dlg = new x({
                    url: S + "//pay.qq.com/h5/index.shtml?" + o(n),
                    transparentShader: !!n.hideUi,
                    methods: {
                        wechat_buy: A.wechat_buy,
                        mqq_buy: A.mqq_buy,
                        wechat_wapbuy: A.wechat_wapbuy,
                        mqq_wapbuy: A.mqq_wapbuy,
                        MidasJSBridge_call: A.MidasJSBridge_call,
                        mqq_invoke_pay_launchWechatPaySign: A.mqq_invoke_pay_launchWechatPaySign,
                        MidasJSBridge_detect: A.MidasJSBridge_detect,
                        mqq_data_getUserInfo: A.mqq_data_getUserInfo,
                        notify_query: function notify_query() {
                            e.onQueryResult && e.onQueryResult.call(this)
                        },
                        recharge_qb: A.recharge_qb,
                        recharge_game: A.recharge_game,
                        success: function success() {
                            e.onSuccess && e.onSuccess()
                        },
                        close: function close() {
                            this.close(), k._dlg = null, e.onClose && e.onClose()
                        },
                        resize: function resize(e) {
                            e.height && (this.iframeDom.style.height = e.height + "px")
                        },
                        ready: function ready() {
                            k._dlg.resize()
                        }
                    }
                }), k._dlg.iframeDom.style.display = "none"
            },
            C = q.rechargeGameCurrency = function(e) {
                function n() {
                    d && (clearTimeout(d), d = null)
                }
                if (!e.pf) return alert("Midas.rechargeGameCurrency pf not specified."), !1;
                if (!e.appid) return alert("Midas.rechargeGameCurrency appid not specified."), !1;
                if (!e.zoneid) return alert("Midas.rechargeGameCurrency zoneid not specified."), !1;
                if (!e.account) return alert("Midas.rechargeGameCurrency account not specified."), !1;
                if ("qq" !== e.account && "wechat" !==
                    e.account && "dummy" !== e.account) return alert("Midas.rechargeGameCurrency account not valid."), !1;
                var i = {
                    m: "buy",
                    c: {
                        qq: "game",
                        wechat: "wechat_game",
                        dummy: "dummy_game"
                    } [e.account],
                    dialog: "1",
                    midasApiVersion: q.API_VERSION,
                    transactionid: b,
                    dh: "1",
                    pf: e.pf,
                    appid: e.appid,
                    zoneid: e.zoneid
                };
                1 == e.sandbox ? i.sandbox = 1 : 2 == e.sandbox && (i.sandbox = 2), u(e) && (i.hideUi = 1), a(i, t(e, g.concat(["n", "da", "al", "as", "hideInfo", "directChannel", "shownick", "u2", "friends_pay_msg", "is_friends_pay", "bannerImg", "bannerLink", "change_wx_openid",
                    "editableSupercoupons", "referAmt", "noAutoLogin"
                ]))), setTimeout(function() {
                    r("midas_h5.game.jsapi.create.pv", {
                        cookie_uin: s("uin")
                    }, {
                        24: e.appid,
                        36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(i))
                    })
                }, 100);
                var c = C._dlg = new x({
                    transparentShader: !!i.hideUi,
                    url: S + "//pay.qq.com/h5/index.shtml?" + o(i),
                    methods: {
                        wechat_buy: A.wechat_buy,
                        mqq_buy: A.mqq_buy,
                        wechat_wapbuy: A.wechat_wapbuy,
                        mqq_wapbuy: A.mqq_wapbuy,
                        MidasJSBridge_call: A.MidasJSBridge_call,
                        mqq_invoke_pay_launchWechatPaySign: A.mqq_invoke_pay_launchWechatPaySign,
                        MidasJSBridge_detect: A.MidasJSBridge_detect,
                        mqq_data_getUserInfo: A.mqq_data_getUserInfo,
                        recharge_qb: A.recharge_qb,
                        success: function success() {
                            e.onSuccess && e.onSuccess()
                        },
                        close: function close() {
                            this.close(), C._dlg = null, e.onClose && e.onClose()
                        },
                        resize: function resize(e) {
                            e.height && (this.iframeDom.style.height = e.height + "px")
                        },
                        ready: function ready() {
                            C._dlg.resize()
                        }
                    }
                });
                c.iframeDom.style.display = "none";
                var d = setTimeout(function() {
                    c.iframeDom.style.display = "", n()
                }, 2E3);
                c.on("ready", function() {
                    c.iframeDom.style.display =
                        "", n()
                })
            },
            M = q.openSubscribe = function(e) {
                if (!e.appid) return alert("Midas.openSubscribe appid not specified."), !1;
                if (!e.service) return alert("Midas.openSubscribe service not specified."), !1;
                if (!e.pf) return alert("Midas.openSubscribe pf not specified."), !1;
                if (!e.account) return alert("Midas.openSubscribe account not specified."), !1;
                if ("qq" !== e.account && "wechat" !== e.account && "dummy" !== e.account) return alert("Midas.openSubscribe account not valid."), !1;
                var n = {
                    m: "buy",
                    c: {
                        qq: "qqsubscribe",
                        wechat: "subscribe",
                        dummy: "dummysubscribe"
                    } [e.account],
                    dialog: "1",
                    midasApiVersion: q.API_VERSION,
                    transactionid: b,
                    dh: "1",
                    appid: e.appid,
                    service: e.service,
                    pf: e.pf
                };
                u(e) && (n.hideUi = 1), a(n, t(e, g.concat(["productid", "as", "ap", "shownick", "tc", "u2", "sid", "coupons_ext", "editableSupercoupons", "maxn", "n", "hideInfo", "manualWxSign", "wx_order_contract", "open_detail", "lp", "directChannel", "sdkpay", "ru", "sdkWxAppid", "bossappend", "thirdPartyName", "txspHongbaoContext", "referAmt", "noAutoLogin", "zoneid"]))), 1 == e.sandbox ? n.sandbox = 1 : 2 == e.sandbox &&
                    (n.sandbox = 2);
                var i = !1;
                setTimeout(function() {
                    r("midas_h5.orderunimonth.jsapi.onready", {
                        cookie_uin: s("uin")
                    }, {
                        7: i ? 0 : 9999,
                        24: e.appid,
                        36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                    })
                }, 5E3), setTimeout(function() {
                    r("midas_h5.orderunimonth.jsapi.create.pv", {
                        cookie_uin: s("uin")
                    }, {
                        24: e.appid,
                        36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                    })
                }, 100), M._dlg = new x({
                    url: S + "//pay.qq.com/h5/index.shtml?" + o(n),
                    transparentShader: !!n.hideUi,
                    onTooSlow: function onTooSlow(i) {
                        r("midas_h5.orderunimonth.jsapi.iframe.tooslow", {
                            cookie_uin: s("uin")
                        }, {
                            7: 9999,
                            24: e.appid,
                            36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                        })
                    },
                    methods: a({}, A, {
                        wechat_sign: function wechat_sign(n) {
                            if (e.successUrl) {
                                try {
                                    history.replaceState && history.replaceState(null, null, e.successUrl), window.addEventListener("pageshow", function(e) {
                                        e.persisted && location.reload()
                                    })
                                } catch (i$99) {}
                                location.href = n.signUrl
                            } else location.href = n.successUrl + "&wxSignUrl=" + encodeURIComponent(n.signUrl)
                        },
                        success: function success(n) {
                            e.onSuccess && e.onSuccess(n)
                        },
                        close: function close() {
                            this.close(),
                                M._dlg = null, e.onClose && e.onClose()
                        },
                        login_invalid: function login_invalid(n) {
                            n = n || {}, "function" == typeof e.onNeedLogin && e.onNeedLogin(n)
                        },
                        error: function error(n) {
                            n = n || {}, "function" == typeof e.onError && e.onError(n)
                        },
                        ready: function ready() {
                            i = !0
                        },
                        response_start: function response_start(i) {
                            setTimeout(function() {
                                r("midas_h5.orderunimonth.jsapi.response_start", {
                                    cookie_uin: s("uin")
                                }, a({
                                    24: e.appid,
                                    36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                                }, i.params))
                            }, 100)
                        },
                        report_logdata: function report_logdata(e) {
                            r(e.iformat,
                                e.resultInfo, a(e.params, {
                                    36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                                }))
                        }
                    })
                }), M._dlg.iframeDom.style.display = "none"
            },
            I = q.openService = function(e) {
                if (!e.c) return alert("Midas.openService c not specified."), !1;
                if (!e.pf) return alert("Midas.openService pf not specified."), !1;
                var n = {
                    m: "buy",
                    c: e.c,
                    dialog: "1",
                    midasApiVersion: q.API_VERSION,
                    transactionid: b,
                    dh: "1",
                    pf: e.pf
                };
                a(n, t(e, g.concat(["account", "shownick", "n", "da", "u2", "mode", "fixed_mode", "al", "ap", "sl", "tabService", "coupons_ext", "editableSupercoupons",
                    "tc", "appid", "configs", "as", "open_detail", "paybyday", "sid", "hideInfo", "manualWxSign", "wx_order_contract", "sdkpay"
                ]))), e.sandbox === !0 ? n.sandbox = 1 : e.sandbox && (n.sandbox = e.sandbox), I._dlg = new x({
                    url: S + "//pay.qq.com/h5/index.shtml?" + o(n),
                    methods: a({}, A, {
                        wechat_sign: function wechat_sign(n) {
                            if (e.successUrl) {
                                try {
                                    history.replaceState && history.replaceState(null, null, e.successUrl), window.addEventListener("pageshow", function(e) {
                                        e.persisted && location.reload()
                                    })
                                } catch (i$100) {}
                                location.href = n.signUrl
                            } else location.href =
                                n.successUrl + "&wxSignUrl=" + encodeURIComponent(n.signUrl)
                        },
                        success: function success(n) {
                            e.onSuccess && e.onSuccess(n)
                        },
                        close: function close() {
                            this.close(), I._dlg = null, e.onClose && e.onClose()
                        },
                        ready: function ready() {}
                    })
                })
            },
            U = q.rechargePcGameCurrency = function(e) {
                if (e.c = e.c || "pcgame", "pcgame" === e.c && !e.appid) return alert("Midas.rechargePcGameCurrency c/appid not valid."), !1;
                if (!e.pf) return alert("Midas.rechargePcGameCurrency pf not specified."), !1;
                var n = {
                    m: "buy",
                    dialog: "1",
                    midasApiVersion: q.API_VERSION,
                    transactionid: b,
                    dh: "1",
                    pf: e.pf
                };
                "pcgame" !== e.c ? n.c = e.c : (n.c = "pcgame", n.appid = e.appid), a(n, t(e, g.concat(["n", "u2", "al", "sl", "tc", "account", "shownick", "directChannel", "zoneid", "as", "hideInfo", "referAmt"]))), e.sandbox === !0 ? n.sandbox = 1 : e.sandbox && (n.sandbox = e.sandbox), u(e) && (n.hideUi = 1), setTimeout(function() {
                    r("midas_h5.pcgame.jsapi.create.pv", {
                        cookie_uin: s("uin")
                    }, {
                        19: e.c ? e.c.toUpperCase() : "PCGAME",
                        24: e.appid || "",
                        36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                    })
                }, 100), U._dlg = new x({
                    transparentShader: !!n.hideUi,
                    url: S + "//pay.qq.com/h5/index.shtml?" + o(n),
                    methods: {
                        wechat_buy: A.wechat_buy,
                        mqq_buy: A.mqq_buy,
                        wechat_wapbuy: A.wechat_wapbuy,
                        mqq_wapbuy: A.mqq_wapbuy,
                        MidasJSBridge_call: A.MidasJSBridge_call,
                        mqq_invoke_pay_launchWechatPaySign: A.mqq_invoke_pay_launchWechatPaySign,
                        mqq_data_getUserInfo: A.mqq_data_getUserInfo,
                        recharge_qb: A.recharge_qb,
                        redirect_url: A.redirect_url,
                        MidasJSBridge_detect: A.MidasJSBridge_detect,
                        success: function success() {
                            e.onSuccess && e.onSuccess()
                        },
                        close: function close() {
                            this.close(), U._dlg = null,
                            e.onClose && e.onClose()
                        },
                        ready: function ready() {},
                        report_logdata: function report_logdata(e) {
                            r(e.iformat, e.resultInfo, a(e.params, {
                                36: encodeURIComponent(S + "//pay.qq.com/h5/index.shtml?" + o(n))
                            }))
                        }
                    }
                }), U._dlg.iframeDom.style.display = "none"
            },
            T = q.rechargeQb = function(e) {
                if (!e.pf) return alert("Midas.rechargeQb pf not specified."), !1;
                var n = {
                    m: "buy",
                    c: "qqacct_save",
                    dialog: "1",
                    midasApiVersion: q.API_VERSION,
                    transactionid: b,
                    dh: "1",
                    pf: e.pf
                };
                a(n, t(e, g.concat(["n", "u2", "al", "appid", "directChannel", "kcard_quota", "as",
                    "coupon_productid", "coupon_cnt", "hideInfo"
                ]))), e.sandbox === !0 ? n.sandbox = 1 : e.sandbox && (n.sandbox = e.sandbox), u(e) && (n.hideUi = 1), T._dlg = new x({
                    transparentShader: !!n.hideUi,
                    url: S + "//pay.qq.com/h5/index.shtml?" + o(n),
                    methods: a({}, A, {
                        success: function success() {
                            e.onSuccess && e.onSuccess()
                        },
                        close: function close() {
                            this.close(), T._dlg = null, e.onClose && e.onClose()
                        }
                    })
                })
            },
            A = {
                wechat_buy: function wechat_buy(e) {
                    function n() {
                        WeixinJSBridge.invoke("getBrandWCPayRequest", {
                            appId: t.wx_appid,
                            timeStamp: t.wx_time,
                            nonceStr: t.wx_noncenum,
                            "package": t.wx_package,
                            signType: t.wx_signtype || "SHA1",
                            paySign: t.wx_sign
                        }, function(e) {
                            i.postMessage({
                                action: "wechat_buy",
                                data: {
                                    res: e
                                }
                            })
                        })
                    }
                    var i = this,
                        t = e.info;
                    window.WeixinJSBridge ? n() : (this.postMessage({
                        action: "wechat_buy_loading",
                        data: {
                            waiting: !0
                        }
                    }), document.addEventListener("WeixinJSBridgeReady", function() {
                        i.postMessage({
                            action: "wechat_buy_loading",
                            data: {
                                waiting: !1
                            }
                        }), n()
                    }))
                },
                mqq_buy: function mqq_buy(e) {
                    var n = this;
                    c("mqq.tenpay.pay", e.info, function(e) {
                        n.postMessage({
                            action: "mqq_buy",
                            data: {
                                res: e
                            }
                        })
                    })
                },
                mqq_invoke_pay_launchWechatPaySign: function mqq_invoke_pay_launchWechatPaySign(e) {
                    var n = this;
                    m(e.info, function(e) {
                        n.postMessage({
                            action: "mqq_invoke_pay_launchWechatPaySign",
                            data: {
                                res: e
                            }
                        })
                    })
                },
                mqq_data_getUserInfo: function mqq_data_getUserInfo() {
                    var e = this;
                    c("mqq.data.getUserInfo", function(n) {
                        e.postMessage({
                            action: "mqq_data_getUserInfo",
                            data: {
                                res: n
                            }
                        })
                    })
                },
                mqq_ui_openUrl: function mqq_ui_openUrl(e) {
                    c("mqq.ui.openUrl", e.params)
                },
                wechat_wapbuy: function wechat_wapbuy(e) {
                    location.href = e.url
                },
                mqq_wapbuy: function mqq_wapbuy(e) {
                    p(e.url)
                },
                MidasJSBridge_call: function MidasJSBridge_call(e) {
                    var n = this;
                    MidasJSBridge.call(e.cmd, e.params, function(e) {
                        n.postMessage({
                            action: "MidasJSBridge_call",
                            data: {
                                res: e
                            }
                        })
                    }, "")
                },
                wechat_sign_by_MidasSDK: function wechat_sign_by_MidasSDK(e) {
                    / QQ\/([0-9\.]+)/i.test(navigator.userAgent) ? d(function() {
                        mqq.compare("6.5.0") !== -1 && new R.confirm({
                            msg: e.confirmTips,
                            onConfirm: function onConfirm() {
                                m(e.info, function() {})
                            }
                        })
                    }) : window.MidasJSBridge && new R.confirm({
                        msg: e.confirmTips,
                        onConfirm: function onConfirm() {
                            MidasJSBridge.call("launchPaySign",
                                e.info,
                                function() {}, "")
                        }
                    })
                },
                mqq_sign: function mqq_sign(e) {
                    new R.confirm({
                        msg: e.confirmTips,
                        onConfirm: function onConfirm() {
                            / QQ\/([0-9\.]+)/i.test(navigator.userAgent) ? c("mqq.ui.openUrl", {
                                url: e.signUrl,
                                target: 1
                            }) : p(e.signUrl)
                        }
                    })
                },
                redirect_url: function redirect_url(e) {
                    function n(e) {
                        window.TenvideoJSBridge ? e(TenvideoJSBridge) : document.addEventListener("onTenvideoJSBridgeReady", function() {
                            e(TenvideoJSBridge)
                        }, !1)
                    }
                    /QQLiveBrowser/.test(navigator.userAgent) ? n(function(n) {
                        n.invoke("openUrl", {
                            url: e.url,
                            close: 1,
                            style: 1
                        })
                    }) : location.href = e.url
                },
                MidasJSBridge_detect: function MidasJSBridge_detect() {
                    function e(e) {
                        n.postMessage({
                            action: "MidasJSBridge_detect",
                            data: {
                                result: e
                            }
                        })
                    }
                    var n = this;
                    e(!!window.MidasJSBridge)
                },
                recharge_qb: function recharge_qb(e) {
                    var n = this,
                        i = a({}, e.params, {
                            onSuccess: function onSuccess() {
                                n.postMessage({
                                    action: "recharge_qb",
                                    data: {
                                        callback: "succeed"
                                    }
                                })
                            },
                            onClose: function onClose() {
                                n.postMessage({
                                    action: "recharge_qb",
                                    data: {
                                        callback: "close"
                                    }
                                }), n.show()
                            }
                        });
                    q.rechargeQb(i) !== !1 && this.hide()
                },
                recharge_game: function recharge_game(e) {
                    var n =
                            this,
                        i = a({}, e.params, {
                            onSuccess: function onSuccess() {
                                n.postMessage({
                                    action: "recharge_game",
                                    data: {
                                        callback: "succeed"
                                    }
                                })
                            },
                            onClose: function onClose() {
                                n.postMessage({
                                    action: "recharge_game",
                                    data: {
                                        callback: "close"
                                    }
                                }), n.show()
                            }
                        });
                    q.rechargeGameCurrency(i) !== !1 && this.hide()
                }
            },
            E = 0,
            R = (function() {
                var e = [],
                    n = "complete" === document.readyState;
                return n || window.addEventListener("load", function i() {
                    n = !0, window.removeEventListener("load", i), e.forEach(function(e) {
                        e()
                    }), e.length = 0
                }),
                    function(i) {
                        n ? i() : e.push(i)
                    }
            }(), {});
        R.confirm = function(e) {
            this.section = document.createElement("div"), this.section.className = "fusion-pm-fl-wrapper", this.section.innerHTML = ['<div class="fusion-pm-hd">', '\t<h1 class="fpm-hd-tit">\u6e29\u99a8\u63d0\u793a</h1>', "</div>", '<div class="fusion-pm-bd">', '\t<div class="fpm-item">', '\t\t<div class="fpm-hint-box">', '\t\t\t<p class="fpm-hint">' + e.msg + "</p>", "\t\t</div>", "\t</div>", '\t<div class="fpm-item">', '\t\t<div class="fpm-btn-wrap">', '\t\t\t<button type="button" class="fpm-btn fpm-primary" data-btn="cancel">\u53d6\u6d88</button>',
                '\t\t\t<button type="button" class="fpm-btn fpm-default" data-btn="confirm">\u786e\u5b9a</button>', "\t\t</div>", "\t</div>", "</div>"
            ].join(""), document.body.appendChild(this.section), this.shader = new w({
                zIndex: "2999"
            });
            var n = this;
            this._eventOnConfirm = function() {
                n.close(), e.onConfirm && e.onConfirm()
            }, this._eventOnCancel = function() {
                n.close(), e.onCancel && e.onCancel()
            }, this.section.querySelector("[data-btn=confirm]")
                .addEventListener("click", this._eventOnConfirm), this.section.querySelector("[data-btn=cancel]")
                .addEventListener("click",
                    this._eventOnCancel)
        }, R.confirm.prototype = {
            close: function close() {
                this.section.querySelector("[data-btn=confirm]")
                    .removeEventListener("click", this._eventOnConfirm), this.section.querySelector("[data-btn=cancel]")
                    .removeEventListener("click", this._eventOnCancel), document.body.removeChild(this.section), this.shader.remove ? this.shader.remove() : this.shader.hide()
            }
        }
    }();

    function dqDialog(dq, pf, cb) {
        pf = pf || "event2208";
        var level = DQ_LEVELS[dq];
        if (!isApp) {
            if (isIOS) throw new Error("iOS \u4e0d\u80fd\u5728 APP \u5916\u5145\u503c\u70b9\u5238\uff08\u6570\u636e\u4e0d\u4e92\u901a\uff09");
            dqDialog_h5(dq, pf, cb)
        } else if (isAndroid) goMidasDq(dq, false, pf, function(res) {
            cb({
                ret: res == 1
            })
        });
        else if (isIOS) {
            if (!level) throw new Error("\u5145\u503c\u70b9\u5238\u6570\u6709\u8bef\uff0c\u4e0d\u80fd\u4e3a " + dq + "\n\uff08\u53ef\u7528\u6863\u4f4d\uff1a" + "\uff09");
            dqIap(dq, cb)
        }
    }
    var DQ_LEVELS = {
        100: 100,
        600: 600,
        3E3: 3E3,
        5E3: 5E3,
        9800: 9800
    };

    function dqDialog_h5(dq, pf, cb) {
        var pfHead = "huyu_m-1000-html5-1.0.0-";
        pf = pf || "h5_default";
        var isSuccess = false;
        Midas.rechargeGameCurrency({
            account: "qq",
            appid: "1450008902",
            pf: pfHead + pf,
            zoneid: "1",
            n: dq,
            as: "1",
            sandbox: false,
            onSuccess: function onSuccess() {
                isSuccess = true
            },
            onClose: function onClose() {
                cb({
                    ret: isSuccess ? 1 : 0
                })
            }
        })
    }

    function readBagDialog(price, pf, cb) {
        pf = pf || "event2208";
        var bagId = {
            1: 1010,
            8: 8040
        } [price];
        if (!isApp) readBagDialog_h5(price, pf, cb);
        else if (isAndroid) readBagPurchase(pf, bagId, function(res) {
            cb({
                ret: res == 1
            })
        });
        else if (isIOS) readBagIap(bagId, 0, cb)
    }

    function readBagDialog_h5(level, pf, cb) {
        pf = pf || "event2208";
        var isSuccess = false;
        throw new Error("\u6682\u4e0d\u652f\u6301 APP \u5916\u76f4\u63a5\u8d2d\u4e70\u9605\u8bfb\u5305");
        var params = "url_params";
        Midas.buyGoods({
            params: params,
            pf: "huyu_m-" + pf + "-html5-android",
            _version: "v3",
            sandbox: false,
            onSuccess: function onSuccess() {
                isSuccess = true
            },
            onClose: function onClose() {
                cb({
                    ret: isSuccess ? 1 : 0
                })
            }
        })
    }

    function buyVip(retUrl, aid) {
        if (Object.prototype.toString.call(arguments[0]) === "[object Object]") {
            var opts = arguments[0];
            retUrl = opts["retUrl"];
            aid = opts["aid"]
        }
        var pageHref = window.location.href;
        retUrl = retUrl || pageHref;
        window.location.href = pageHref.appendQueryString("/home/buyVip", {
            "retUrl": retUrl,
            "aid": aid
        })
    }

    function buyGoods(retUrl, als, pf, noBack) {
        if (ek.isIOS) ek.ac.WebView.openUrl({
            url: "http://m.ac.qq.com/event/callup_pay_201708/"
        })
            .or(function() {
                ek.ping.downAppAndReport()
            });
        else {
            if (Object.prototype.toString.call(arguments[0]) === "[object Object]") {
                var opts = arguments[0];
                retUrl = opts["retUrl"];
                als = opts["als"];
                pf = opts["pf"];
                noBack = opts["noBack"]
            }
            var login_type = ek.cookie.getCookie("login_type");
            var cu = encodeURIComponent(window.location.href);
            var appid = 1450008902,
                c = "game",
                session_id = "openid",
                session_type =
                    "kp_accesstoken",
                wxAppid2 = "";
            retUrl = retUrl ? encodeURIComponent(retUrl) : cu;
            pf = "huyu_m-" + (pf || "20120321") + "-html5-h5";
            if (login_type == "2") {
                pf = "wechat_wx-2001-html5-2011-html5_h5";
                appid = 1450022387;
                c = "wechat_game";
                session_id = "hy_gameid";
                session_type = "wc_actoken";
                wxAppid2 = "wxe8aad8874f39a6d0"
            }
            var open_id = ek.cookie.getCookie("open_id");
            var access_token = ek.cookie.getCookie("access_token");
            var pageHref = "https://pay.qq.com/h5/index.shtml?m=buy&c=" + c + "&appid=" + appid + "&_version=v3&zoneid=1" + "&pf=" + pf + "&ru=" + retUrl +
                "&sessionid=" + session_id + "&openid=" + open_id + "&sessiontype=" + session_type + "&openkey=" + access_token + "&shownick=1&wxAppid2=" + wxAppid2;
            if (als) {
                if (typeof als !== "string" && als.join) als = als.join(",");
                pageHref += "&al=" + als
            }!noBack && (pageHref += "&pu=" + cu);
            window.location.href = pageHref
        }
    }

    function buyDq(opts) {
        if (ek.isIOS) {
            ek.ac.WebView.openUrl({
                url: opts.iosFallBackUrl || "http://m.ac.qq.com/event/callup_pay_201708/"
            })
                .or(function() {
                    ek.ping.downAppAndReport()
                });
            return
        }
        var isSuccess = false;
        var pfHead = "";
        var pf = opts.pf ||
            "h5_default";
        if (!opts.n) opts.as = "";
        var wxUser = ek.cookie.getCookie("ac_wx_user");
        if (wxUser) {
            var user = JSON.parse(wxUser);
            pfHead = "huyu_m_wx-1000-html5-1.0.0-";
            opts.appid = "1450008902";
            opts.account = "wechat";
            opts.sessionid = "hy_gameid";
            opts.sessiontype = "wc_actoken";
            opts.openid = user["open_id"];
            opts.openkey = user["access_token"];
            opts.wxAppid = "wx91239ab32da78548";
            opts.wxAppid2 = "wxe8aad8874f39a6d0"
        } else {
            pfHead = "huyu_m-1000-html5-1.0.0-";
            opts.appid = "1450008902";
            opts.account = "qq"
        }
        opts.pf = pfHead + pf;
        return new Promise(function(rs,
                                    rj) {
            var fullOpts = ek.func.deepCopy(opts, {
                pf: pfHead + pf,
                zoneid: "1",
                sandbox: false,
                onSuccess: function onSuccess() {
                    isSuccess = true
                },
                onClose: function onClose() {
                    rs(isSuccess)
                }
            });
            Midas.rechargeGameCurrency(fullOpts)
        })
    }
    var payHelper = {
        dqDialog: dqDialog,
        DQ_LEVELS: DQ_LEVELS,
        dqDialog_h5: dqDialog_h5,
        readBagDialog: readBagDialog,
        readBagDialog_h5: readBagDialog_h5,
        buyVip: buyVip,
        buyGoods: buyGoods,
        buyDq: buyDq
    };

    function getLogs() {
        var buf = [];
        var p = window.performance || window["msPerformance"] || window["webkitPerformance"];
        var t = p && p["timing"];
        if (t) {
            if (t.navigationStart && t.domainLookupStart) buf.push(["navigation", t.domainLookupStart - t.navigationStart]);
            if (t.domainLookupEnd && t.domainLookupStart) buf.push(["dns", t.domainLookupEnd - t.domainLookupStart]);
            if (t.connectEnd && t.connectStart)
                if (t.connectEnd && t.secureConnectionStart) {
                    buf.push(["tcp", t.connectEnd - t.connectStart]);
                    buf.push(["tcp_ssl", t.connectEnd - t.secureConnectionStart])
                } else buf.push(["tcp", t.connectEnd - t.connectStart]);
            if (t.responseStart && t.requestStart) buf.push(["request",
                t.responseStart - t.requestStart
            ]);
            if (t.responseEnd && t.responseStart) buf.push(["response", t.responseEnd - t.responseStart]);
            if (t.domComplete && t.domLoading)
                if (t.domContentLoadedEventStart && t.domLoading) {
                    buf.push(["dom_complete", t.domComplete - t.domLoading]);
                    buf.push(["dom_loaded", t.domContentLoadedEventStart - t.domLoading])
                } else buf.push(["dom_complete", t.domComplete - t.domLoading]);
            if (t.loadEventEnd && t.loadEventStart) buf.push(["load_event", t.loadEventEnd - t.loadEventStart]);
            if (t.navigationStart && t.loadEventEnd) {
                buf.push(["total",
                    t.loadEventEnd - t.navigationStart
                ]);
                buf.push(["total_dom", t.domComplete - t.navigationStart])
            }
        }
        return buf
    }
    var timing = {
        getLogs: getLogs
    };
    var _slicedToArray = function() {
        function sliceIterator(arr, i) {
            var _arr = [];
            var _n = true;
            var _d = false;
            var _e = undefined;
            try {
                for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next())
                    .done); _n = true) {
                    _arr.push(_s.value);
                    if (i && _arr.length === i) break
                }
            } catch (err) {
                _d = true;
                _e = err
            } finally {
                try {
                    if (!_n && _i["return"]) _i["return"]()
                } finally {
                    if (_d) throw _e;
                }
            }
            return _arr
        }
        return function(arr,
                        i) {
            if (Array.isArray(arr)) return arr;
            else if (Symbol.iterator in Object(arr)) return sliceIterator(arr, i);
            else throw new TypeError("Invalid attempt to destructure non-iterable instance");
        }
    }();

    function _toArray(arr) {
        return Array.isArray(arr) ? arr : Array.from(arr)
    }
    var allListeners = {};

    function getEventListeners(event) {
        var listener = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
        var _event$split = event.split("."),
            _event$split2 = _toArray(_event$split),
            eventName = _event$split2[0],
            namespaces = _event$split2.slice(1);
        var hasNamespace = namespaces.length;
        var listeners = allListeners[eventName];
        if (!listeners) return [];
        listeners = listeners.filter(function(item) {
            return !hasNamespace || namespaces.indexOf(item.namespace) >= 0
        });
        if (listener) listeners = listeners.filter(function(item) {
            return item.listener === listener
        });
        return listeners
    }

    function addEventListener(event, listener) {
        var _event$split3 = event.split("."),
            _event$split4 = _toArray(_event$split3),
            eventName = _event$split4[0],
            namespaces = _event$split4.slice(1);
        var hasNamespace = namespaces.length;
        var listeners = allListeners[eventName] || (allListeners[eventName] = []);
        if (!hasNamespace) listeners.push({
            listener: listener
        });
        else namespaces.forEach(function(namespace) {
            listeners.push({
                listener: listener,
                namespace: namespace
            })
        })
    }
    var events = {
        on: function on(event, listener) {
            if (!listener) return;
            addEventListener(event, listener)
        },
        off: function off(event, listener) {
            var _event$split5 = event.split("."),
                _event$split6 = _slicedToArray(_event$split5, 1),
                eventName = _event$split6[0];
            if (!eventName) return;
            var listeners = getEventListeners(eventName);
            getEventListeners(event, listener)
                .forEach(function(item) {
                    var pos = listeners.indexOf(item);
                    if (pos < 0) return;
                    listeners.splice(pos, 1)
                })
        },
        once: function once(event, listener) {
            var _this = this;
            var _tmpListener = function _tmpListener() {
                for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];
                listener.apply(null, args);
                _this.off(event, _tmpListener)
            };
            this.on(event, _tmpListener)
        },
        emit: function emit(event) {
            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 <
            _len2; _key2++) args[_key2 - 1] = arguments[_key2];
            var _event$split7 = event.split("."),
                _event$split8 = _slicedToArray(_event$split7, 1),
                eventName = _event$split8[0];
            if (!eventName) return;
            var called = [];
            getEventListeners(event)
                .forEach(function(_ref) {
                    var listener = _ref.listener;
                    if (called.indexOf(listener) >= 0) return;
                    else called.push(listener);
                    listener.apply(null, args)
                });
            called.splice(0, called.length)
        }
    };
    console.log("EasyKit (v2.9.4 API-" + VER_NUMBER + ")\n\n" + (new Array(16))
        .join("="));
    var ek$1 = {
        functionHelper: functionHelper,
        func: functionHelper,
        encodingHelper: encodingHelper,
        encoding: encodingHelper,
        enc: encodingHelper,
        urlHelper: urlHelper,
        url: urlHelper,
        cookieHelper: cookieHelper,
        cookie: cookieHelper,
        pingHelper: pingHelper,
        ping: pingHelper,
        myAjax: myAjax,
        ajax: ajax,
        shareHelper: shareHelper,
        share: shareHelper,
        acApp: acApp,
        ac: acApp,
        appPlus: appPlus,
        app: appPlus,
        appScheme: appScheme,
        scheme: appScheme,
        payHelper: payHelper,
        pay: payHelper,
        loginLite: loginLite,
        timing: timing,
        events: events,
        emit: function emit() {
            return events.emit.apply(events, arguments)
        },
        on: function on() {
            return events.on.apply(events, arguments)
        },
        once: function once() {
            return events.once.apply(events, arguments)
        },
        off: function off() {
            return events.off.apply(events, arguments)
        }
    };
    extend(ek$1, base);
    window.EasyKit = window.EK = window.ek = ek$1;
    if (typeof module !== "undefined") module.exports = ek$1
})();
$(function() {
    var pg_TopBar = new BIU.Page({
        name: "pg_TopBar"
    });

    $(".top-bar .btn-top.menu, .nav-menu-bg")
        .on("click",
            function() {
                var $box = $(".nav-menu-box");
                if ($box.attr("data-animating")) return;
                if ($box.is(".show")) {
                    $box.removeClass("show")
                        .attr("data-animating", "1");
                    window.setTimeout(function() {
                        $box.hide()
                            .attr("data-animating", "");
                        $box = null
                    }, 300);
                } else {
                    var repaint = new Function("this.clientWidth");
                    $box.show()
                        .each(repaint);
                    $box.addClass("show")
                        .attr("data-animating", "1");
                    window.setTimeout(function() {
                        $box.attr("data-animating", "");
                        $box = null
                    }, 300);
                }
            });
    $(".top-bar, .nav-menu-box, .nav-menu-bg")
        .on("touchmove", function(e) {
            e.preventDefault()
        });
    $(".nav-menu-box .nav-list .item")
        .on("click", function() {
            var btnName = $(this)
                .attr("data-name") || "\u672a\u77e5";
            var button_id = $(this)
                .attr("data-button-id") || "\u672a\u77e5";
            ek.ping.reportBeacon({
                eventName: "OnPageClick",
                page_id: 101,
                mod_id: 1002,
                button_id: button_id
            });
        });
});

$(function() {
    var checkClickAppAds = function(e) {
        var $target = $(e.target),
            $close = $target.is(".app-guiding-close") ? $target : $target.parents(".app-guiding-close"),
            $parent = $target.parents(".app-guiding");
        if ($close.length) {
            $parent.addClass("closed");
            window.setTimeout(function() {
                $parent.hide()
                    .removeClass("closed");
                $parent = null
            }, 300)
        } else if ($parent.length) {
            var url_iOS = $parent.attr("data-url-iOS");
            var url_Android = $parent.attr("data-url-Android");
            var id = $parent.attr("data-id");
            var tag = "h5_v3_app_down." + "theme_" +
                id + "." + ek.clientType + "." + ek.os;
            if (url_Android && url_iOS)
                if (ek.isIOS) callUpOrDown(url_iOS, tag);
                else {
                    if (ek.isAndroid) callUpOrDown(url_Android, tag)
                }
            else callUpOrDown()
        }
    };
    var callUpOrDown = function(url, tag) {
        var pageHref = window.location.href,
            matchId = /\/id\/([0-9]+)/g.exec(pageHref),
            id = parseInt(matchId && matchId[1]);
        if (ek.clientType == ek.CLIENT.WEIBO) {
            var hideTips = function() {
                $tips.hide()
                    .off("click", hideTips)
            };
            var $tips = $(".tips-go-safari");
            if (!$tips.length) {
                $tips = $('<div class="tips-go-safari"></div>');
                $("body")
                    .append($tips)
            }
            $tips.show()
                .on("click",
                    hideTips);
            history.replaceState(null, "", "/event/downloadGuide201607/index.html?aci=5&auto=1&ver=dm14542")
        }
        id ? ek.ac.Action.Go({
            name: "comic/detail",
            params: {
                comic_id: id
            }
        }) : ek.ac.Action.Go({
            name: "home/tab",
            params: {
                tab_id: ""
            }
        })
    };
    $("body")
        .on("click", checkClickAppAds)
});
(function() {
    function ModalConfirm(opts) {
        opts = opts || {};
        this.opts = opts;
        this._modalConfirmId = "modal_confirm" + (Math.round(Math.random() * 9) + 1) + (new Date)
            .getTime()
    }
    ModalConfirm.prototype = {
        showModalConfirm: function() {
            this.body = document.getElementsByTagName("body")[0];
            this.generateModalConfirm();
            this.bindEvent()
        },
        hideModalConfirm: function() {
            var _body = document.getElementsByTagName("body")[0],
                _modal_confirm = document.getElementsByClassName("modal-confirm-wrap")[0];
            _modal_confirm.classList.remove("show");
            setTimeout(function() {
                    _body.removeChild(_modal_confirm)
                },
                310)
        },
        generateModalConfirm: function() {
            var opts = this.opts,
                _modalConfirmId = this._modalConfirmId;
            if (typeof opts == "string") opts = {
                content: [opts]
            };
            var props = opts.props || {},
                className = props.className || "",
                closeBtn = props.closeBtn || false,
                content = opts.content,
                onOk = opts.onOk || {},
                onCancel = opts.onCancel || {};
            var _modal_confirm_container = document.createElement("div");
            _modal_confirm_container.className = "modal-confirm-container";
            var _modal_close_btn = document.createElement("i");
            if (closeBtn) _modal_close_btn.className =
                "icon-confirm-close-btn";
            else _modal_close_btn.className = "icon-confirm-close-btn hide";
            _modal_confirm_container.appendChild(_modal_close_btn);
            var _confirm_content = document.createElement("div");
            _confirm_content.className = "modal-confirm-content";
            if (typeof content == "string" || typeof content == "number") content = [content];
            if (typeof content == "object") {
                content.forEach(function(element) {
                    var _div = document.createElement("div");
                    _div.className = "content";
                    _div.innerHTML = element;
                    _confirm_content.appendChild(_div)
                });
                _modal_confirm_container.appendChild(_confirm_content)
            }
            var okText = onOk.text || "\u786e\u5b9a",
                cancelText = onCancel.text || "\u5173\u95ed",
                _confirm_btn_group = document.createElement("div");
            _confirm_btn_group.className = "confirm-btn-group";
            if (opts.onCancel) {
                _on_cancel_btn = document.createElement("div");
                _on_cancel_btn.className = "btn btn-cancel";
                _on_cancel_btn.id = "modal_confirm_btn_cancel";
                _on_cancel_btn.innerHTML = cancelText;
                _confirm_btn_group.appendChild(_on_cancel_btn)
            }
            if (opts.onOk) {
                _on_ok_btn = document.createElement("div");
                _on_ok_btn.className = "btn btn-ok";
                _on_ok_btn.id = "modal_confirm_btn_ok";
                _on_ok_btn.innerHTML = okText;
                _confirm_btn_group.appendChild(_on_ok_btn)
            }
            _modal_confirm_container.appendChild(_confirm_btn_group);
            var modal_confirm_wrap = document.createElement("div");
            modal_confirm_wrap.className = "modal-confirm-wrap " + className;
            modal_confirm_wrap.id = _modalConfirmId;
            modal_confirm_wrap.appendChild(_modal_confirm_container);
            document.getElementsByTagName("body")[0].appendChild(modal_confirm_wrap);
            document.getElementsByClassName("modal-confirm-wrap")[0].classList.add("show")
        },
        bindEvent: function() {
            var self = this,
                opts = self.opts || {},
                _modalConfirmId = this._modalConfirmId,
                onOk = opts.onOk && opts.onOk.callback,
                onCancel = opts.onCancel && opts.onCancel.callback;
            var _onOk = function(cb) {
                console.log("\u70b9\u51fb\u4e86OK\u6309\u94ae\uff0c\u5e76\u672a\u4f20\u5165\u4efb\u4f55\u56de\u8c03\u51fd\u6570");
                cb()
            };
            var _onCancel = function(cb) {
                console.log("\u70b9\u51fb\u4e86CANCEL\u6309\u94ae\uff0c\u5e76\u672a\u4f20\u5165\u4efb\u4f55\u56de\u8c03\u51fd\u6570");
                cb()
            };
            onOk = onOk || _onOk;
            onCancel = onCancel ||
                _onCancel;
            if (opts.onCancel) document.getElementById("modal_confirm_btn_cancel")
                .addEventListener("click", function() {
                    onCancel && typeof onCancel == "function" && onCancel(self.hideModalConfirm.bind(self))
                });
            if (opts.onOk) document.getElementById("modal_confirm_btn_ok")
                .addEventListener("click", function() {
                    onOk && typeof onOk == "function" && onOk(self.hideModalConfirm.bind(self))
                });
            if (opts.props && opts.props.closeBtn)
                if (typeof closeBtn == "function") $("#" + _blockerId)
                    .find(".icon-confirm-close-btn")
                    .on("click", function() {
                        opts.props.closeBtn(self.hide.bind(self))
                    });
                else $("#" + _blockerId)
                    .find(".icon-confirm-close-btn")
                    .on("click", function() {
                        self.hide()
                    })
        }
    };
    window.ModalConfirm = ModalConfirm
})();
(function() {
    function ModalBlocker(opts) {
        opts = opts || {};
        this.opts = opts;
        this._blockerId = "modal_block" + (Math.round(Math.random() * 9) + 1) + (new Date)
            .getTime();
        this.initBlocker()
    }
    ModalBlocker.prototype = {
        initBlocker: function() {
            this.generateBlocker();
            this.bindEvent()
        },
        show: function(cb) {
            var blocker_id = this._blockerId;
            setTimeout(function() {
                $("#" + blocker_id)
                    .addClass("show");
                $("#" + blocker_id)
                    .find(".modal-blocker-mask")
                    .addClass("show");
                $("#" + blocker_id)
                    .find(".modal-blocker-container")
                    .addClass("show")
            }, 500);
            cb && typeof cb == "function" && cb()
        },
        hide: function() {
            if (arguments.length)
                if (typeof arguments[0] == "object" && arguments[0]["bought"]) $("html")
                    .attr("style", "");
                else return;
            var blocker_id = this._blockerId;
            $("#" + blocker_id)
                .find(".modal-blocker-mask")
                .removeClass("show");
            $("#" + blocker_id)
                .find(".modal-blocker-container")
                .removeClass("show");
            setTimeout(function() {
                    console.log("blocker_id" + blocker_id);
                    $("#" + blocker_id)
                        .removeClass("show");
                    var _remove_block = document.getElementById(blocker_id);
                    document.getElementsByTagName("body")[0].removeChild(_remove_block)
                },
                510)
        },
        refreshBlock: function(params) {
            var self = this,
                blocker_id = this._blockerId,
                title = params.title,
                content = params.content,
                onOk = params.onOk,
                onCancel = params.onCancel,
                _content = "";
            if (content && (typeof content == "string" || typeof content == "number")) content = [content];
            if (typeof content == "object") content.forEach(function(element) {
                _content += "<div class='content'>" + element + "</div>"
            });
            _content ? $("#" + blocker_id)
                .find(".blocker-content")
                .html(_content) : "";
            var judgeShow = function(para, cls) {
                if (para) {
                    var _type = typeof para;
                    switch (_type) {
                        case "string":
                            $("#" + blocker_id)
                                .find(cls)
                                .html(para.text);
                            break;
                        case "object":
                            para.text ? $("#" + blocker_id)
                                .find(cls)
                                .html(para.text) : "";
                            para.callback ? $("#" + blocker_id)
                                .find(cls)
                                .off("click")
                                .on("click", function(e) {
                                    para.callback(self.hide)
                                }) : "";
                            break
                    }
                } else switch (para) {
                    case null:
                    case undefined:
                        break;
                    case false:
                        $("#" + blocker_id)
                            .find(cls)
                            .addClass("hide");
                        break
                }
            };
            judgeShow(title, ".blocker-title");
            judgeShow(onOk, ".btn-ok");
            judgeShow(onCancel, ".btn-cancel")
        },
        generateBlocker: function() {
            var opts =
                    this.opts,
                _blockerId = this._blockerId;
            if (typeof opts == "string") opts = {
                content: [opts]
            };
            var props = opts.props || {},
                onOk = opts.onOk || {},
                onCancel = opts.onCancel || {},
                content = opts.content,
                title = opts.title,
                className = props.className || "",
                closeBtn = props.closeBtn || false,
                maskCloseable = props.maskCloseable || false;
            var _modal_blocker_mask = document.createElement("div");
            _modal_blocker_mask.className = "modal-blocker-mask";
            var _modal_blocker_container = document.createElement("div");
            _modal_blocker_container.className = "modal-blocker-container";
            var _close_btn = document.createElement("div"),
                _icon_close = document.createElement("i");
            if (closeBtn) _close_btn.className = "icon-blocker-close";
            else _close_btn.className = "icon-blocker-close hide";
            _close_btn.appendChild(_icon_close);
            _modal_blocker_container.appendChild(_close_btn);
            var _title = title || false;
            if (_title) {
                _title = document.createElement("div");
                _title.className = "blocker-title";
                _title.innerHTML = title;
                _modal_blocker_container.appendChild(_title)
            }
            var _blocker_content = document.createElement("div");
            _blocker_content.className =
                "blocker-content";
            if (typeof content == "string" || typeof content == "number") content = [content];
            if (typeof content == "object") {
                content.forEach(function(element) {
                    var _div = document.createElement("div");
                    _div.className = "content";
                    _div.innerHTML = element;
                    _blocker_content.appendChild(_div)
                });
                _modal_blocker_container.appendChild(_blocker_content)
            }
            var okText = onOk.text || "\u786e\u5b9a",
                cancelText = onCancel.text || "\u5173\u95ed",
                blocker_btn_group = document.createElement("div");
            blocker_btn_group.className = "blocker-btn-group";
            if (opts.onOk) {
                _on_ok_btn = document.createElement("a");
                _on_ok_btn.className = "btn btn-ok";
                _on_ok_btn.innerHTML = okText;
                blocker_btn_group.appendChild(_on_ok_btn)
            }
            if (opts.onCancel) {
                _on_cancel_btn = document.createElement("a");
                _on_cancel_btn.className = "btn btn-cancel";
                _on_cancel_btn.innerHTML = cancelText;
                blocker_btn_group.appendChild(_on_cancel_btn)
            }
            _modal_blocker_container.appendChild(blocker_btn_group);
            var modal_blocker_wrap = document.createElement("div");
            modal_blocker_wrap.className = "modal-blocker-wrap " +
                className;
            modal_blocker_wrap.id = _blockerId;
            modal_blocker_wrap.appendChild(_modal_blocker_mask);
            modal_blocker_wrap.appendChild(_modal_blocker_container);
            var _has_modal = document.getElementsByClassName("after-action-guiding-blocker")
                .length > 0;
            if (_has_modal) return;
            document.getElementsByTagName("body")[0].appendChild(modal_blocker_wrap)
        },
        bindEvent: function() {
            var self = this,
                opts = this.opts || {},
                _blockerId = this._blockerId,
                onOk = opts.onOk && opts.onOk.callback,
                onCancel = opts.onCancel && opts.onCancel.callback;
            var _onOk =
                function(cb) {
                    console.log("\u70b9\u51fb\u4e86OK\u6309\u94ae\uff0c\u5e76\u672a\u4f20\u5165\u4efb\u4f55\u56de\u8c03\u51fd\u6570");
                    cb()
                };
            var _onCancel = function(cb) {
                console.log("\u70b9\u51fb\u4e86CANCEL\u6309\u94ae\uff0c\u5e76\u672a\u4f20\u5165\u4efb\u4f55\u56de\u8c03\u51fd\u6570");
                cb()
            };
            onOk = onOk || _onOk;
            onCancel = onCancel || _onCancel;
            if (opts.onOk) $("#" + _blockerId)
                .find(".btn-ok")
                .off("click")
                .on("click", function() {
                    onOk && typeof onOk == "function" && onOk(self.hide.bind(self))
                });
            if (opts.onCancel) $("#" + _blockerId)
                .find(".btn-cancel")
                .off("click")
                .on("click",
                    function() {
                        onCancel && typeof onCancel == "function" && onCancel(self.hide.bind(self))
                    });
            if (opts.props && opts.props.closeBtn)
                if (typeof opts.props.closeBtn == "function") $("#" + _blockerId)
                    .find(".icon-blocker-close")
                    .off("click")
                    .on("click", function() {
                        opts.props.closeBtn(self.hide.bind(self))
                    });
                else $("#" + _blockerId)
                    .find(".icon-blocker-close")
                    .off("click")
                    .on("click", function() {
                        self.hide()
                    })
        }
    };
    window.ModalBlocker = ModalBlocker
})();
!window.Dialog && (window.Dialog = PileDialog);
(function() {
    if (!window.PileDialog) return;
    (function setDialogSkin() {
        if (!PileDialog.alertDialog || !PileDialog.confirmDialog) {
            window.setTimeout(setDialogSkin, 50);
            return
        }
        PileDialog.alertDialog.setProp("skin", "light-salmon");
        PileDialog.confirmDialog.setProp("skin", "light-salmon")
    })()
})();
(function($) {
    $ && $.extend($.fn, {
        nextAll: function(s) {
            var $els = $(),
                $el = this.next();
            while ($el.length) {
                if (typeof s === "undefined" || $el.is(s)) $els = $els.add($el);
                $el = $el.next()
            }
            return $els
        },
        prevAll: function(s) {
            var $els = $(),
                $el = this.prev();
            while ($el.length) {
                if (typeof s === "undefined" || $el.is(s)) $els = $els.add($el);
                $el = $el.prev()
            }
            return $els
        }
    })
})(typeof Zepto === "undefined" ? null : Zepto);
(function() {
    var wl = window.location,
        href = wl.href,
        prefix = wl.protocol + "//" + wl.hostname,
        uri = href.replace(prefix, "");
    (new Image)
        .src = "/stats.php?t=" + +new Date + "&uri=" + uri
})();
(function() {
    if ("addEventListener" in document) document.addEventListener("DOMContentLoaded", function() {
        FastClick.attach(document.body);
        document.body.addEventListener("touchstart", function() {})
    }, false)
})();
(function() {
    var onVertical = undefined;

    function checkOrientation() {
        if (window.orientation == "-90" || window.orientation == "90") {
            var wl = window.location.href;
            if (wl.indexOf(ek.url.getDomain() + "/chapter/index/") == -1) {
                if (onVertical == undefined) onVertical = false;
                else if (onVertical == true) onVertical = false;
                Dialog.toast("\u7ad6\u5c4f\u770b\u6f2b\u753b\u66f4\u723d\u54e6\uff0c\u8f6c\u4e00\u4e0b\u561b\u256e(\u256f\u25bd\u2570)\u256d")
            }
        } else if (onVertical == undefined) onVertical = true;
        else if (onVertical == false) onVertical =
            true
    }
    window.onorientationchange = function() {
        checkOrientation()
    };
    $(function() {
        checkOrientation()
    })
})();
if (!Array.from) Array.from = function(el) {
    return Array.apply(this, el)
};
if (typeof Object.assign != "function") Object.assign = function(target) {
    if (target == null) throw new TypeError("Cannot convert undefined or null to object");
    target = Object(target);
    for (var index = 1; index < arguments.length; index++) {
        var source = arguments[index];
        if (source != null)
            for (var key in source)
                if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key]
    }
    return target
};

var TokenKey = {
    _data: undefined,
    _loading: false,
    clearCache: function() {
        this._data = null
    },
    set: function(token) {
        if (!token) return;
        this._data = token
    },
    get: function(cb) {
        var self = this,
            data = self._data;
        if (data !== undefined || ek.isApp) {
            cb && cb(data);
            return
        }
        if (self._loading) {
            window.setTimeout(function() {
                self.getData(cb)
            }, 100);
            return
        }
        self._loading = true;
        ek.ajax({
            url: "/Ajax/getToken",
            data: {},
            success: function(res) {
                console.log("\u8bf7\u6c42\u6210\u529f\uff1a", this);
                console.log("\u8fd4\u56de\u6570\u636e\uff1a", res);
                self._loading =
                    false;
                var data = res && res.data,
                    token = data && data.token || "";
                self._data = token;
                cb && cb(token)
            }
        })
    }
};
if (typeof module != "undefined" && module.exports) module.exports = TokenKey;
! function(a) {
    function b(a) {
        var b = new RegExp("(^|&)" + a + "=([^&]*)(&|$)"),
            c = location.search.substr(1)
                .match(b);
        return null != c ? decodeURIComponent(c[2]) : null
    }

    function c() {
        var a = "iframe_hijack_redirected";
        if (b(a)) f(0);
        else if (self != top) {
            var c = location.href,
                d = c.split("#");
            d[0] += location.search ? "&" + a + "=1" : "?" + a + "=1";
            try {
                top.location = d.join("#")
            } catch (e$101) {}
        }
    }

    function d() {
        if (a.XMLSerializer) {
            var b = (new XMLSerializer)
                    .serializeToString(document),
                c = b.match(/\x3c!--headTrap.*?--\x3e/),
                d = b.match(/\x3c!--tailTrap.*?--\x3e/);
            (c && c[0] && c[0].length > 54 || d && d[0] && d[0].length > 54) && f(3)
        }
    }

    function e(a) {
        var b = a ? a.srcElement : document.documentElement;
        if (b.outerHTML) {
            for (var c = /(https?:)?\/\/[a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6}(:[0-9]{1,6})?\/?[^'")\s]*/gi, d = /^(https?:)?\/\/([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})/i, e = [], g = [b], h = b.getElementsByTagName("*"), i = 0; i < h.length; i++) g.push(h[i]);
            for (var i = 0; i < g.length; i++) {
                var j = g[i],
                    l = null;
                if ("IMG" == j.nodeName.toUpperCase() && j.src && d.test(j.src)) l = [j.src];
                else if ("LINK" == j.nodeName.toUpperCase()) {
                    var m =
                        j.getAttribute("href");
                    m && d.test(m) && (l = [m])
                } else "STYLE" == j.nodeName.toUpperCase() ? l = j.innerHTML.match(c) : "IFRAME" == j.nodeName.toUpperCase() && j.src && d.test(j.src) ? l = [j.src] : j.getAttribute("style") && (l = j.getAttribute("style")
                    .match(c));
                if (l) {
                    for (var n = !1, o = 0; o < l.length; o++) {
                        var p = d.exec(l[o]);
                        p && p[2] && k.test(p[2]) || (e.push(l[o]), n = !0)
                    }
                    n && j.setAttribute("style", "display:none;position:fixed;top:10000px;")
                }
            }
            e.length && (a && b.setAttribute("style", "display:none;position:fixed;top:-10000px;"), f(a ? 2 : 1, e))
        }
    }

    function f(a, b) {
        if (!l[a]) {
            l[a] = !0;
            var c = {
                project_id: j,
                department_id: i,
                hijack_type: a,
                page_url: location.href,
                blocked: 1
            };
            if (b && (c.ad_url = b.join("||")), 1 == a) {
                for (var d = document.head.outerHTML, e = document.body.children, f = 0; f < e.length; f++) {
                    var g = e[f];
                    "IFRAME" == g.nodeName.toUpperCase() && g.src && 0 != g.src.indexOf("http") || (d += g.outerHTML)
                }
                d = d.replace(/<script[^>]*>[\s\S]*?<\/script>/gi, ""), d = d.replace(/<style[^>]*>[\s\S]*?<\/style>/gi, ""), c.html_dom = d
            }
            setTimeout(function() {
                h(c)
            }, 500)
        }
    }

    function g() {
        50 * Math.random() <
        1 && h({
            project_id: j,
            department_id: i,
            pv: 1
        })
    }

}(window);
